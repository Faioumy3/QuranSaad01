(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function l0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qf={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function wE(){if(zy)return Xl;zy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var Uy;function xE(){return Uy||(Uy=1,qf.exports=wE()),qf.exports}var E=xE(),Pf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function RE(){if(Ly)return wt;Ly=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function at(O,K,it){this.props=O,this.context=K,this.refs=Y,this.updater=it||tt}at.prototype.isReactComponent={},at.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ht(){}ht.prototype=at.prototype;function ut(O,K,it){this.props=O,this.context=K,this.refs=Y,this.updater=it||tt}var Tt=ut.prototype=new ht;Tt.constructor=ut,W(Tt,at.prototype),Tt.isPureReactComponent=!0;var yt=Array.isArray;function At(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function A(O,K,it){var lt=it.ref;return{$$typeof:s,type:O,key:K,ref:lt!==void 0?lt:null,props:it}}function V(O,K){return A(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var R=/\/+/g;function st(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function It(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(At,At):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,it,lt,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(Rt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case e:Ut=!0;break;case S:return Ut=O._init,H(Ut(O._payload),K,it,lt,Et)}}if(Ut)return Et=Et(O),Ut=lt===""?"."+st(O,0):lt,yt(Et)?(it="",Ut!=null&&(it=Ut.replace(R,"$&/")+"/"),H(Et,K,it,"",function(Pi){return Pi})):Et!=null&&(N(Et)&&(Et=V(Et,it+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Ut)),K.push(Et)),1;Ut=0;var Ee=lt===""?".":lt+":";if(yt(O))for(var le=0;le<O.length;le++)lt=O[le],Rt=Ee+st(lt,le),Ut+=H(lt,K,it,Rt,Et);else if(le=Q(O),typeof le=="function")for(O=le.call(O),le=0;!(lt=O.next()).done;)lt=lt.value,Rt=Ee+st(lt,le++),Ut+=H(lt,K,it,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return H(It(O),K,it,lt,Et);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(O,K,it){if(O==null)return O;var lt=[],Et=0;return H(O,lt,"","",function(Rt){return K.call(it,Rt,Et++)}),lt}function mt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Mt={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=w,wt.Children=Mt,wt.Component=at,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=ut,wt.StrictMode=r,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=W({},O.props),Et=O.key;if(K!=null)for(Rt in K.key!==void 0&&(Et=""+K.key),K)!x.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(lt[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=it;else if(1<Rt){for(var Ut=Array(Rt),Ee=0;Ee<Rt;Ee++)Ut[Ee]=arguments[Ee+2];lt.children=Ut}return A(O.type,Et,lt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},wt.createElement=function(O,K,it){var lt,Et={},Rt=null;if(K!=null)for(lt in K.key!==void 0&&(Rt=""+K.key),K)x.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=K[lt]);var Ut=arguments.length-2;if(Ut===1)Et.children=it;else if(1<Ut){for(var Ee=Array(Ut),le=0;le<Ut;le++)Ee[le]=arguments[le+2];Et.children=Ee}if(O&&O.defaultProps)for(lt in Ut=O.defaultProps,Ut)Et[lt]===void 0&&(Et[lt]=Ut[lt]);return A(O,Rt,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:mt}},wt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},wt.startTransition=function(O){var K=C.T,it={};C.T=it;try{var lt=O(),Et=C.S;Et!==null&&Et(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(At,Vt)}catch(Rt){Vt(Rt)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,K,it){return C.H.useActionState(O,K,it)},wt.useCallback=function(O,K){return C.H.useCallback(O,K)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},wt.useEffect=function(O,K){return C.H.useEffect(O,K)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,K,it){return C.H.useImperativeHandle(O,K,it)},wt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},wt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},wt.useMemo=function(O,K){return C.H.useMemo(O,K)},wt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},wt.useReducer=function(O,K,it){return C.H.useReducer(O,K,it)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,K,it){return C.H.useSyncExternalStore(O,K,it)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var ky;function Vd(){return ky||(ky=1,Pf.exports=RE()),Pf.exports}var dt=Vd();const CE=l0(dt);var Hf={exports:{}},Kl={},Gf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function NE(){return By||(By=1,(function(s){function e(H,nt){var mt=H.length;H.push(nt);t:for(;0<mt;){var Vt=mt-1>>>1,Mt=H[Vt];if(0<o(Mt,nt))H[Vt]=nt,H[mt]=Mt,mt=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],mt=H.pop();if(mt!==nt){H[0]=mt;t:for(var Vt=0,Mt=H.length,O=Mt>>>1;Vt<O;){var K=2*(Vt+1)-1,it=H[K],lt=K+1,Et=H[lt];if(0>o(it,mt))lt<Mt&&0>o(Et,it)?(H[Vt]=Et,H[lt]=mt,Vt=lt):(H[Vt]=it,H[K]=mt,Vt=K);else if(lt<Mt&&0>o(Et,mt))H[Vt]=Et,H[lt]=mt,Vt=lt;else break t}}return nt}function o(H,nt){var mt=H.sortIndex-nt.sortIndex;return mt!==0?mt:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,w=null,I=3,Q=!1,tt=!1,W=!1,Y=!1,at=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Tt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=H)r(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function yt(H){if(W=!1,Tt(H),!tt)if(i(v)!==null)tt=!0,At||(At=!0,j());else{var nt=i(_);nt!==null&&It(yt,nt.startTime-H)}}var At=!1,C=-1,x=5,A=-1;function V(){return Y?!0:!(s.unstable_now()-A<x)}function N(){if(Y=!1,At){var H=s.unstable_now();A=H;var nt=!0;try{t:{tt=!1,W&&(W=!1,ht(C),C=-1),Q=!0;var mt=I;try{e:{for(Tt(H),w=i(v);w!==null&&!(w.expirationTime>H&&V());){var Vt=w.callback;if(typeof Vt=="function"){w.callback=null,I=w.priorityLevel;var Mt=Vt(w.expirationTime<=H);if(H=s.unstable_now(),typeof Mt=="function"){w.callback=Mt,Tt(H),nt=!0;break e}w===i(v)&&r(v),Tt(H)}else r(v);w=i(v)}if(w!==null)nt=!0;else{var O=i(_);O!==null&&It(yt,O.startTime-H),nt=!1}}break t}finally{w=null,I=mt,Q=!1}nt=void 0}}finally{nt?j():At=!1}}}var j;if(typeof ut=="function")j=function(){ut(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=N,j=function(){st.postMessage(null)}}else j=function(){at(N,0)};function It(H,nt){C=at(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var mt=I;I=nt;try{return H()}finally{I=mt}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=I;I=H;try{return nt()}finally{I=mt}},s.unstable_scheduleCallback=function(H,nt,mt){var Vt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Vt+mt:Vt):mt=Vt,H){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=mt+Mt,H={id:S++,callback:nt,priorityLevel:H,startTime:mt,expirationTime:Mt,sortIndex:-1},mt>Vt?(H.sortIndex=mt,e(_,H),i(v)===null&&H===i(_)&&(W?(ht(C),C=-1):W=!0,It(yt,mt-Vt))):(H.sortIndex=Mt,e(v,H),tt||Q||(tt=!0,At||(At=!0,j()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var nt=I;return function(){var mt=I;I=nt;try{return H.apply(this,arguments)}finally{I=mt}}}})(Qf)),Qf}var qy;function DE(){return qy||(qy=1,Gf.exports=NE()),Gf.exports}var Ff={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function VE(){if(Py)return sn;Py=1;var s=Vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},sn.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},sn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},sn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},sn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:Q}):S==="script"&&r.d.X(v,{crossOrigin:w,integrity:I,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},sn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},sn.requestFormReset=function(v){r.d.r(v)},sn.unstable_batchedUpdates=function(v,_){return v(_)},sn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Hy;function IE(){if(Hy)return Ff.exports;Hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=VE(),Ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function ME(){if(Gy)return Kl;Gy=1;var s=DE(),e=Vd(),i=IE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===a){g=!0,a=c,l=f;break}if(T===l){g=!0,l=c,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,l=c;break}if(T===l){g=!0,l=f,a=c;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case at:return"Profiler";case Y:return"StrictMode";case yt:return"Suspense";case At:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case ut:return t.displayName||"Context";case ht:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var It=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Vt=[],Mt=-1;function O(t){return{current:t}}function K(t){0>Mt||(t.current=Vt[Mt],Vt[Mt]=null,Mt--)}function it(t,n){Mt++,Vt[Mt]=t.current,t.current=n}var lt=O(null),Et=O(null),Rt=O(null),Ut=O(null);function Ee(t,n){switch(it(Rt,n),it(Et,t),it(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(lt),it(lt,t)}function le(){K(lt),K(Et),K(Rt)}function Pi(t){t.memoizedState!==null&&it(Ut,t);var n=lt.current,a=ry(n,t.type);n!==a&&(it(Et,t),it(lt,a))}function da(t){Et.current===t&&(K(lt),K(Et)),Ut.current===t&&(K(Ut),Gl._currentValue=mt)}var Hi,k;function Ot(t){if(Hi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Hi=n&&n[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+t+k}var pe=!1;function ee(t,n){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var D=g.split(`
`),B=T.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var F=`
`+D[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ot(a):""}function Pe(t,n){switch(t.tag){case 26:case 27:case 5:return Ot(t.type);case 16:return Ot("Lazy");case 13:return t.child!==n&&n!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return ee(t.type,!1);case 11:return ee(t.type.render,!1);case 1:return ee(t.type,!0);case 31:return Ot("Activity");default:return""}}function Ye(t){try{var n="",a=null;do n+=Pe(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Zt=Object.prototype.hasOwnProperty,Te=s.unstable_scheduleCallback,jn=s.unstable_cancelCallback,ui=s.unstable_shouldYield,ci=s.unstable_requestPaint,Xe=s.unstable_now,un=s.unstable_getCurrentPriorityLevel,ma=s.unstable_ImmediatePriority,ss=s.unstable_UserBlockingPriority,hi=s.unstable_NormalPriority,bo=s.unstable_LowPriority,So=s.unstable_IdlePriority,Ao=s.log,wo=s.unstable_setDisableYieldValue,Zn=null,Ke=null;function zn(t){if(typeof Ao=="function"&&wo(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Zn,t)}catch{}}var be=Math.clz32?Math.clz32:Ro,xo=Math.log,Ps=Math.LN2;function Ro(t){return t>>>=0,t===0?32:31-(xo(t)/Ps|0)|0}var fi=256,rs=262144,Ce=4194304;function di(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=di(l):(g&=T,g!==0?c=di(g):a||(a=T&~t,a!==0&&(c=di(a))))):(T=l&~f,T!==0?c=di(T):g!==0?c=di(g):a||(a=l&~t,a!==0&&(c=di(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),t}function gi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ls(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-be(a),$=1<<F;T[F]=0,D[F]=-1;var q=B[F];if(q!==null)for(B[F]=null,F=0;F<q.length;F++){var G=q[F];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&os(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function os(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-be(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Zr(t,n){var a=n&-n;return a=(a&42)!==0?1:us(a),(a&(t.suspendedLanes|n))!==0?0:a}function us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function No(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Ny(t.type))}function Jn(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var Wn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Wn,He="__reactProps$"+Wn,pi="__reactContainer$"+Wn,Hs="__reactEvents$"+Wn,Fc="__reactListeners$"+Wn,Do="__reactHandles$"+Wn,Vo="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function Gs(t){delete t[Ne],delete t[He],delete t[Hs],delete t[Fc],delete t[Do]}function _i(t){var n=t[Ne];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pi]||a[Ne]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dy(t);t!==null;){if(a=t[Ne])return a;t=dy(t)}return n}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Ne]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function vi(t){var n=t[Vo];return n||(n=t[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(t){t[yi]=!0}var $r=new Set,Jr={};function Ei(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Jr[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Io(t){return Zt.call(el,t)?!0:Zt.call(tl,t)?!1:Wr.test(t)?el[t]=!0:(tl[t]=!0,!1)}function Qs(t,n,a){if(Io(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function An(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ge(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ga(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Jt(t){if(!t._valueTracker){var n=ga(t)?"checked":"value";t._valueTracker=nl(t,n,""+t[n])}}function cs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ga(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hs=/[\n"\\]/g;function dn(t){return t.replace(hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fs(t,n,a,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ge(n)):t.value!==""+Ge(n)&&(t.value=""+Ge(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?il(t,g,Ge(n)):a!=null?il(t,g,Ge(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ge(T):t.removeAttribute("name")}function Mo(t,n,a,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(t);return}a=a!=null?""+Ge(a):"",n=n!=null?""+Ge(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Jt(t)}function il(t,n,a){n==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pa(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ge(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Oo(t,n,a){if(n!=null&&(n=""+Ge(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ge(a):""}function ya(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(It(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ge(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Jt(t)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||jo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function sl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&al(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&al(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(t){return _a.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var rl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var va=null,Si=null;function fs(t){var n=Un(t);if(n&&(t=n.stateNode)){var a=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[He]||null;if(!c)throw Error(r(90));Fs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&cs(l)}break t;case"textarea":Oo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pa(t,!!a.multiple,n,!1)}}}var Ks=!1;function Ea(t,n,a){if(Ks)return t(n,a);Ks=!0;try{var l=t(n);return l}finally{if(Ks=!1,(va!==null||Si!==null)&&(Nu(),va&&(n=va,t=Si,Si=va=null,fs(n),t)))for(n=0;n<t.length;n++)fs(t[n])}}function ei(t,n){var a=t.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ds=!1}var Ai=null,ll=null,ms=null;function ol(){if(ms)return ms;var t,n=ll,a=n.length,l,c="value"in Ai?Ai.value:Ai.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return ms=c.slice(t,1<l?1-l:void 0)}function gs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ni(){return!1}function Ze(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ze(Fi),Ta=w({},Fi,{view:0,detail:0}),ul=Ze(Ta),ba,Zs,xi,$s=w({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(ba=t.screenX-xi.screenX,Zs=t.screenY-xi.screenY):Zs=ba=0,xi=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Zs}}),cl=Ze($s),ps=w({},$s,{dataTransfer:0}),Uo=Ze(ps),Lo=w({},Ta,{relatedTarget:0}),ys=Ze(Lo),hl=w({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ko=Ze(hl),Js=w({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bo=Ze(Js),qo=w({},Fi,{data:0}),Ri=Ze(qo),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Go[t])?!!n[t]:!1}function Sa(){return Qo}var cn=w({},Ta,{key:function(t){if(t.key){var n=Po[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fo=Ze(cn),Yo=w({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ze(Yo),u=w({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),m=Ze(u),y=w({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ze(y),U=w({},$s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Ze(U),et=w({},Fi,{newState:0,oldState:0}),Ct=Ze(et),Se=[9,13,27,32],Xt=kn&&"CompositionEvent"in window,de=null;kn&&"documentMode"in document&&(de=document.documentMode);var Bn=kn&&"TextEvent"in window&&!de,Ci=kn&&(!Xt||de&&8<de&&11>=de),ii=" ",ai=!1;function _s(t,n){switch(t){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ws(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tr=!1;function Kv(t,n){switch(t){case"compositionend":return Ws(n);case"keypress":return n.which!==32?null:(ai=!0,ii);case"textInput":return t=n.data,t===ii&&ai?null:t;default:return null}}function Zv(t,n){if(tr)return t==="compositionend"||!Xt&&_s(t,n)?(t=ol(),ms=ll=Ai=null,tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$v[t.type]:n==="textarea"}function ym(t,n,a,l){va?Si?Si.push(l):Si=[l]:va=l,n=zu(n,"onChange"),0<n.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var fl=null,dl=null;function Jv(t){Wp(t,0)}function Xo(t){var n=Sn(t);if(cs(n))return t}function _m(t,n){if(t==="change")return n}var vm=!1;if(kn){var Yc;if(kn){var Xc="oninput"in document;if(!Xc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Xc=typeof Em.oninput=="function"}Yc=Xc}else Yc=!1;vm=Yc&&(!document.documentMode||9<document.documentMode)}function Tm(){fl&&(fl.detachEvent("onpropertychange",bm),dl=fl=null)}function bm(t){if(t.propertyName==="value"&&Xo(dl)){var n=[];ym(n,dl,t,Ln(t)),Ea(Jv,n)}}function Wv(t,n,a){t==="focusin"?(Tm(),fl=n,dl=a,fl.attachEvent("onpropertychange",bm)):t==="focusout"&&Tm()}function t1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(dl)}function e1(t,n){if(t==="click")return Xo(n)}function n1(t,n){if(t==="input"||t==="change")return Xo(n)}function i1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:i1;function ml(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Zt.call(n,c)||!wn(t[c],n[c]))return!1}return!0}function Sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Am(t,n){var a=Sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sm(a)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=bi(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var a1=kn&&"documentMode"in document&&11>=document.documentMode,er=null,Zc=null,gl=null,$c=!1;function Rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||er==null||er!==bi(l)||(l=er,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=zu(Zc,"onSelect"),0<l.length&&(n=new wi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=er)))}function vs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var nr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Jc={},Cm={};kn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function Es(t){if(Jc[t])return Jc[t];if(!nr[t])return t;var n=nr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cm)return Jc[t]=n[a];return t}var Nm=Es("animationend"),Dm=Es("animationiteration"),Vm=Es("animationstart"),s1=Es("transitionrun"),r1=Es("transitionstart"),l1=Es("transitioncancel"),Im=Es("transitionend"),Mm=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function si(t,n){Mm.set(t,n),Ei(n,[t])}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],ir=0,th=0;function Zo(){for(var t=ir,n=th=ir=0;n<t;){var a=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var c=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Om(a,c,f)}}function $o(t,n,a,l){qn[ir++]=t,qn[ir++]=n,qn[ir++]=a,qn[ir++]=l,th|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function eh(t,n,a,l){return $o(t,n,a,l),Jo(t)}function Ts(t,n){return $o(t,null,null,n),Jo(t)}function Om(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-be(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Jo(t){if(50<Ul)throw Ul=0,hf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ar={};function o1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,l){return new o1(t,n,a,l)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Wo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")nh(t)&&(g=1);else if(typeof t=="string")g=dE(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case A:return t=xn(31,a,n,c),t.elementType=A,t.lanes=f,t;case W:return bs(a.children,c,f,n);case Y:g=8,c|=24;break;case at:return t=xn(12,a,n,c|2),t.elementType=at,t.lanes=f,t;case yt:return t=xn(13,a,n,c),t.elementType=yt,t.lanes=f,t;case At:return t=xn(19,a,n,c),t.elementType=At,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:g=10;break t;case ht:g=9;break t;case Tt:g=11;break t;case C:g=14;break t;case x:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=xn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function bs(t,n,a,l){return t=xn(7,t,l,n),t.lanes=a,t}function ih(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function zm(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function ah(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Um=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var a=Um.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ye(n)},Um.set(t,n),n)}return{value:t,source:n,stack:Ye(n)}}var sr=[],rr=0,tu=null,pl=0,Hn=[],Gn=0,Aa=null,Ni=1,Di="";function Ki(t,n){sr[rr++]=pl,sr[rr++]=tu,tu=t,pl=n}function Lm(t,n,a){Hn[Gn++]=Ni,Hn[Gn++]=Di,Hn[Gn++]=Aa,Aa=t;var l=Ni;t=Di;var c=32-be(l)-1;l&=~(1<<c),a+=1;var f=32-be(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ni=1<<32-be(n)+c|a<<c|l,Di=f+t}else Ni=1<<f|a<<c|l,Di=t}function sh(t){t.return!==null&&(Ki(t,1),Lm(t,1,0))}function rh(t){for(;t===tu;)tu=sr[--rr],sr[rr]=null,pl=sr[--rr],sr[rr]=null;for(;t===Aa;)Aa=Hn[--Gn],Hn[Gn]=null,Di=Hn[--Gn],Hn[Gn]=null,Ni=Hn[--Gn],Hn[Gn]=null}function km(t,n){Hn[Gn++]=Ni,Hn[Gn++]=Di,Hn[Gn++]=Aa,Ni=n.id,Di=n.overflow,Aa=t}var $e=null,ce=null,Pt=!1,wa=null,Qn=!1,lh=Error(r(519));function xa(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Pn(n,t)),lh}function Bm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ne]=t,n[He]=l,a){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(a=0;a<kl.length;a++)zt(kl[a],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),Mo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),ya(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||iy(n.textContent,a)?(l.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),l.onScroll!=null&&zt("scroll",n),l.onScrollEnd!=null&&zt("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||xa(t,!0)}function qm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$e=$e.return}}function lr(t){if(t!==$e)return!1;if(!Pt)return qm(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xf(t.type,t.memoizedProps)),a=!a),a&&ce&&xa(t),qm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ce=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ce=fy(t)}else n===27?(n=ce,Ba(t.type)?(t=Vf,Vf=null,ce=t):ce=n):ce=$e?Yn(t.stateNode.nextSibling):null;return!0}function Ss(){ce=$e=null,Pt=!1}function oh(){var t=wa;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),wa=null),t}function yl(t){wa===null?wa=[t]:wa.push(t)}var uh=O(null),As=null,Zi=null;function Ra(t,n,a){it(uh,n._currentValue),n._currentValue=a}function $i(t){t._currentValue=uh.current,K(uh)}function ch(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function hh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ch(f.return,a,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ch(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function or(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=c.type;wn(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Ut.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}c=c.return}t!==null&&hh(n,t,a,l),n.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){As=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return Pm(As,t)}function nu(t,n){return As===null&&ws(t),Pm(t,n)}function Pm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(r(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return a}var u1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},c1=s.unstable_scheduleCallback,h1=s.unstable_NormalPriority,Ie={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new u1,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&c1(h1,function(){t.controller.abort()})}var vl=null,dh=0,ur=0,cr=null;function f1(t,n){if(vl===null){var a=vl=[];dh=0,ur=yf(),cr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dh++,n.then(Hm,Hm),n}function Hm(){if(--dh===0&&vl!==null){cr!==null&&(cr.status="fulfilled");var t=vl;vl=null,ur=0,cr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function d1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Gm=H.S;H.S=function(t,n){Rp=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(t,n),Gm!==null&&Gm(t,n)};var xs=O(null);function mh(){var t=xs.current;return t!==null?t:re.pooledCache}function iu(t,n){n===null?it(xs,xs.current):it(xs,n.pool)}function Qm(){var t=mh();return t===null?null:{parent:Ie._currentValue,pool:t}}var hr=Error(r(460)),gh=Error(r(474)),au=Error(r(542)),su={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ym(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ti,ti),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t}throw Cs=n,hr}}function Rs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,hr):a}}var Cs=null;function Xm(){if(Cs===null)throw Error(r(459));var t=Cs;return Cs=null,t}function Km(t){if(t===hr||t===au)throw Error(r(483))}var fr=null,El=0;function ru(t){var n=El;return El+=1,fr===null&&(fr=[]),Ym(fr,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){function n(z,M){if(t){var L=z.deletions;L===null?(z.deletions=[M],z.flags|=16):L.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Xi(z,M),z.index=0,z.sibling=null,z}function f(z,M,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<M?(z.flags|=67108866,M):L):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,L,X){return M===null||M.tag!==6?(M=ih(L,z.mode,X),M.return=z,M):(M=c(M,L),M.return=z,M)}function D(z,M,L,X){var gt=L.type;return gt===W?F(z,M,L.props.children,X,L.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Rs(gt)===M.type)?(M=c(M,L.props),Tl(M,L),M.return=z,M):(M=Wo(L.type,L.key,L.props,null,z.mode,X),Tl(M,L),M.return=z,M)}function B(z,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=ah(L,z.mode,X),M.return=z,M):(M=c(M,L.children||[]),M.return=z,M)}function F(z,M,L,X,gt){return M===null||M.tag!==7?(M=bs(L,z.mode,X,gt),M.return=z,M):(M=c(M,L),M.return=z,M)}function $(z,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ih(""+M,z.mode,L),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return L=Wo(M.type,M.key,M.props,null,z.mode,L),Tl(L,M),L.return=z,L;case tt:return M=ah(M,z.mode,L),M.return=z,M;case x:return M=Rs(M),$(z,M,L)}if(It(M)||j(M))return M=bs(M,z.mode,L,null),M.return=z,M;if(typeof M.then=="function")return $(z,ru(M),L);if(M.$$typeof===ut)return $(z,nu(z,M),L);lu(z,M)}return null}function q(z,M,L,X){var gt=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return gt!==null?null:T(z,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===gt?D(z,M,L,X):null;case tt:return L.key===gt?B(z,M,L,X):null;case x:return L=Rs(L),q(z,M,L,X)}if(It(L)||j(L))return gt!==null?null:F(z,M,L,X,null);if(typeof L.then=="function")return q(z,M,ru(L),X);if(L.$$typeof===ut)return q(z,M,nu(z,L),X);lu(z,L)}return null}function G(z,M,L,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(L)||null,T(M,z,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return z=z.get(X.key===null?L:X.key)||null,D(M,z,X,gt);case tt:return z=z.get(X.key===null?L:X.key)||null,B(M,z,X,gt);case x:return X=Rs(X),G(z,M,L,X,gt)}if(It(X)||j(X))return z=z.get(L)||null,F(M,z,X,gt,null);if(typeof X.then=="function")return G(z,M,L,ru(X),gt);if(X.$$typeof===ut)return G(z,M,L,nu(M,X),gt);lu(M,X)}return null}function ct(z,M,L,X){for(var gt=null,Ft=null,ft=M,Dt=M=0,kt=null;ft!==null&&Dt<L.length;Dt++){ft.index>Dt?(kt=ft,ft=null):kt=ft.sibling;var Yt=q(z,ft,L[Dt],X);if(Yt===null){ft===null&&(ft=kt);break}t&&ft&&Yt.alternate===null&&n(z,ft),M=f(Yt,M,Dt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt,ft=kt}if(Dt===L.length)return a(z,ft),Pt&&Ki(z,Dt),gt;if(ft===null){for(;Dt<L.length;Dt++)ft=$(z,L[Dt],X),ft!==null&&(M=f(ft,M,Dt),Ft===null?gt=ft:Ft.sibling=ft,Ft=ft);return Pt&&Ki(z,Dt),gt}for(ft=l(ft);Dt<L.length;Dt++)kt=G(ft,z,Dt,L[Dt],X),kt!==null&&(t&&kt.alternate!==null&&ft.delete(kt.key===null?Dt:kt.key),M=f(kt,M,Dt),Ft===null?gt=kt:Ft.sibling=kt,Ft=kt);return t&&ft.forEach(function(Qa){return n(z,Qa)}),Pt&&Ki(z,Dt),gt}function _t(z,M,L,X){if(L==null)throw Error(r(151));for(var gt=null,Ft=null,ft=M,Dt=M=0,kt=null,Yt=L.next();ft!==null&&!Yt.done;Dt++,Yt=L.next()){ft.index>Dt?(kt=ft,ft=null):kt=ft.sibling;var Qa=q(z,ft,Yt.value,X);if(Qa===null){ft===null&&(ft=kt);break}t&&ft&&Qa.alternate===null&&n(z,ft),M=f(Qa,M,Dt),Ft===null?gt=Qa:Ft.sibling=Qa,Ft=Qa,ft=kt}if(Yt.done)return a(z,ft),Pt&&Ki(z,Dt),gt;if(ft===null){for(;!Yt.done;Dt++,Yt=L.next())Yt=$(z,Yt.value,X),Yt!==null&&(M=f(Yt,M,Dt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt);return Pt&&Ki(z,Dt),gt}for(ft=l(ft);!Yt.done;Dt++,Yt=L.next())Yt=G(ft,z,Dt,Yt.value,X),Yt!==null&&(t&&Yt.alternate!==null&&ft.delete(Yt.key===null?Dt:Yt.key),M=f(Yt,M,Dt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt);return t&&ft.forEach(function(AE){return n(z,AE)}),Pt&&Ki(z,Dt),gt}function se(z,M,L,X){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var gt=L.key;M!==null;){if(M.key===gt){if(gt=L.type,gt===W){if(M.tag===7){a(z,M.sibling),X=c(M,L.props.children),X.return=z,z=X;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Rs(gt)===M.type){a(z,M.sibling),X=c(M,L.props),Tl(X,L),X.return=z,z=X;break t}a(z,M);break}else n(z,M);M=M.sibling}L.type===W?(X=bs(L.props.children,z.mode,X,L.key),X.return=z,z=X):(X=Wo(L.type,L.key,L.props,null,z.mode,X),Tl(X,L),X.return=z,z=X)}return g(z);case tt:t:{for(gt=L.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(z,M.sibling),X=c(M,L.children||[]),X.return=z,z=X;break t}else{a(z,M);break}else n(z,M);M=M.sibling}X=ah(L,z.mode,X),X.return=z,z=X}return g(z);case x:return L=Rs(L),se(z,M,L,X)}if(It(L))return ct(z,M,L,X);if(j(L)){if(gt=j(L),typeof gt!="function")throw Error(r(150));return L=gt.call(L),_t(z,M,L,X)}if(typeof L.then=="function")return se(z,M,ru(L),X);if(L.$$typeof===ut)return se(z,M,nu(z,L),X);lu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(z,M.sibling),X=c(M,L),X.return=z,z=X):(a(z,M),X=ih(L,z.mode,X),X.return=z,z=X),g(z)):a(z,M)}return function(z,M,L,X){try{El=0;var gt=se(z,M,L,X);return fr=null,gt}catch(ft){if(ft===hr||ft===au)throw ft;var Ft=xn(29,ft,null,z.mode);return Ft.lanes=X,Ft.return=z,Ft}finally{}}}var Ns=Zm(!0),$m=Zm(!1),Ca=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Jo(t),Om(t,null,a),n}return $o(t,l,n,a),Jo(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kr(t,a)}}function _h(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var vh=!1;function Sl(){if(vh){var t=cr;if(t!==null)throw t}}function Al(t,n,a,l){vh=!1;var c=t.updateQueue;Ca=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var D=T,B=D.next;D.next=null,g===null?f=B:g.next=B,g=D;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=B:T.next=B,F.lastBaseUpdate=D))}if(f!==null){var $=c.baseState;g=0,F=B=D=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Lt&q)===q:(l&q)===q){q!==0&&q===ur&&(vh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,_t=T;q=n;var se=a;switch(_t.tag){case 1:if(ct=_t.payload,typeof ct=="function"){$=ct.call(se,$,q);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=_t.payload,q=typeof ct=="function"?ct.call(se,$,q):ct,q==null)break t;$=w({},$,q);break t;case 2:Ca=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(B=F=G,D=$):F=F.next=G,g|=q;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;G=T,T=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);F===null&&(D=$),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ja|=g,t.lanes=g,t.memoizedState=$}}function Jm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jm(a[t],n)}var dr=O(null),ou=O(0);function tg(t,n){t=ra,it(ou,t),it(dr,n),ra=t|n.baseLanes}function Eh(){it(ou,ra),it(dr,dr.current)}function Th(){ra=ou.current,K(dr),K(ou)}var Rn=O(null),Fn=null;function Va(t){var n=t.alternate;it(Ae,Ae.current&1),it(Rn,t),Fn===null&&(n===null||dr.current!==null||n.memoizedState!==null)&&(Fn=t)}function bh(t){it(Ae,Ae.current),it(Rn,t),Fn===null&&(Fn=t)}function eg(t){t.tag===22?(it(Ae,Ae.current),it(Rn,t),Fn===null&&(Fn=t)):Ia()}function Ia(){it(Ae,Ae.current),it(Rn,Rn.current)}function Cn(t){K(Rn),Fn===t&&(Fn=null),K(Ae)}var Ae=O(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nf(a)||Df(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Nt=null,ie=null,Me=null,cu=!1,mr=!1,Ds=!1,hu=0,wl=0,gr=null,m1=0;function ye(){throw Error(r(321))}function Sh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!wn(t[a],n[a]))return!1;return!0}function Ah(t,n,a,l,c,f){return Ji=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Lg:kh,Ds=!1,f=a(l,c),Ds=!1,mr&&(f=ig(n,a,l,c)),ng(t),f}function ng(t){H.H=Cl;var n=ie!==null&&ie.next!==null;if(Ji=0,Me=ie=Nt=null,cu=!1,wl=0,gr=null,n)throw Error(r(300));t===null||Oe||(t=t.dependencies,t!==null&&eu(t)&&(Oe=!0))}function ig(t,n,a,l){Nt=t;var c=0;do{if(mr&&(gr=null),wl=0,mr=!1,25<=c)throw Error(r(301));if(c+=1,Me=ie=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=kg,f=n(a,l)}while(mr);return f}function g1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(ie!==null?ie.memoizedState:null)!==t&&(Nt.flags|=1024),n}function wh(){var t=hu!==0;return hu=0,t}function xh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Rh(t){if(cu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}cu=!1}Ji=0,Me=ie=Nt=null,mr=!1,wl=hu=0,gr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Nt.memoizedState=Me=t:Me=Me.next=t,Me}function we(){if(ie===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var n=Me===null?Nt.memoizedState:Me.next;if(n!==null)Me=n,ie=t;else{if(t===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Nt.memoizedState=Me=t:Me=Me.next=t}return Me}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=wl;return wl+=1,gr===null&&(gr=[]),t=Ym(gr,t,n),n=Nt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Lg:kh),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===ut)return Je(t)}throw Error(r(438,String(t)))}function Ch(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=fu(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function Wi(t,n){return typeof n=="function"?n(t):n}function mu(t){var n=we();return Nh(n,ie,t)}function Nh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,D=null,B=n,F=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Lt&$)===$:(Ji&$)===$){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===ur&&(F=!0);else if((Ji&q)===q){B=B.next,q===ur&&(F=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=$,g=f):D=D.next=$,Nt.lanes|=q,ja|=q;$=B.action,Ds&&a(f,$),f=B.hasEagerState?B.eagerState:a(f,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,g=f):D=D.next=q,Nt.lanes|=$,ja|=$;B=B.next}while(B!==null&&B!==n);if(D===null?g=f:D.next=T,!wn(f,t.memoizedState)&&(Oe=!0,F&&(a=cr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Dh(t){var n=we(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);wn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function ag(t,n,a){var l=Nt,c=we(),f=Pt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!wn((ie||c).memoizedState,a);if(g&&(c.memoizedState=a,Oe=!0),c=c.queue,Mh(lg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,pr(9,{destroy:void 0},rg.bind(null,l,c,a,n),null),re===null)throw Error(r(349));f||(Ji&127)!==0||sg(l,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=fu(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function rg(t,n,a,l){n.value=a,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,a){return a(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!wn(t,a)}catch{return!0}}function ug(t){var n=Ts(t,2);n!==null&&vn(n,t,2)}function Vh(t){var n=hn();if(typeof t=="function"){var a=t;if(t=a(),Ds){zn(!0);try{a()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function cg(t,n,a,l){return t.baseState=a,Nh(t,ie,typeof l=="function"?l:Wi)}function p1(t,n,a,l,c){if(yu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,hg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=a(c,l),D=H.S;D!==null&&D(g,T),fg(t,n,T)}catch(B){Ih(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),fg(t,n,f)}catch(B){Ih(t,n,B)}}function fg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dg(t,n,l)},function(l){return Ih(t,n,l)}):dg(t,n,a)}function dg(t,n,a){n.status="fulfilled",n.value=a,mg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,hg(t,a)))}function Ih(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function pg(t,n){if(Pt){var a=re.formState;if(a!==null){t:{var l=Nt;if(Pt){if(ce){e:{for(var c=ce,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ce=Yn(c.nextSibling),l=c.data==="F!";break t}}xa(l)}l=!1}l&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=l,a=jg.bind(null,Nt,l),l.dispatch=a,l=Vh(!1),f=Lh.bind(null,Nt,!1,l.queue),l=hn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=p1.bind(null,Nt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function yg(t){var n=we();return _g(n,ie,t)}function _g(t,n,a){if(n=Nh(t,n,gg)[0],t=mu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(g){throw g===hr?au:g}else l=n;n=we();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,pr(9,{destroy:void 0},y1.bind(null,c,a),null)),[l,f,t]}function y1(t,n){t.action=n}function vg(t){var n=we(),a=ie;if(a!==null)return _g(n,a,t);we(),n=n.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function pr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=fu(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eg(){return we().memoizedState}function gu(t,n,a,l){var c=hn();Nt.flags|=t,c.memoizedState=pr(1|n,{destroy:void 0},a,l===void 0?null:l)}function pu(t,n,a,l){var c=we();l=l===void 0?null:l;var f=c.memoizedState.inst;ie!==null&&l!==null&&Sh(l,ie.memoizedState.deps)?c.memoizedState=pr(n,f,a,l):(Nt.flags|=t,c.memoizedState=pr(1|n,f,a,l))}function Tg(t,n){gu(8390656,8,t,n)}function Mh(t,n){pu(2048,8,t,n)}function _1(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=fu(),Nt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function bg(t){var n=we().memoizedState;return _1({ref:n,nextImpl:t}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return pu(4,2,t,n)}function Ag(t,n){return pu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,a){a=a!=null?a.concat([t]):null,pu(4,4,wg.bind(null,n,t),a)}function Oh(){}function Rg(t,n){var a=we();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Sh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Cg(t,n){var a=we();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Sh(n,l[1]))return l[0];if(l=t(),Ds){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l}function jh(t,n,a){return a===void 0||(Ji&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Np(),Nt.lanes|=t,ja|=t,a)}function Ng(t,n,a,l){return wn(a,n)?a:dr.current!==null?(t=jh(t,a,l),wn(t,n)||(Oe=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,t.memoizedState=a):(t=Np(),Nt.lanes|=t,ja|=t,n)}function Dg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Lh(t,!1,n,a);try{var D=c(),B=H.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=d1(D,l);Rl(t,n,F,Vn(t))}else Rl(t,n,l,Vn(t))}catch($){Rl(t,n,{then:function(){},status:"rejected",reason:$},Vn())}finally{nt.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function v1(){}function zh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Vg(t).queue;Dg(t,c,n,mt,a===null?v1:function(){return Ig(t),a(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ig(t){var n=Vg(t);n.next===null&&(n=t.alternate.memoizedState),Rl(t,n.next.queue,{},Vn())}function Uh(){return Je(Gl)}function Mg(){return we().memoizedState}function Og(){return we().memoizedState}function E1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vn();t=Na(a);var l=Da(n,t,a);l!==null&&(vn(l,n,a),bl(l,n,a)),n={cache:fh()},t.payload=n;return}n=n.return}}function T1(t,n,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yu(t)?zg(n,a):(a=eh(t,n,a,l),a!==null&&(vn(a,t,l),Ug(a,n,l)))}function jg(t,n,a){var l=Vn();Rl(t,n,a,l)}function Rl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yu(t))zg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(c.hasEagerState=!0,c.eagerState=T,wn(T,g))return $o(t,n,c,0),re===null&&Zo(),!1}catch{}finally{}if(a=eh(t,n,c,l),a!==null)return vn(a,t,l),Ug(a,n,l),!0}return!1}function Lh(t,n,a,l){if(l={lane:2,revertLane:yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yu(t)){if(n)throw Error(r(479))}else n=eh(t,a,l,2),n!==null&&vn(n,t,2)}function yu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function zg(t,n){mr=cu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ug(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kr(t,a)}}var Cl={readContext:Je,use:du,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Cl.useEffectEvent=ye;var Lg={readContext:Je,use:du,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Je,useEffect:Tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,gu(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return gu(4194308,4,t,n)},useInsertionEffect:function(t,n){gu(4,2,t,n)},useMemo:function(t,n){var a=hn();n=n===void 0?null:n;var l=t();if(Ds){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=hn();if(a!==void 0){var c=a(n);if(Ds){zn(!0);try{a(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=T1.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=Vh(t);var n=t.queue,a=jg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Oh,useDeferredValue:function(t,n){var a=hn();return jh(a,t,n)},useTransition:function(){var t=Vh(!1);return t=Dg.bind(null,Nt,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Nt,c=hn();if(Pt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),re===null)throw Error(r(349));(Lt&127)!==0||sg(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Tg(lg.bind(null,l,f,t),[t]),l.flags|=2048,pr(9,{destroy:void 0},rg.bind(null,l,f,a,n),null),a},useId:function(){var t=hn(),n=re.identifierPrefix;if(Pt){var a=Di,l=Ni;a=(l&~(1<<32-be(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=m1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:pg,useActionState:pg,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lh.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ch,useCacheRefresh:function(){return hn().memoizedState=E1.bind(null,Nt)},useEffectEvent:function(t){var n=hn(),a={impl:t};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kh={readContext:Je,use:du,useCallback:Rg,useContext:Je,useEffect:Mh,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:mu,useRef:Eg,useState:function(){return mu(Wi)},useDebugValue:Oh,useDeferredValue:function(t,n){var a=we();return Ng(a,ie.memoizedState,t,n)},useTransition:function(){var t=mu(Wi)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:Uh,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var a=we();return cg(a,ie,t,n)},useMemoCache:Ch,useCacheRefresh:Og};kh.useEffectEvent=bg;var kg={readContext:Je,use:du,useCallback:Rg,useContext:Je,useEffect:Mh,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:Dh,useRef:Eg,useState:function(){return Dh(Wi)},useDebugValue:Oh,useDeferredValue:function(t,n){var a=we();return ie===null?jh(a,t,n):Ng(a,ie.memoizedState,t,n)},useTransition:function(){var t=Dh(Wi)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:Uh,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=we();return ie!==null?cg(a,ie,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Og};kg.useEffectEvent=bg;function Bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Vn(),c=Na(l);c.payload=n,a!=null&&(c.callback=a),n=Da(t,c,l),n!==null&&(vn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Vn(),c=Na(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Da(t,c,l),n!==null&&(vn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vn(),l=Na(a);l.tag=2,n!=null&&(l.callback=n),n=Da(t,l,a),n!==null&&(vn(n,t,a),bl(n,t,a))}};function Bg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(c,f):!0}function qg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&qh.enqueueReplaceState(n,n.state,null)}function Vs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Pg(t){Ko(t)}function Hg(t){console.error(t)}function Gg(t){Ko(t)}function _u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ph(t,n,a){return a=Na(a),a.tag=3,a.payload={element:null},a.callback=function(){_u(t,n)},a}function Fg(t){return t=Na(t),t.tag=3,t}function Yg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Qg(n,a,l),typeof c!="function"&&(za===null?za=new Set([this]):za.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function b1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&or(n,a,c,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Du():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===su?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),mf(t,l,c)),!1;case 22:return a.flags|=65536,l===su?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),mf(t,l,c)),!1}throw Error(r(435,a.tag))}return mf(t,l,c),Du(),!1}if(Pt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lh&&(t=Error(r(422),{cause:l}),yl(Pn(t,a)))):(l!==lh&&(n=Error(r(423),{cause:l}),yl(Pn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Pn(l,a),c=Ph(t.stateNode,l,c),_h(t,c),_e!==4&&(_e=2)),!1;var f=Error(r(520),{cause:l});if(f=Pn(f,a),zl===null?zl=[f]:zl.push(f),_e!==4&&(_e=2),n===null)return!0;l=Pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ph(a.stateNode,l,t),_h(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(za===null||!za.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Fg(c),Yg(c,t,a,l),_h(a,c),!1}a=a.return}while(a!==null);return!1}var Hh=Error(r(461)),Oe=!1;function We(t,n,a,l){n.child=t===null?$m(n,null,a,l):Ns(n,t.child,a,l)}function Xg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return ws(n),l=Ah(t,n,a,g,f,c),T=wh(),t!==null&&!Oe?(xh(t,n,c),ta(t,n,c)):(Pt&&T&&sh(n),n.flags|=1,We(t,n,l,c),n.child)}function Kg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,l,c)):(t=Wo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$h(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(g,l)&&t.ref===n.ref)return ta(t,n,c)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,$h(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,ta(t,n,c)}return Gh(t,n,a,l,c)}function $g(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Jg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):Eh(),eg(n);else return l=n.lanes=536870912,Jg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(iu(n,f.cachePool),tg(n,f),Ia(),n.memoizedState=null):(t!==null&&iu(n,null),Eh(),Ia());return We(t,n,c,a),n.child}function Nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(t,n,a,l,c){var f=mh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&iu(n,null),Eh(),eg(n),t!==null&&or(t,n,l,!0),n.childLanes=c,null}function vu(t,n){return n=Tu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,a){return Ns(n,t.child,null,a),t=vu(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function S1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pt){if(l.mode==="hidden")return t=vu(n,l),n.lanes=536870912,Nl(null,t);if(bh(n),(t=ce)?(t=hy(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=zm(t),a.return=n,n.child=a,$e=n,ce=null)):t=null,t===null)throw xa(n);return n.lanes=536870912,null}return vu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bh(n),c)if(n.flags&256)n.flags&=-257,n=Wg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Oe||or(t,n,a,!1),c=(a&t.childLanes)!==0,Oe||c){if(l=re,l!==null&&(g=Zr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ts(t,g),vn(l,t,g),Hh;Du(),n=Wg(t,n,a)}else t=f.treeContext,ce=Yn(g.nextSibling),$e=n,Pt=!0,wa=null,Qn=!1,t!==null&&km(n,t),n=vu(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Eu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gh(t,n,a,l,c){return ws(n),a=Ah(t,n,a,l,void 0,c),l=wh(),t!==null&&!Oe?(xh(t,n,c),ta(t,n,c)):(Pt&&l&&sh(n),n.flags|=1,We(t,n,a,c),n.child)}function tp(t,n,a,l,c,f){return ws(n),n.updateQueue=null,a=ig(n,l,a,c),ng(t),l=wh(),t!==null&&!Oe?(xh(t,n,f),ta(t,n,f)):(Pt&&l&&sh(n),n.flags|=1,We(t,n,a,f),n.child)}function ep(t,n,a,l,c){if(ws(n),n.stateNode===null){var f=ar,g=a.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Je(g):ar,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Bh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qh.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=Vs(a,T);f.props=D;var B=f.context,F=a.contextType;g=ar,typeof F=="object"&&F!==null&&(g=Je(F));var $=a.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==g)&&qg(n,f,l,g),Ca=!1;var q=n.memoizedState;f.state=q,Al(n,l,f,c),Sl(),B=n.memoizedState,T||q!==B||Ca?(typeof $=="function"&&(Bh(n,a,$,l),B=n.memoizedState),(D=Ca||Bg(n,a,D,l,q,B,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),g=n.memoizedProps,F=Vs(a,g),f.props=F,$=n.pendingProps,q=f.context,B=a.contextType,D=ar,typeof B=="object"&&B!==null&&(D=Je(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||q!==D)&&qg(n,f,l,D),Ca=!1,q=n.memoizedState,f.state=q,Al(n,l,f,c),Sl();var G=n.memoizedState;g!==$||q!==G||Ca||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof T=="function"&&(Bh(n,a,T,l),G=n.memoizedState),(F=Ca||Bg(n,a,F,l,q,G,D)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=D,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Eu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ns(n,t.child,null,c),n.child=Ns(n,null,a,c)):We(t,n,a,c),n.memoizedState=f.state,t=n.child):t=ta(t,n,c),t}function np(t,n,a,l){return Ss(),n.flags|=256,We(t,n,a,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(t){return{baseLanes:t,cachePool:Qm()}}function Yh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function ip(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Va(n):Ia(),(t=ce)?(t=hy(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=zm(t),a.return=n,n.child=a,$e=n,ce=null)):t=null,t===null)throw xa(n);return Df(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(Ia(),c=n.mode,T=Tu({mode:"hidden",children:T},c),l=bs(l,c,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Fh(a),l.childLanes=Yh(t,g,a),n.memoizedState=Qh,Nl(null,l)):(Va(n),Xh(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(Va(n),n.flags&=-257,n=Kh(t,n,a)):n.memoizedState!==null?(Ia(),n.child=t.child,n.flags|=128,n=null):(Ia(),T=l.fallback,c=n.mode,l=Tu({mode:"visible",children:l.children},c),T=bs(T,c,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ns(n,t.child,null,a),l=n.child,l.memoizedState=Fh(a),l.childLanes=Yh(t,g,a),n.memoizedState=Qh,n=Nl(null,l));else if(Va(n),Df(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,yl({value:l,source:null,stack:null}),n=Kh(t,n,a)}else if(Oe||or(t,n,a,!1),g=(a&t.childLanes)!==0,Oe||g){if(g=re,g!==null&&(l=Zr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ts(t,l),vn(g,t,l),Hh;Nf(T)||Du(),n=Kh(t,n,a)}else Nf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ce=Yn(T.nextSibling),$e=n,Pt=!0,wa=null,Qn=!1,t!==null&&km(n,t),n=Xh(n,l.children),n.flags|=4096);return n}return c?(Ia(),T=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Xi(B,T):(T=bs(T,c,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Nl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Fh(a):(c=T.cachePool,c!==null?(D=Ie._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Qm(),T={baseLanes:T.baseLanes|a,cachePool:c}),l.memoizedState=T,l.childLanes=Yh(t,g,a),n.memoizedState=Qh,Nl(t.child,l)):(Va(n),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Xh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function Kh(t,n,a){return Ns(n,t.child,null,a),t=Xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ap(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,a)}function Zh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function sp(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ae.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,it(Ae,g),We(t,n,l,a),l=Pt?pl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,a,n);else if(t.tag===19)ap(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&uu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Zh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Zh(n,!0,a,null,f,l);break;case"together":Zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ta(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ja|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(or(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function $h(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function A1(t,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Ra(n,Ie,t.memoizedState.cache),Ss();break;case 27:case 5:Pi(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Va(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ip(t,n,a):(Va(n),t=ta(t,n,a),t!==null?t.sibling:null);Va(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(or(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return sp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,$g(t,n,a,n.pendingProps);case 24:Ra(n,Ie,t.memoizedState.cache)}return ta(t,n,a)}function rp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!$h(t,a)&&(n.flags&128)===0)return Oe=!1,A1(t,n,a);Oe=(t.flags&131072)!==0}else Oe=!1,Pt&&(n.flags&1048576)!==0&&Lm(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Rs(n.elementType),n.type=t,typeof t=="function")nh(t)?(l=Vs(t,l),n.tag=1,n=ep(null,n,t,l,a)):(n.tag=0,n=Gh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Tt){n.tag=11,n=Xg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=Kg(null,n,t,l,a);break t}}throw n=st(t)||t,Error(r(306,n,""))}}return n;case 0:return Gh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Vs(l,n.pendingProps),ep(t,n,l,c,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,yh(t,n),Al(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Ra(n,Ie,l),l!==f.cache&&hh(n,[Ie],a,!0),Sl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=np(t,n,l,a);break t}else if(l!==c){c=Pn(Error(r(424)),n),yl(c),n=np(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ce=Yn(t.firstChild),$e=n,Pt=!0,wa=null,Qn=!0,a=$m(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ss(),l===c){n=ta(t,n,a);break t}We(t,n,l,a)}n=n.child}return n;case 26:return Eu(t,n),t===null?(a=yy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=Uu(Rt.current).createElement(a),l[Ne]=n,l[He]=t,tn(l,a,t),De(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&Pt&&(l=n.stateNode=my(n.type,n.pendingProps,Rt.current),$e=n,Qn=!0,c=ce,Ba(n.type)?(Vf=c,ce=Yn(l.firstChild)):ce=c),We(t,n,n.pendingProps.children,a),Eu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ce)&&(l=tE(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,$e=n,ce=Yn(l.firstChild),Qn=!1,c=!0):c=!1),c||xa(n)),Pi(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xf(c,f)?l=null:g!==null&&xf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,g1,null,null,a),Gl._currentValue=c),Eu(t,n),We(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=ce)&&(a=eE(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,$e=n,ce=null,t=!0):t=!1),t||xa(n)),null;case 13:return ip(t,n,a);case 4:return Ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ns(n,null,l,a):We(t,n,l,a),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,a);case 7:return We(t,n,n.pendingProps,a),n.child;case 8:return We(t,n,n.pendingProps.children,a),n.child;case 12:return We(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ra(n,n.type,l.value),We(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ws(n),c=Je(c),l=l(c),n.flags|=1,We(t,n,l,a),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,a);case 15:return Zg(t,n,n.type,n.pendingProps,a);case 19:return sp(t,n,a);case 31:return S1(t,n,a);case 22:return $g(t,n,a,n.pendingProps);case 24:return ws(n),l=Je(Ie),t===null?(c=mh(),c===null&&(c=re,f=fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ph(n),Ra(n,Ie,c)):((t.lanes&a)!==0&&(yh(t,n),Al(n,null,null,a),Sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ra(n,Ie,l)):(l=f.cache,Ra(n,Ie,l),l!==c.cache&&hh(n,[Ie],a,!0))),We(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ea(t){t.flags|=4}function Jh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Mp())t.flags|=8192;else throw Cs=su,gh}else t.flags&=-16777217}function lp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(Mp())t.flags|=8192;else throw Cs=su,gh}function bu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Co():536870912,t.lanes|=n,Er|=n)}function Dl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function w1(t,n,a){var l=n.pendingProps;switch(rh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),$i(Ie),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(lr(n)?ea(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oh())),he(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ea(n),f!==null?(he(n),lp(n,f)):(he(n),Jh(n,c,null,l,a))):f?f!==t.memoizedState?(ea(n),he(n),lp(n,f)):(he(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ea(n),he(n),Jh(n,c,t,l,a)),null;case 27:if(da(n),a=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return he(n),null}t=lt.current,lr(n)?Bm(n):(t=my(c,l,a),n.stateNode=t,ea(n))}return he(n),null;case 5:if(da(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return he(n),null}if(f=lt.current,lr(n))Bm(n);else{var g=Uu(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Ne]=n,f[He]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(tn(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ea(n)}}return he(n),Jh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ea(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Rt.current,lr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ne]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,a)),t||xa(n,!0)}else t=Uu(t).createTextNode(l),t[Ne]=n,n.stateNode=t}return he(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=lr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ne]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),t=!1}else a=oh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return he(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=lr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ne]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),c=!1}else c=oh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),bu(n,n.updateQueue),he(n),null);case 4:return le(),t===null&&Tf(n.stateNode.containerInfo),he(n),null;case 10:return $i(n.type),he(n),null;case 19:if(K(Ae),l=n.memoizedState,l===null)return he(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Dl(l,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,Dl(l,!1),t=f.updateQueue,n.updateQueue=t,bu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)jm(a,t),a=a.sibling;return it(Ae,Ae.current&1|2),Pt&&Ki(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Xe()>Ru&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304)}else{if(!c)if(t=uu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,bu(n,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return he(n),null}else 2*Xe()-l.renderingStartTime>Ru&&a!==536870912&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,a=Ae.current,it(Ae,c?a&1|2:a&1),Pt&&Ki(n,l.treeForkCount),t):(he(n),null);case 22:case 23:return Cn(n),Th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&bu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),$i(Ie),he(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function x1(t,n){switch(rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(Ie),le(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return da(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));Ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Ae),null;case 4:return le(),null;case 10:return $i(n.type),null;case 22:case 23:return Cn(n),Th(),t!==null&&K(xs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(Ie),null;case 25:return null;default:return null}}function op(t,n){switch(rh(n),n.tag){case 3:$i(Ie),le();break;case 26:case 27:case 5:da(n);break;case 4:le();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Ae);break;case 10:$i(n.type);break;case 22:case 23:Cn(n),Th(),t!==null&&K(xs);break;case 24:$i(Ie)}}function Vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(T){te(n,n.return,T)}}function Ma(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var D=a,B=T;try{B()}catch(F){te(c,D,F)}}}l=l.next}while(l!==f)}}catch(F){te(n,n.return,F)}}function up(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wm(n,a)}catch(l){te(t,t.return,l)}}}function cp(t,n,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){te(t,n,l)}}function Il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){te(t,n,c)}}function Vi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){te(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){te(t,n,c)}else a.current=null}function hp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){te(t,t.return,c)}}function Wh(t,n,a){try{var l=t.stateNode;X1(l,t.type,a,n),l[He]=n}catch(c){te(t,t.return,c)}}function fp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,a),t=t.sibling;t!==null;)ef(t,n,a),t=t.sibling}function Su(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Su(t,n,a),t=t.sibling;t!==null;)Su(t,n,a),t=t.sibling}function dp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);tn(n,l,a),n[Ne]=t,n[He]=a}catch(f){te(t,t.return,f)}}var na=!1,je=!1,nf=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function R1(t,n){if(t=t.containerInfo,Af=Gu,t=xm(t),Kc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,D=-1,B=0,F=0,$=t,q=null;e:for(;;){for(var G;$!==a||c!==0&&$.nodeType!==3||(T=g+c),$!==f||l!==0&&$.nodeType!==3||(D=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break e;if(q===a&&++B===c&&(T=g),q===f&&++F===l&&(D=g),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(wf={focusedElem:t,selectionRange:a},Gu=!1,Qe=n;Qe!==null;)if(n=Qe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qe=t;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=Vs(a.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){te(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Qe=t;break}Qe=n.return}}function gp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:aa(t,a),l&4&&Vl(5,a);break;case 1:if(aa(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){te(a,a.return,g)}else{var c=Vs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){te(a,a.return,g)}}l&64&&up(a),l&512&&Il(a,a.return);break;case 3:if(aa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wm(t,n)}catch(g){te(a,a.return,g)}}break;case 27:n===null&&l&4&&dp(a);case 26:case 5:aa(t,a),n===null&&l&4&&hp(a),l&512&&Il(a,a.return);break;case 12:aa(t,a);break;case 31:aa(t,a),l&4&&_p(t,a);break;case 13:aa(t,a),l&4&&vp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=z1.bind(null,a),nE(t,a))));break;case 22:if(l=a.memoizedState!==null||na,!l){n=n!==null&&n.memoizedState!==null||je,c=na;var f=je;na=l,(je=n)&&!f?sa(t,a,(a.subtreeFlags&8772)!==0):aa(t,a),na=c,je=f}break;case 30:break;default:aa(t,a)}}function pp(t){var n=t.alternate;n!==null&&(t.alternate=null,pp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,gn=!1;function ia(t,n,a){for(a=a.child;a!==null;)yp(t,n,a),a=a.sibling}function yp(t,n,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:je||Vi(a,n),ia(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Vi(a,n);var l=me,c=gn;Ba(a.type)&&(me=a.stateNode,gn=!1),ia(t,n,a),ql(a.stateNode),me=l,gn=c;break;case 5:je||Vi(a,n);case 6:if(l=me,c=gn,me=null,ia(t,n,a),me=l,gn=c,me!==null)if(gn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{me.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:me!==null&&(gn?(t=me,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cr(t)):uy(me,a.stateNode));break;case 4:l=me,c=gn,me=a.stateNode.containerInfo,gn=!0,ia(t,n,a),me=l,gn=c;break;case 0:case 11:case 14:case 15:Ma(2,a,n),je||Ma(4,a,n),ia(t,n,a);break;case 1:je||(Vi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cp(a,n,l)),ia(t,n,a);break;case 21:ia(t,n,a);break;case 22:je=(l=je)||a.memoizedState!==null,ia(t,n,a),je=l;break;default:ia(t,n,a)}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cr(t)}catch(a){te(n,n.return,a)}}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cr(t)}catch(a){te(n,n.return,a)}}function C1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mp),n;default:throw Error(r(435,t.tag))}}function Au(t,n){var a=C1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=U1.bind(null,t,l);l.then(c,c)}})}function pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ba(T.type)){me=T.stateNode,gn=!1;break t}break;case 5:me=T.stateNode,gn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(me===null)throw Error(r(160));yp(f,g,c),me=null,gn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var ri=null;function Ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),yn(t),l&4&&(Ma(3,t,t.return),Vl(3,t),Ma(5,t,t.return));break;case 1:pn(n,t),yn(t),l&512&&(je||a===null||Vi(a,a.return)),l&64&&na&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ri;if(pn(n,t),yn(t),l&512&&(je||a===null||Vi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[yi]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),tn(f,l,a),f[Ne]=t,De(f),l=f;break t;case"link":var g=Ey("link","href",c).get(l+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),tn(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Ey("meta","content",c).get(l+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=c.createElement(l),tn(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ne]=t,De(f),l=f}t.stateNode=l}else Ty(c,t.type,t.stateNode);else t.stateNode=vy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ty(c,t.type,t.stateNode):vy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(n,t),yn(t),l&512&&(je||a===null||Vi(a,a.return)),a!==null&&l&4&&Wh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(n,t),yn(t),l&512&&(je||a===null||Vi(a,a.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(ct){te(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Wh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(nf=!0);break;case 6:if(pn(n,t),yn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){te(t,t.return,ct)}}break;case 3:if(Bu=null,c=ri,ri=Lu(n.containerInfo),pn(n,t),ri=c,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cr(n.containerInfo)}catch(ct){te(t,t.return,ct)}nf&&(nf=!1,Tp(t));break;case 4:l=ri,ri=Lu(t.stateNode.containerInfo),pn(n,t),yn(t),ri=l;break;case 12:pn(n,t),yn(t);break;case 31:pn(n,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:pn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xu=Xe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=na,F=je;if(na=B||c,je=F||D,pn(n,t),je=F,na=B,yn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||na||je||Is(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ct){te(D,D.return,ct)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ct){te(D,D.return,ct)}}}else if(n.tag===18){if(a===null){D=n;try{var G=D.stateNode;c?cy(G,!0):cy(D.stateNode,!1)}catch(ct){te(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Au(t,a))));break;case 19:pn(n,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:pn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(fp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=tf(t);Su(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(mn(g,""),a.flags&=-33);var T=tf(t);Su(t,T,g);break;case 3:case 4:var D=a.stateNode.containerInfo,B=tf(t);ef(t,B,D);break;default:throw Error(r(161))}}catch(F){te(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function aa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(t,n.alternate,n),n=n.sibling}function Is(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ma(4,n,n.return),Is(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cp(n,n.return,a),Is(n);break;case 27:ql(n.stateNode);case 26:case 5:Vi(n,n.return),Is(n);break;case 22:n.memoizedState===null&&Is(n);break;case 30:Is(n);break;default:Is(n)}t=t.sibling}}function sa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:sa(c,f,a),Vl(4,f);break;case 1:if(sa(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){te(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Jm(D[c],T)}catch(B){te(l,l.return,B)}}a&&g&64&&up(f),Il(f,f.return);break;case 27:dp(f);case 26:case 5:sa(c,f,a),a&&l===null&&g&4&&hp(f),Il(f,f.return);break;case 12:sa(c,f,a);break;case 31:sa(c,f,a),a&&g&4&&_p(c,f);break;case 13:sa(c,f,a),a&&g&4&&vp(c,f);break;case 22:f.memoizedState===null&&sa(c,f,a),Il(f,f.return);break;case 30:break;default:sa(c,f,a)}n=n.sibling}}function af(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function li(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(t,n,a,l),n=n.sibling}function bp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,a,l),c&2048&&Vl(9,n);break;case 1:li(t,n,a,l);break;case 3:li(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(c&2048){li(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){te(n,n.return,D)}}else li(t,n,a,l);break;case 31:li(t,n,a,l);break;case 13:li(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,a,l):Ml(t,n):f._visibility&2?li(t,n,a,l):(f._visibility|=2,yr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&af(g,n);break;case 24:li(t,n,a,l),c&2048&&sf(n.alternate,n);break;default:li(t,n,a,l)}}function yr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=a,D=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:yr(f,g,T,D,c),Vl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?yr(f,g,T,D,c):Ml(f,g):(F._visibility|=2,yr(f,g,T,D,c)),c&&B&2048&&af(g.alternate,g);break;case 24:yr(f,g,T,D,c),c&&B&2048&&sf(g.alternate,g);break;default:yr(f,g,T,D,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(a,l),c&2048&&af(l.alternate,l);break;case 24:Ml(a,l),c&2048&&sf(l.alternate,l);break;default:Ml(a,l)}n=n.sibling}}var Ol=8192;function _r(t,n,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Sp(t,n,a),t=t.sibling}function Sp(t,n,a){switch(t.tag){case 26:_r(t,n,a),t.flags&Ol&&t.memoizedState!==null&&mE(a,ri,t.memoizedState,t.memoizedProps);break;case 5:_r(t,n,a);break;case 3:case 4:var l=ri;ri=Lu(t.stateNode.containerInfo),_r(t,n,a),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,_r(t,n,a),Ol=l):_r(t,n,a));break;default:_r(t,n,a)}}function Ap(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function jl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Qe=l,xp(l,t)}Ap(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&Ma(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wu(t)):jl(t);break;default:jl(t)}}function wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Qe=l,xp(l,t)}Ap(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ma(8,n,n.return),wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,wu(n));break;default:wu(n)}t=t.sibling}}function xp(t,n){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=t;Qe!==null;){l=Qe;var c=l.sibling,f=l.return;if(pp(l),l===a){Qe=null;break t}if(c!==null){c.return=f,Qe=c;break t}Qe=f}}}var N1={getCacheForType:function(t){var n=Je(Ie),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Je(Ie).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,jt=null,Lt=0,Wt=0,Nn=null,Oa=!1,vr=!1,rf=!1,ra=0,_e=0,ja=0,Ms=0,lf=0,Dn=0,Er=0,zl=null,_n=null,of=!1,xu=0,Rp=0,Ru=1/0,Cu=null,za=null,Be=0,Ua=null,Tr=null,la=0,uf=0,cf=null,Cp=null,Ul=0,hf=null;function Vn(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:H.T!==null?yf():No()}function Np(){if(Dn===0)if((Lt&536870912)===0||Pt){var t=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function vn(t,n,a){(t===re&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(br(t,0),La(t,Lt,Dn,!1)),ls(t,a),((Kt&2)===0||t!==re)&&(t===re&&((Kt&2)===0&&(Ms|=a),_e===4&&La(t,Lt,Dn,!1)),Ii(t))}function Dp(t,n,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),c=l?M1(t,n):df(t,n,!0),f=l;do{if(c===0){vr&&!l&&La(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!V1(a)){c=df(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=zl;var D=T.current.memoizedState.isDehydrated;if(D&&(br(T,g).flags|=256),g=df(T,g,!1),g!==2){if(rf&&!D){T.errorRecoveryDisabledLanes|=f,Ms|=f,c=4;break t}f=_n,_n=c,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){br(t,0),La(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:La(l,n,Dn,!Oa);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=xu+300-Xe(),10<c)){if(La(l,n,Dn,!Oa),mi(l,0,!0)!==0)break t;la=n,l.timeoutHandle=ly(Vp.bind(null,l,a,_n,Cu,of,n,Dn,Ms,Er,Oa,f,"Throttled",-0,0),c);break t}Vp(l,a,_n,Cu,of,n,Dn,Ms,Er,Oa,f,null,-0,0)}}break}while(!0);Ii(t)}function Vp(t,n,a,l,c,f,g,T,D,B,F,$,q,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Sp(n,f,$);var ct=(f&62914560)===f?xu-Xe():(f&4194048)===f?Rp-Xe():0;if(ct=gE($,ct),ct!==null){la=f,t.cancelPendingCommit=ct(kp.bind(null,t,n,f,a,l,c,g,T,D,F,$,null,q,G)),La(t,f,g,!B);return}}kp(t,n,f,a,l,c,g,T,D)}function V1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!wn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(t,n,a,l){n&=~lf,n&=~Ms,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-be(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&os(t,a,n)}function Nu(){return(Kt&6)===0?(Ll(0),!1):!0}function ff(){if(jt!==null){if(Wt===0)var t=jt.return;else t=jt,Zi=As=null,Rh(t),fr=null,El=0,t=jt;for(;t!==null;)op(t.alternate,t),t=t.return;jt=null}}function br(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),la=0,ff(),re=t,jt=a=Xi(t.current,null),Lt=n,Wt=0,Nn=null,Oa=!1,vr=$n(t,n),rf=!1,Er=Dn=lf=Ms=ja=_e=0,_n=zl=null,of=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-be(l),f=1<<c;n|=t[c],l&=~f}return ra=n,Zo(),a}function Ip(t,n){Nt=null,H.H=Cl,n===hr||n===au?(n=Xm(),Wt=3):n===gh?(n=Xm(),Wt=4):Wt=n===Hh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,jt===null&&(_e=1,_u(t,Pn(n,t.current)))}function Mp(){var t=Rn.current;return t===null?!0:(Lt&4194048)===Lt?Fn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===Fn:!1}function Op(){var t=H.H;return H.H=Cl,t===null?Cl:t}function jp(){var t=H.A;return H.A=N1,t}function Du(){_e=4,Oa||(Lt&4194048)!==Lt&&Rn.current!==null||(vr=!0),(ja&134217727)===0&&(Ms&134217727)===0||re===null||La(re,Lt,Dn,!1)}function df(t,n,a){var l=Kt;Kt|=2;var c=Op(),f=jp();(re!==t||Lt!==n)&&(Cu=null,br(t,n)),n=!1;var g=_e;t:do try{if(Wt!==0&&jt!==null){var T=jt,D=Nn;switch(Wt){case 8:ff(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Wt;if(Wt=0,Nn=null,Sr(t,T,D,B),a&&vr){g=0;break t}break;default:B=Wt,Wt=0,Nn=null,Sr(t,T,D,B)}}I1(),g=_e;break}catch(F){Ip(t,F)}while(!0);return n&&t.shellSuspendCounter++,Zi=As=null,Kt=l,H.H=c,H.A=f,jt===null&&(re=null,Lt=0,Zo()),g}function I1(){for(;jt!==null;)zp(jt)}function M1(t,n){var a=Kt;Kt|=2;var l=Op(),c=jp();re!==t||Lt!==n?(Cu=null,Ru=Xe()+500,br(t,n)):vr=$n(t,n);t:do try{if(Wt!==0&&jt!==null){n=jt;var f=Nn;e:switch(Wt){case 1:Wt=0,Nn=null,Sr(t,n,f,1);break;case 2:case 9:if(Fm(f)){Wt=0,Nn=null,Up(n);break}n=function(){Wt!==2&&Wt!==9||re!==t||(Wt=7),Ii(t)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Fm(f)?(Wt=0,Nn=null,Up(n)):(Wt=0,Nn=null,Sr(t,n,f,7));break;case 5:var g=null;switch(jt.tag){case 26:g=jt.memoizedState;case 5:case 27:var T=jt;if(g?by(g):T.stateNode.complete){Wt=0,Nn=null;var D=T.sibling;if(D!==null)jt=D;else{var B=T.return;B!==null?(jt=B,Vu(B)):jt=null}break e}}Wt=0,Nn=null,Sr(t,n,f,5);break;case 6:Wt=0,Nn=null,Sr(t,n,f,6);break;case 8:ff(),_e=6;break t;default:throw Error(r(462))}}O1();break}catch(F){Ip(t,F)}while(!0);return Zi=As=null,H.H=l,H.A=c,Kt=a,jt!==null?0:(re=null,Lt=0,Zo(),_e)}function O1(){for(;jt!==null&&!ui();)zp(jt)}function zp(t){var n=rp(t.alternate,t,ra);t.memoizedProps=t.pendingProps,n===null?Vu(t):jt=n}function Up(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=tp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=tp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Rh(n);default:op(a,n),n=jt=jm(n,ra),n=rp(a,n,ra)}t.memoizedProps=t.pendingProps,n===null?Vu(t):jt=n}function Sr(t,n,a,l){Zi=As=null,Rh(n),fr=null,El=0;var c=n.return;try{if(b1(t,c,n,a,Lt)){_e=1,_u(t,Pn(a,t.current)),jt=null;return}}catch(f){if(c!==null)throw jt=c,f;_e=1,_u(t,Pn(a,t.current)),jt=null;return}n.flags&32768?(Pt||l===1?t=!0:vr||(Lt&536870912)!==0?t=!1:(Oa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lp(n,t)):Vu(n)}function Vu(t){var n=t;do{if((n.flags&32768)!==0){Lp(n,Oa);return}t=n.return;var a=w1(n.alternate,n,ra);if(a!==null){jt=a;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);_e===0&&(_e=5)}function Lp(t,n){do{var a=x1(t.alternate,t);if(a!==null){a.flags&=32767,jt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=a}while(t!==null);_e=6,jt=null}function kp(t,n,a,l,c,f,g,T,D){t.cancelPendingCommit=null;do Iu();while(Be!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=th,Qc(t,a,f,g,T,D),t===re&&(jt=re=null,Lt=0),Tr=n,Ua=t,la=a,uf=f,cf=c,Cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,L1(hi,function(){return Gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,g=Kt,Kt|=4;try{R1(t,n,a)}finally{Kt=g,nt.p=c,H.T=l}}Be=1,Bp(),qp(),Pp()}}function Bp(){if(Be===1){Be=0;var t=Ua,n=Tr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Kt;Kt|=4;try{Ep(n,t);var f=wf,g=xm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&wm(T.ownerDocument.documentElement,T)){if(D!==null&&Kc(T)){var B=D.start,F=D.end;if(F===void 0&&(F=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(F,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),ct=T.textContent.length,_t=Math.min(D.start,ct),se=D.end===void 0?_t:Math.min(D.end,ct);!G.extend&&_t>se&&(g=se,se=_t,_t=g);var z=Am(T,_t),M=Am(T,se);if(z&&M&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var L=$.createRange();L.setStart(z.node,z.offset),G.removeAllRanges(),_t>se?(G.addRange(L),G.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),G.addRange(L))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Gu=!!Af,wf=Af=null}finally{Kt=c,nt.p=l,H.T=a}}t.current=n,Be=2}}function qp(){if(Be===2){Be=0;var t=Ua,n=Tr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Kt;Kt|=4;try{gp(t,n.alternate,n)}finally{Kt=c,nt.p=l,H.T=a}}Be=3}}function Pp(){if(Be===4||Be===3){Be=0,ci();var t=Ua,n=Tr,a=la,l=Cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Tr=Ua=null,Hp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(za=null),Gi(a),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,nt.p=c}}(la&3)!==0&&Iu(),Ii(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===hf?Ul++:(Ul=0,hf=t):Ul=0,Ll(0)}}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function Iu(){return Bp(),qp(),Pp(),Gp()}function Gp(){if(Be!==5)return!1;var t=Ua,n=uf;uf=0;var a=Gi(la),l=H.T,c=nt.p;try{nt.p=32>a?32:a,H.T=null,a=cf,cf=null;var f=Ua,g=la;if(Be=0,Tr=Ua=null,la=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,wp(f.current),bp(f,f.current,g,a),Kt=T,Ll(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{nt.p=c,H.T=l,Hp(t,n)}}function Qp(t,n,a){n=Pn(a,n),n=Ph(t.stateNode,n,2),t=Da(t,n,2),t!==null&&(ls(t,2),Ii(t))}function te(t,n,a){if(t.tag===3)Qp(t,t,a);else for(;n!==null;){if(n.tag===3){Qp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){t=Pn(a,t),a=Fg(2),l=Da(n,a,2),l!==null&&(Yg(a,l,n,t),ls(l,2),Ii(l));break}}n=n.return}}function mf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new D1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(rf=!0,c.add(a),t=j1.bind(null,t,n,a),n.then(t,t))}function j1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,re===t&&(Lt&a)===a&&(_e===4||_e===3&&(Lt&62914560)===Lt&&300>Xe()-xu?(Kt&2)===0&&br(t,0):lf|=a,Er===Lt&&(Er=0)),Ii(t)}function Fp(t,n){n===0&&(n=Co()),t=Ts(t,n),t!==null&&(ls(t,n),Ii(t))}function z1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Fp(t,a)}function U1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Fp(t,a)}function L1(t,n){return Te(t,n)}var Mu=null,Ar=null,gf=!1,Ou=!1,pf=!1,ka=0;function Ii(t){t!==Ar&&t.next===null&&(Ar===null?Mu=Ar=t:Ar=Ar.next=t),Ou=!0,gf||(gf=!0,B1())}function Ll(t,n){if(!pf&&Ou){pf=!0;do for(var a=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zp(l,f))}else f=Lt,f=mi(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(a=!0,Zp(l,f));l=l.next}while(a);pf=!1}}function k1(){Yp()}function Yp(){Ou=gf=!1;var t=0;ka!==0&&Z1()&&(t=ka);for(var n=Xe(),a=null,l=Mu;l!==null;){var c=l.next,f=Xp(l,n);f===0?(l.next=null,a===null?Mu=c:a.next=c,c===null&&(Ar=a)):(a=l,(t!==0||(f&3)!==0)&&(Ou=!0)),l=c}Be!==0&&Be!==5||Ll(t),ka!==0&&(ka=0)}function Xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-be(f),T=1<<g,D=c[g];D===-1?((T&a)===0||(T&l)!==0)&&(c[g]=Gc(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=re,a=Lt,a=mi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&jn(l),Gi(a)){case 2:case 8:a=ss;break;case 32:a=hi;break;case 268435456:a=So;break;default:a=hi}return l=Kp.bind(null,t),a=Te(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&jn(l),t.callbackPriority=2,t.callbackNode=null,2}function Kp(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Iu()&&t.callbackNode!==a)return null;var l=Lt;return l=mi(t,t===re?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dp(t,l,n),Xp(t,Xe()),t.callbackNode!=null&&t.callbackNode===a?Kp.bind(null,t):null)}function Zp(t,n){if(Iu())return null;Dp(t,n,!0)}function B1(){J1(function(){(Kt&6)!==0?Te(ma,k1):Yp()})}function yf(){if(ka===0){var t=ur;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),ka=t}return ka}function $p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xs(""+t)}function Jp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function q1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=$p((c[He]||null).action),g=l.submitter;g&&(n=(n=g[He]||null)?$p(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new wi("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ka!==0){var D=g?Jp(c,g):new FormData(c);zh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=g?Jp(c,g):new FormData(c),zh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var _f=0;_f<Wc.length;_f++){var vf=Wc[_f],P1=vf.toLowerCase(),H1=vf[0].toUpperCase()+vf.slice(1);si(P1,"on"+H1)}si(Nm,"onAnimationEnd"),si(Dm,"onAnimationIteration"),si(Vm,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(s1,"onTransitionRun"),si(r1,"onTransitionStart"),si(l1,"onTransitionCancel"),si(Im,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Wp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(F){Ko(F)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(T=l[g],D=T.instance,B=T.currentTarget,T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(F){Ko(F)}c.currentTarget=null,f=D}}}}function zt(t,n){var a=n[Hs];a===void 0&&(a=n[Hs]=new Set);var l=t+"__bubble";a.has(l)||(ty(n,t,2,!1),a.add(l))}function Ef(t,n,a){var l=0;n&&(l|=4),ty(a,t,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[ju]){t[ju]=!0,$r.forEach(function(a){a!=="selectionchange"&&(G1.has(a)||Ef(a,!1,t),Ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ju]||(n[ju]=!0,Ef("selectionchange",!1,n))}}function ty(t,n,a,l){switch(Ny(n)){case 2:var c=_E;break;case 8:c=vE;break;default:c=zf}a=c.bind(null,n,a,t),c=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function bf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=_i(T),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Ea(function(){var B=f,F=Ln(a),$=[];t:{var q=Mm.get(t);if(q!==void 0){var G=wi,ct=t;switch(t){case"keypress":if(gs(a)===0)break t;case"keydown":case"keyup":G=Fo;break;case"focusin":ct="focus",G=ys;break;case"focusout":ct="blur",G=ys;break;case"beforeblur":case"afterblur":G=ys;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Nm:case Dm:case Vm:G=ko;break;case Im:G=b;break;case"scroll":case"scrollend":G=ul;break;case"wheel":G=P;break;case"copy":case"cut":case"paste":G=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yi;break;case"toggle":case"beforetoggle":G=Ct}var _t=(n&4)!==0,se=!_t&&(t==="scroll"||t==="scrollend"),z=_t?q!==null?q+"Capture":null:q;_t=[];for(var M=B,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||z===null||(X=ei(M,z),X!=null&&_t.push(Bl(M,X,L))),se)break;M=M.return}0<_t.length&&(q=new G(q,ct,null,a,F),$.push({event:q,listeners:_t}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==rl&&(ct=a.relatedTarget||a.fromElement)&&(_i(ct)||ct[pi]))break t;if((G||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ct=a.relatedTarget||a.toElement,G=B,ct=ct?_i(ct):null,ct!==null&&(se=h(ct),_t=ct.tag,ct!==se||_t!==5&&_t!==27&&_t!==6)&&(ct=null)):(G=null,ct=B),G!==ct)){if(_t=cl,X="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Yi,X="onPointerLeave",z="onPointerEnter",M="pointer"),se=G==null?q:Sn(G),L=ct==null?q:Sn(ct),q=new _t(X,M+"leave",G,a,F),q.target=se,q.relatedTarget=L,X=null,_i(F)===B&&(_t=new _t(z,M+"enter",ct,a,F),_t.target=L,_t.relatedTarget=se,X=_t),se=X,G&&ct)e:{for(_t=Q1,z=G,M=ct,L=0,X=z;X;X=_t(X))L++;X=0;for(var gt=M;gt;gt=_t(gt))X++;for(;0<L-X;)z=_t(z),L--;for(;0<X-L;)M=_t(M),X--;for(;L--;){if(z===M||M!==null&&z===M.alternate){_t=z;break e}z=_t(z),M=_t(M)}_t=null}else _t=null;G!==null&&ey($,q,G,_t,!1),ct!==null&&se!==null&&ey($,se,ct,_t,!0)}}t:{if(q=B?Sn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ft=_m;else if(pm(q))if(vm)Ft=n1;else{Ft=t1;var ft=Wv}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ys(B.elementType)&&(Ft=_m):Ft=e1;if(Ft&&(Ft=Ft(t,B))){ym($,Ft,a,F);break t}ft&&ft(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&il(q,"number",q.value)}switch(ft=B?Sn(B):window,t){case"focusin":(pm(ft)||ft.contentEditable==="true")&&(er=ft,Zc=B,gl=null);break;case"focusout":gl=Zc=er=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Rm($,a,F);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Rm($,a,F)}var Dt;if(Xt)t:{switch(t){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else tr?_s(t,a)&&(kt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ci&&a.locale!=="ko"&&(tr||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&tr&&(Dt=ol()):(Ai=F,ll="value"in Ai?Ai.value:Ai.textContent,tr=!0)),ft=zu(B,kt),0<ft.length&&(kt=new Ri(kt,t,null,a,F),$.push({event:kt,listeners:ft}),Dt?kt.data=Dt:(Dt=Ws(a),Dt!==null&&(kt.data=Dt)))),(Dt=Bn?Kv(t,a):Zv(t,a))&&(kt=zu(B,"onBeforeInput"),0<kt.length&&(ft=new Ri("onBeforeInput","beforeinput",null,a,F),$.push({event:ft,listeners:kt}),ft.data=Dt)),q1($,t,B,a,F)}Wp($,n)})}function Bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ei(t,a),c!=null&&l.unshift(Bl(t,c,f)),c=ei(t,n),c!=null&&l.push(Bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Q1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,c?(B=ei(a,f),B!=null&&g.unshift(Bl(a,B,D))):c||(B=ei(a,f),B!=null&&g.push(Bl(a,B,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var F1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(Y1,"")}function iy(t,n){return n=ny(n),ny(t)===n}function ae(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,l);break;case"style":sl(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ae(t,n,"name",c.name,c,null),ae(t,n,"formEncType",c.formEncType,c,null),ae(t,n,"formMethod",c.formMethod,c,null),ae(t,n,"formTarget",c.formTarget,c,null)):(ae(t,n,"encType",c.encType,c,null),ae(t,n,"method",c.method,c,null),ae(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Qs(t,"popover",l);break;case"xlinkActuate":Ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zo.get(a)||a,Qs(t,a,l))}}function Sf(t,n,a,l,c,f){switch(a){case"style":sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qs(t,a,l)}}}function tn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,f,g,a,null)}}c&&ae(t,n,"srcSet",a.srcSet,a,null),l&&ae(t,n,"src",a.src,a,null);return;case"input":zt("invalid",t);var T=f=g=c=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":D=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ae(t,n,l,F,a,null)}}Mo(t,f,T,D,B,g,c,!1);return;case"select":zt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ae(t,n,c,T,a,null)}n=f,a=g,t.multiple=!!l,n!=null?pa(t,!!l,n,!1):a!=null&&pa(t,!!l,a,!0);return;case"textarea":zt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ae(t,n,g,T,a,null)}ya(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ae(t,n,D,l,a,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)zt(kl[l],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,B,l,a,null)}return;default:if(Ys(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Sf(t,n,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ae(t,n,T,l,a,null))}function X1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,D=null,B=null,F=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(G)||ae(t,n,G,null,l,$)}}for(var q in l){var G=l[q];if($=a[q],l.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":f=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":F=G;break;case"value":g=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==$&&ae(t,n,q,G,l,$)}}Fs(t,g,T,D,B,F,f,c);return;case"select":G=g=T=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(f)||ae(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==D&&ae(t,n,c,f,l,D)}n=T,a=g,l=G,q!=null?pa(t,!!a,q,!1):!!l!=!!a&&(n!=null?pa(t,!!a,n,!0):pa(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ae(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ae(t,n,g,c,l,f)}Oo(t,q,G);return;case"option":for(var ct in a)if(q=a[ct],a.hasOwnProperty(ct)&&q!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:ae(t,n,ct,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ae(t,n,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&ae(t,n,_t,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ae(t,n,B,q,l,G)}return;default:if(Ys(n)){for(var se in a)q=a[se],a.hasOwnProperty(se)&&q!==void 0&&!l.hasOwnProperty(se)&&Sf(t,n,se,void 0,l,q);for(F in l)q=l[F],G=a[F],!l.hasOwnProperty(F)||q===G||q===void 0&&G===void 0||Sf(t,n,F,q,l,G);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&ae(t,n,z,null,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q==null&&G==null||ae(t,n,$,q,l,G)}function ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&ay(g)){for(g=0,T=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var F=D.transferSize,$=D.initiatorType;F&&ay($)&&(D=D.responseEnd,g+=F*(D<T?1:(T-B)/(D-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Af=null,wf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function Z1(){var t=window.event;return t&&t.type==="popstate"?t===Rf?!1:(Rf=t,!0):(Rf=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(W1)}:ly;function W1(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function uy(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ql(t.ownerDocument.body);a=c}while(a);Cr(n)}function cy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cf(a),Gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function eE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function hy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function Nf(t){return t.data==="$?"||t.data==="$~"}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vf=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function my(t,n,a){switch(n=Uu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gs(t)}var Xn=new Map,gy=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=nt.d;nt.d={f:iE,r:aE,D:sE,C:rE,L:lE,m:oE,X:cE,S:uE,M:hE};function iE(){var t=oa.f(),n=Nu();return t||n}function aE(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Ig(n):oa.r(t)}var wr=typeof document>"u"?null:document;function py(t,n,a){var l=wr;if(l&&typeof n=="string"&&n){var c=dn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),gy.has(c)||(gy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),tn(n,"link",t),De(n),l.head.appendChild(n)))}}function sE(t){oa.D(t),py("dns-prefetch",t,null)}function rE(t,n){oa.C(t,n),py("preconnect",t,n)}function lE(t,n,a){oa.L(t,n,a);var l=wr;if(l&&t&&n){var c='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+dn(a.imageSizes)+'"]')):c+='[href="'+dn(t)+'"]';var f=c;switch(n){case"style":f=xr(t);break;case"script":f=Rr(t)}Xn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Xn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Pl(f))||n==="script"&&l.querySelector(Hl(f))||(n=l.createElement("link"),tn(n,"link",t),De(n),l.head.appendChild(n)))}}function oE(t,n){oa.m(t,n);var a=wr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Rr(t)}if(!Xn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Xn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(f)))return}l=a.createElement("link"),tn(l,"link",t),De(l),a.head.appendChild(l)}}}function uE(t,n,a){oa.S(t,n,a);var l=wr;if(l&&t){var c=vi(l).hoistableStyles,f=xr(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Pl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Xn.get(f))&&If(t,a);var D=g=l.createElement("link");De(D),tn(D,"link",t),D._p=new Promise(function(B,F){D.onload=B,D.onerror=F}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ku(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function cE(t,n){oa.X(t,n);var a=wr;if(a&&t){var l=vi(a).hoistableScripts,c=Rr(t),f=l.get(c);f||(f=a.querySelector(Hl(c)),f||(t=w({src:t,async:!0},n),(n=Xn.get(c))&&Mf(t,n),f=a.createElement("script"),De(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hE(t,n){oa.M(t,n);var a=wr;if(a&&t){var l=vi(a).hoistableScripts,c=Rr(t),f=l.get(c);f||(f=a.querySelector(Hl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Xn.get(c))&&Mf(t,n),f=a.createElement("script"),De(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yy(t,n,a,l){var c=(c=Rt.current)?Lu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=xr(a.href),a=vi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xr(a.href);var f=vi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Pl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),f||fE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rr(a),a=vi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function xr(t){return'href="'+dn(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function _y(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function fE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",a),De(n),t.head.appendChild(n))}function Rr(t){return'[src="'+dn(t)+'"]'}function Hl(t){return"script[async]"+t}function vy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return n.instance=l,De(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),De(l),tn(l,"style",c),ku(l,a.precedence,t),n.instance=l;case"stylesheet":c=xr(a.href);var f=t.querySelector(Pl(c));if(f)return n.state.loading|=4,n.instance=f,De(f),f;l=_y(a),(c=Xn.get(c))&&If(l,c),f=(t.ownerDocument||t).createElement("link"),De(f);var g=f;return g._p=new Promise(function(T,D){g.onload=T,g.onerror=D}),tn(f,"link",l),n.state.loading|=4,ku(f,a.precedence,t),n.instance=f;case"script":return f=Rr(a.src),(c=t.querySelector(Hl(f)))?(n.instance=c,De(c),c):(l=a,(c=Xn.get(f))&&(l=w({},a),Mf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),De(c),tn(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ku(l,a.precedence,t));return n.instance}function ku(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function Ey(t,n,a){if(Bu===null){var l=new Map,c=Bu=new Map;c.set(a,l)}else c=Bu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[yi]||f[Ne]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function Ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function dE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=xr(l.href),f=n.querySelector(Pl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=qu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,De(f);return}f=n.ownerDocument||n,l=_y(l),(c=Xn.get(c))&&If(l,c),f=f.createElement("link"),De(f);var g=f;g._p=new Promise(function(T,D){g.onload=T,g.onerror=D}),tn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Of=0;function gE(t,n){return t.stylesheets&&t.count===0&&Hu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Of===0&&(Of=62500*K1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Of?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function Hu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,n.forEach(pE,t),Pu=null,qu.call(t))}function pE(t,n){if(!(n.state.loading&4)){var a=Pu.get(t);if(a)var l=a.get(null);else{a=new Map,Pu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=qu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Gl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function yE(t,n,a,l,c,f,g,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Sy(t,n,a,l,c,f,g,T,D,B,F,$){return t=new yE(t,n,a,g,D,B,F,$,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=fh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ph(f),t}function Ay(t){return t?(t=ar,t):ar}function wy(t,n,a,l,c,f){c=Ay(c),l.context===null?l.context=c:l.pendingContext=c,l=Na(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Da(t,l,n),a!==null&&(vn(a,t,n),bl(a,t,n))}function xy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function jf(t,n){xy(t,n),(t=t.alternate)&&xy(t,n)}function Ry(t){if(t.tag===13||t.tag===31){var n=Ts(t,67108864);n!==null&&vn(n,t,67108864),jf(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=Vn();n=us(n);var a=Ts(t,n);a!==null&&vn(a,t,n),jf(t,n)}}var Gu=!0;function _E(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,zf(t,n,a,l)}finally{nt.p=f,H.T=c}}function vE(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,zf(t,n,a,l)}finally{nt.p=f,H.T=c}}function zf(t,n,a,l){if(Gu){var c=Uf(l);if(c===null)bf(t,n,l,Qu,a),Dy(t,l);else if(TE(c,t,n,a,l))l.stopPropagation();else if(Dy(t,l),n&4&&-1<EE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=di(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var D=1<<31-be(g);T.entanglements[1]|=D,g&=~D}Ii(f),(Kt&6)===0&&(Ru=Xe()+500,Ll(0))}}break;case 31:case 13:T=Ts(f,2),T!==null&&vn(T,f,2),Nu(),jf(f,2)}if(f=Uf(l),f===null&&bf(t,n,l,Qu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else bf(t,n,l,null,a)}}function Uf(t){return t=Ln(t),Lf(t)}var Qu=null;function Lf(t){if(Qu=null,t=_i(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Qu=t,null}function Ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case ma:return 2;case ss:return 8;case hi:case bo:return 32;case So:return 268435456;default:return 32}default:return 32}}var kf=!1,qa=null,Pa=null,Ha=null,Ql=new Map,Fl=new Map,Ga=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(t,n){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Yl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&Ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TE(t,n,a,l,c){switch(n){case"focusin":return qa=Yl(qa,t,n,a,l,c),!0;case"dragenter":return Pa=Yl(Pa,t,n,a,l,c),!0;case"mouseover":return Ha=Yl(Ha,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ql.set(f,Yl(Ql.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Fl.set(f,Yl(Fl.get(f)||null,t,n,a,l,c)),!0}return!1}function Vy(t){var n=_i(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Cy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Uf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return n=Un(a),n!==null&&Ry(n),t.blockedOn=a,!1;n.shift()}return!0}function Iy(t,n,a){Fu(t)&&a.delete(n)}function bE(){kf=!1,qa!==null&&Fu(qa)&&(qa=null),Pa!==null&&Fu(Pa)&&(Pa=null),Ha!==null&&Fu(Ha)&&(Ha=null),Ql.forEach(Iy),Fl.forEach(Iy)}function Yu(t,n){t.blockedOn===n&&(t.blockedOn=null,kf||(kf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bE)))}var Xu=null;function My(t){Xu!==t&&(Xu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Lf(l||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(n,3),n-=3,zh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Cr(t){function n(D){return Yu(D,t)}qa!==null&&Yu(qa,t),Pa!==null&&Yu(Pa,t),Ha!==null&&Yu(Ha,t),Ql.forEach(n),Fl.forEach(n);for(var a=0;a<Ga.length;a++){var l=Ga[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ga.length&&(a=Ga[0],a.blockedOn===null);)Vy(a),a.blockedOn===null&&Ga.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[He]||null;if(typeof f=="function")g||My(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[He]||null)T=g.formAction;else if(Lf(c)!==null)continue}else T=g.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),My(a)}}}function Oy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Bf(t){this._internalRoot=t}Ku.prototype.render=Bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Vn();wy(a,l,t,n,null,null)},Ku.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),Nu(),n[pi]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=No();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ga.length&&n!==0&&n<Ga[a].priority;a++);Ga.splice(a,0,t),a===0&&Vy(t)}};var jy=e.version;if(jy!=="19.2.3")throw Error(r(527,jy,"19.2.3"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var SE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Zn=Zu.inject(SE),Ke=Zu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Pg,f=Hg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(t,1,!1,null,null,a,l,null,c,f,g,Oy),t[pi]=n.current,Tf(t),new Bf(n)},Kl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Pg,g=Hg,T=Gg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Sy(t,1,!0,n,a??null,l,c,D,f,g,T,Oy),n.context=Ay(null),a=n.current,l=Vn(),l=us(l),c=Na(l),c.callback=null,Da(a,c,l),a=l,n.current.lanes=a,ls(n,a),Ii(n),t[pi]=n.current,Tf(t),new Ku(n)},Kl.version="19.2.3",Kl}var Qy;function OE(){if(Qy)return Hf.exports;Qy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hf.exports=ME(),Hf.exports}var jE=OE();const zE=l0(jE);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fn=(s,e)=>{const i=dt.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:h=2,absoluteStrokeWidth:d,className:p="",children:v,..._},S)=>dt.createElement("svg",{ref:S,...UE,width:o,height:o,stroke:r,strokeWidth:d?Number(h)*24/Number(o):h,className:["lucide",`lucide-${LE(s)}`,p].join(" "),..._},[...e.map(([w,I])=>dt.createElement(w,I)),...Array.isArray(v)?v:[v]]));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=fn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=fn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=fn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=fn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=fn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=fn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=fn("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=fn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=fn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=fn("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=fn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=fn("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=fn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=fn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bt=({children:s,variant:e="primary",fullWidth:i=!1,className:r="",...o})=>{const h="py-3 px-6 rounded-xl font-bold transition-all duration-300 transform hover:scale-[1.02] shadow-md disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-primary text-white hover:bg-secondary",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-danger text-white hover:bg-red-700",accent:"bg-accent text-white hover:bg-orange-600",purple:"bg-purple-600 text-white hover:bg-purple-700",pink:"bg-pink-500 text-white hover:bg-pink-600"};return E.jsx("button",{className:`${h} ${d[e]} ${i?"w-full":""} ${r}`,...o,children:s})},xe=({children:s,className:e="",title:i,actions:r})=>E.jsxs("div",{className:`bg-white rounded-2xl shadow-[0_2px_12px_rgba(80,180,82,0.1)] p-6 md:p-8 ${e}`,children:[(i||r)&&E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i&&E.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-secondary text-center",children:i}),r&&E.jsx("div",{children:r})]}),s]}),ve=({label:s,className:e="",...i})=>E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-right",children:s}),E.jsx("input",{className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-right ${e}`,...i})]}),ld=({label:s,children:e,...i})=>E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-right",children:s}),E.jsx("select",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-right bg-white",...i,children:e})]}),Yf=({label:s,value:e,colorClass:i="text-primary",icon:r})=>E.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm flex flex-col items-center justify-center text-center hover:shadow-md transition-shadow",children:[r&&E.jsx(r,{className:`w-8 h-8 mb-2 ${i}`}),E.jsx("div",{className:"text-gray-500 text-sm mb-1",children:s}),E.jsx("div",{className:`text-3xl font-bold ${i}`,children:e})]}),Zl=({onNavigate:s})=>E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 animate-[fadeIn_0.5s_ease-out]",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("p",{className:"text-xl text-primary font-bold mb-6",children:"     "}),E.jsxs("div",{className:"space-y-2 text-gray-800 text-lg md:text-xl font-medium max-w-2xl mx-auto leading-relaxed",children:[E.jsx("p",{children:"      ...    "}),E.jsx("p",{children:"    ...      "})]})]}),E.jsx("div",{className:"w-full max-w-md",children:E.jsxs(xe,{className:"animate-[slideUp_0.5s_ease-out]",children:[E.jsxs("p",{className:"text-center text-gray-800 mb-6 leading-relaxed",children:["        ",E.jsx("br",{}),"     ."]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx(bt,{fullWidth:!0,onClick:()=>s("LOGIN_TEACHER"),children:" "}),E.jsx(bt,{fullWidth:!0,variant:"purple",onClick:()=>s("LOGIN_ADMIN"),children:" "}),E.jsx(bt,{fullWidth:!0,variant:"pink",onClick:()=>s("LOGIN_STUDENT"),children:" "}),E.jsx(bt,{fullWidth:!0,variant:"accent",onClick:()=>s("REGISTER_STUDENT"),children:"  "})]})]})})]}),$E=()=>{};var Ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=h>>2,w=(h&3)<<4|p>>4;let I=(p&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(I=64)),r.push(i[S],i[w],i[I],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(o0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||_==null||w==null)throw new WE;const I=h<<2|p>>4;if(r.push(I),_!==64){const Q=p<<4&240|_>>2;if(r.push(Q),w!==64){const tt=_<<6&192|w;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tT=function(s){const e=o0(s);return u0.encodeByteArray(e,!0)},oc=function(s){return tT(s).replace(/\./g,"")},eT=function(s){try{return u0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=()=>nT().__FIREBASE_DEFAULTS__,aT=()=>{if(typeof process>"u"||typeof Ky>"u")return;const s=Ky.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&eT(s[1]);return e&&JSON.parse(e)},Id=()=>{try{return $E()||iT()||aT()||sT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rT=s=>{var e,i;return(i=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},lT=s=>{const e=rT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},c0=()=>{var s;return(s=Id())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oc(JSON.stringify(i)),oc(JSON.stringify(d)),""].join(".")}const eo={};function hT(){const s={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?s.emulator.push(e):s.prod.push(e);return s}function fT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Zy=!1;function dT(s,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||eo[s]===e||eo[s]||Zy)return;eo[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=hT().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,Q){I.setAttribute("width","24"),I.setAttribute("id",Q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Zy=!0,d()},I}function S(I,Q){I.setAttribute("id",Q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=fT(r),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),W=i("learnmore"),Y=document.getElementById(W)||document.createElement("a"),at=i("preprendIcon"),ht=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ut=I.element;p(ut),S(Y,W);const Tt=_();v(ht,at),ut.append(ht,tt,Y,Tt),document.body.appendChild(ut)}h?(tt.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gT(){var e;const s=(e=Id())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pT(){return!gT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yT(){try{return typeof indexedDB=="object"}catch{return!1}}function _T(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="FirebaseError";class Hr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=vT,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?ET(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,p,r)}}function ET(s,e){return s.replace(TT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const TT=/\{\$([^}]+)}/g;function uc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if($y(h)&&$y(d)){if(!uc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function $y(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(s){return s&&s._delegate?s._delegate:s}class ro{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new oT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AT(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ST(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ST(s){return s===Os?void 0:s}function AT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new bT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Gt||(Gt={}));const xT={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},RT=Gt.INFO,CT={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},NT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=CT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=RT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const DT=(s,e)=>e.some(i=>s instanceof i);let Jy,Wy;function VT(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,od=new WeakMap,m0=new WeakMap,Xf=new WeakMap,Od=new WeakMap;function MT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ya(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d0.set(i,s)}).catch(()=>{}),Od.set(e,s),e}function OT(s){if(od.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});od.set(s,e)}let ud={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return od.get(s);if(e==="objectStoreNames")return s.objectStoreNames||m0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ya(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jT(s){ud=s(ud)}function zT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Kf(this),e,...i);return m0.set(r,e.sort?e.sort():[e]),Ya(r)}:IT().includes(s)?function(...e){return s.apply(Kf(this),e),Ya(d0.get(this))}:function(...e){return Ya(s.apply(Kf(this),e))}}function UT(s){return typeof s=="function"?zT(s):(s instanceof IDBTransaction&&OT(s),DT(s,VT())?new Proxy(s,ud):s)}function Ya(s){if(s instanceof IDBRequest)return MT(s);if(Xf.has(s))return Xf.get(s);const e=UT(s);return e!==s&&(Xf.set(s,e),Od.set(e,s)),e}const Kf=s=>Od.get(s);function LT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=Ya(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ya(d.result),v.oldVersion,v.newVersion,Ya(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kT=["get","getKey","getAll","getAllKeys","count"],BT=["put","add","delete","clear"],Zf=new Map;function t_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=BT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Zf.set(e,h),h}jT(s=>({...s,get:(e,i,r)=>t_(e,i)||s.get(e,i,r),has:(e,i)=>!!t_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function PT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cd="@firebase/app",e_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new f0("@firebase/app"),HT="@firebase/app-compat",GT="@firebase/analytics-compat",QT="@firebase/analytics",FT="@firebase/app-check-compat",YT="@firebase/app-check",XT="@firebase/auth",KT="@firebase/auth-compat",ZT="@firebase/database",$T="@firebase/data-connect",JT="@firebase/database-compat",WT="@firebase/functions",t2="@firebase/functions-compat",e2="@firebase/installations",n2="@firebase/installations-compat",i2="@firebase/messaging",a2="@firebase/messaging-compat",s2="@firebase/performance",r2="@firebase/performance-compat",l2="@firebase/remote-config",o2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/ai",d2="@firebase/firestore-compat",m2="firebase",g2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",p2={[cd]:"fire-core",[HT]:"fire-core-compat",[QT]:"fire-analytics",[GT]:"fire-analytics-compat",[YT]:"fire-app-check",[FT]:"fire-app-check-compat",[XT]:"fire-auth",[KT]:"fire-auth-compat",[ZT]:"fire-rtdb",[$T]:"fire-data-connect",[JT]:"fire-rtdb-compat",[WT]:"fire-fn",[t2]:"fire-fn-compat",[e2]:"fire-iid",[n2]:"fire-iid-compat",[i2]:"fire-fcm",[a2]:"fire-fcm-compat",[s2]:"fire-perf",[r2]:"fire-perf-compat",[l2]:"fire-rc",[o2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[d2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,y2=new Map,fd=new Map;function n_(s,e){try{s.container.addComponent(e)}catch(i){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function hc(s){const e=s.name;if(fd.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,s);for(const i of cc.values())n_(i,s);for(const i of y2.values())n_(i,s);return!0}function _2(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function v2(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new h0("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=g2;function g0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:hd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=c0()),!i)throw Xa.create("no-options");const h=cc.get(o);if(h){if(uc(i,h.options)&&uc(r,h.config))return h;throw Xa.create("duplicate-app",{appName:o})}const d=new wT(o);for(const v of fd.values())d.addComponent(v);const p=new T2(i,r,d);return cc.set(o,p),p}function S2(s=hd){const e=cc.get(s);if(!e&&s===hd&&c0())return g0();if(!e)throw Xa.create("no-app",{appName:s});return e}function Or(s,e,i){let r=p2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(d.join(" "));return}hc(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",w2=1,lo="firebase-heartbeat-store";let $f=null;function p0(){return $f||($f=LT(A2,w2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xa.create("idb-open",{originalErrorMessage:s.message})})),$f}async function x2(s){try{const i=(await p0()).transaction(lo),r=await i.objectStore(lo).get(y0(s));return await i.done,r}catch(e){if(e instanceof Hr)ca.warn(e.message);else{const i=Xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(i.message)}}}async function i_(s,e){try{const r=(await p0()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,y0(s)),await r.done}catch(i){if(i instanceof Hr)ca.warn(i.message);else{const r=Xa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ca.warn(r.message)}}}function y0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1024,C2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new V2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=a_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>C2){const d=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=a_(),{heartbeatsToSend:r,unsentEntries:o}=D2(this._heartbeatsCache.heartbeats),h=oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ca.warn(i),""}}}function a_(){return new Date().toISOString().substring(0,10)}function D2(s,e=R2){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),s_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class V2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yT()?_T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await x2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(s){return oc(JSON.stringify({version:2,heartbeats:s})).length}function I2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(s){hc(new ro("platform-logger",e=>new qT(e),"PRIVATE")),hc(new ro("heartbeat",e=>new N2(e),"PRIVATE")),Or(cd,e_,s),Or(cd,e_,"esm2020"),Or("fire-js","")}M2("");var O2="firebase",j2="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(O2,j2,"app");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ka,_0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function A(){}A.prototype=x.prototype,C.F=x.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(V,N,j){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return x.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,A){A||(A=0);const V=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)V[N]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(N=0;N<16;++N)V[N]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=C.g[0],A=C.g[1],N=C.g[2];let j=C.g[3],R;R=x+(j^A&(N^j))+V[0]+3614090360&4294967295,x=A+(R<<7&4294967295|R>>>25),R=j+(N^x&(A^N))+V[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(A^j&(x^A))+V[2]+606105819&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(x^N&(j^x))+V[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(j^A&(N^j))+V[4]+4118548399&4294967295,x=A+(R<<7&4294967295|R>>>25),R=j+(N^x&(A^N))+V[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(A^j&(x^A))+V[6]+2821735955&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(x^N&(j^x))+V[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(j^A&(N^j))+V[8]+1770035416&4294967295,x=A+(R<<7&4294967295|R>>>25),R=j+(N^x&(A^N))+V[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(A^j&(x^A))+V[10]+4294925233&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(x^N&(j^x))+V[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(j^A&(N^j))+V[12]+1804603682&4294967295,x=A+(R<<7&4294967295|R>>>25),R=j+(N^x&(A^N))+V[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(A^j&(x^A))+V[14]+2792965006&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(x^N&(j^x))+V[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(N^j&(A^N))+V[1]+4129170786&4294967295,x=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(x^A))+V[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(j^x))+V[11]+643717713&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^x&(N^j))+V[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(A^N))+V[5]+3593408605&4294967295,x=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(x^A))+V[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(j^x))+V[15]+3634488961&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^x&(N^j))+V[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(A^N))+V[9]+568446438&4294967295,x=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(x^A))+V[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(j^x))+V[3]+4107603335&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^x&(N^j))+V[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(A^N))+V[13]+2850285829&4294967295,x=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(x^A))+V[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(j^x))+V[7]+1735328473&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^x&(N^j))+V[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(A^N^j)+V[5]+4294588738&4294967295,x=A+(R<<4&4294967295|R>>>28),R=j+(x^A^N)+V[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^A)+V[11]+1839030562&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^x)+V[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^j)+V[1]+2763975236&4294967295,x=A+(R<<4&4294967295|R>>>28),R=j+(x^A^N)+V[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^A)+V[7]+4139469664&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^x)+V[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^j)+V[13]+681279174&4294967295,x=A+(R<<4&4294967295|R>>>28),R=j+(x^A^N)+V[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^A)+V[3]+3572445317&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^x)+V[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^j)+V[9]+3654602809&4294967295,x=A+(R<<4&4294967295|R>>>28),R=j+(x^A^N)+V[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^A)+V[15]+530742520&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^x)+V[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(N^(A|~j))+V[0]+4096336452&4294967295,x=A+(R<<6&4294967295|R>>>26),R=j+(A^(x|~N))+V[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~A))+V[14]+2878612391&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~x))+V[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~j))+V[12]+1700485571&4294967295,x=A+(R<<6&4294967295|R>>>26),R=j+(A^(x|~N))+V[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~A))+V[10]+4293915773&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~x))+V[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~j))+V[8]+1873313359&4294967295,x=A+(R<<6&4294967295|R>>>26),R=j+(A^(x|~N))+V[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~A))+V[6]+2734768916&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~x))+V[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~j))+V[4]+4149444226&4294967295,x=A+(R<<6&4294967295|R>>>26),R=j+(A^(x|~N))+V[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~A))+V[2]+718787259&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,x){x===void 0&&(x=C.length);const A=x-this.blockSize,V=this.C;let N=this.h,j=0;for(;j<x;){if(N==0)for(;j<=A;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<x;)if(V[N++]=C.charCodeAt(j++),N==this.blockSize){o(this,V),N=0;break}}else for(;j<x;)if(V[N++]=C[j++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=x},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,A=0;A<4;++A)for(let V=0;V<32;V+=8)C[x++]=this.g[A]>>>V&255;return C};function h(C,x){var A=p;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=x(C)}function d(C,x){this.h=x;const A=[];let V=!0;for(let N=C.length-1;N>=0;N--){const j=C[N]|0;V&&j==x||(A[N]=j,V=!1)}this.g=A}var p={};function v(C){return-128<=C&&C<128?h(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return Y(_(-C));const x=[];let A=1;for(let V=0;C>=A;V++)x[V]=C/A|0,A*=4294967296;return new d(x,0)}function S(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return Y(S(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(x,8));let V=w;for(let j=0;j<C.length;j+=8){var N=Math.min(8,C.length-j);const R=parseInt(C.substring(j,j+N),x);N<8?(N=_(Math.pow(x,N)),V=V.j(N).add(_(R))):(V=V.j(A),V=V.add(_(R)))}return V}var w=v(0),I=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(W(this))return-Y(this).m();let C=0,x=1;for(let A=0;A<this.g.length;A++){const V=this.i(A);C+=(V>=0?V:4294967296+V)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(W(this))return"-"+Y(this).toString(C);const x=_(Math.pow(C,6));var A=this;let V="";for(;;){const N=Tt(A,x).g;A=at(A,N.j(x));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=N,tt(A))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=at(this,C),W(C)?-1:tt(C)?0:1};function Y(C){const x=C.g.length,A=[];for(let V=0;V<x;V++)A[V]=~C.g[V];return new d(A,~C.h).add(I)}s.abs=function(){return W(this)?Y(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),A=[];let V=0;for(let N=0;N<=x;N++){let j=V+(this.i(N)&65535)+(C.i(N)&65535),R=(j>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,j&=65535,R&=65535,A[N]=R<<16|j}return new d(A,A[A.length-1]&-2147483648?-1:0)};function at(C,x){return C.add(Y(x))}s.j=function(C){if(tt(this)||tt(C))return w;if(W(this))return W(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(W(C))return Y(this.j(Y(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const x=this.g.length+C.g.length,A=[];for(var V=0;V<2*x;V++)A[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const j=this.i(V)>>>16,R=this.i(V)&65535,st=C.i(N)>>>16,It=C.i(N)&65535;A[2*V+2*N]+=R*It,ht(A,2*V+2*N),A[2*V+2*N+1]+=j*It,ht(A,2*V+2*N+1),A[2*V+2*N+1]+=R*st,ht(A,2*V+2*N+1),A[2*V+2*N+2]+=j*st,ht(A,2*V+2*N+2)}for(C=0;C<x;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=x;C<2*x;C++)A[C]=0;return new d(A,0)};function ht(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ut(C,x){this.g=C,this.h=x}function Tt(C,x){if(tt(x))throw Error("division by zero");if(tt(C))return new ut(w,w);if(W(C))return x=Tt(Y(C),x),new ut(Y(x.g),Y(x.h));if(W(x))return x=Tt(C,Y(x)),new ut(Y(x.g),x.h);if(C.g.length>30){if(W(C)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var A=I,V=x;V.l(C)<=0;)A=yt(A),V=yt(V);var N=At(A,1),j=At(V,1);for(V=At(V,2),A=At(A,2);!tt(V);){var R=j.add(V);R.l(C)<=0&&(N=N.add(A),j=R),V=At(V,1),A=At(A,1)}return x=at(C,N.j(x)),new ut(N,x)}for(N=w;C.l(x)>=0;){for(A=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(A)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(A),R=j.j(x);W(R)||R.l(C)>0;)A-=V,j=_(A),R=j.j(x);tt(j)&&(j=I),N=N.add(j),C=at(C,R)}return new ut(N,C)}s.B=function(C){return Tt(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),A=[];for(let V=0;V<x;V++)A[V]=this.i(V)&C.i(V);return new d(A,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),A=[];for(let V=0;V<x;V++)A[V]=this.i(V)|C.i(V);return new d(A,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),A=[];for(let V=0;V<x;V++)A[V]=this.i(V)^C.i(V);return new d(A,this.h^C.h)};function yt(C){const x=C.g.length+1,A=[];for(let V=0;V<x;V++)A[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(A,C.h)}function At(C,x){const A=x>>5;x%=32;const V=C.g.length-A,N=[];for(let j=0;j<V;j++)N[j]=x>0?C.i(j+A)>>>x|C.i(j+A+1)<<32-x:C.i(j+A);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Ka=d}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,$l,E0,nc,dd,T0,b0,S0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in y))break t;y=y[U]}u=u[u.length-1],b=y[u],m=m(b),m!=b&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&y.push([b,m[b]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(b,U,P){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[U].apply(b,et)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const y=Array(m);for(let b=0;b<m;b++)y[b]=u[b];return y}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const P=U.length||0;u.length=y+P;for(let et=0;et<P;et++)u[y+et]=U[et]}else u.push(U)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){d.setTimeout(()=>{throw u},0)}function at(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,y){const b=ut.get();b.set(m,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ut=new W(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,At=!1,C=new ht,x=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(A)}};function A(){for(var u;u=at();){try{u.h.call(u.g)}catch(y){Y(y)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(st,N),st.prototype.init=function(u,m){const y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,y,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,y){for(const b in u)m.call(y,u[b],b,u)}function Mt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let y,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(y in b)u[y]=b[y];for(let P=0;P<K.length;P++)y=K[P],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,y,b,U){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const et=Rt(u,m,b,U);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new nt(m,this.src,P,!!b,U),m.fa=y,u.push(m)),m};function Et(u,m){const y=m.type;if(y in u.g){var b=u.g[y],U=Array.prototype.indexOf.call(b,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(b,U,1),P&&(mt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Rt(u,m,y,b){for(let U=0;U<u.length;++U){const P=u[U];if(!P.da&&P.listener==m&&P.capture==!!y&&P.ha==b)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ee={};function le(u,m,y,b,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)le(u,m[P],y,b,U);return null}return y=Ye(y),u&&u[It]?u.J(m,y,p(b)?!!b.capture:!1,U):Pi(u,m,y,!1,b,U)}function Pi(u,m,y,b,U,P){if(!m)throw Error("Invalid event type");const et=p(U)?!!U.capture:!!U;let Ct=ee(u);if(Ct||(u[Ut]=Ct=new lt(u)),y=Ct.add(m,y,b,et,P),y.proxy)return y;if(b=da(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)j||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Ot(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function da(){function u(y){return m.call(u.src,u.listener,y)}const m=pe;return u}function Hi(u,m,y,b,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)Hi(u,m[P],y,b,U);else b=p(b)?!!b.capture:!!b,y=Ye(y),u&&u[It]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],y=Rt(m,y,b,U),y>-1&&(mt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=ee(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,y,b,U)),(y=u>-1?m[u]:null)&&k(y))}function k(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[It])Et(m.i,u);else{var y=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(y,b,u.capture):m.detachEvent?m.detachEvent(Ot(y),b):m.addListener&&m.removeListener&&m.removeListener(b),(y=ee(m))?(Et(y,u),y.h==0&&(y.src=null,m[Ut]=null)):mt(u)}}}function Ot(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function pe(u,m){if(u.da)u=!0;else{m=new st(m,this);const y=u.listener,b=u.ha||u.src;u.fa&&k(u),u=y.call(b,m)}return u}function ee(u){return u=u[Ut],u instanceof lt?u:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ye(u){return typeof u=="function"?u:(u[Pe]||(u[Pe]=function(m){return u.handleEvent(m)}),u[Pe])}function Zt(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}w(Zt,V),Zt.prototype[It]=!0,Zt.prototype.removeEventListener=function(u,m,y,b){Hi(this,u,m,y,b)};function Te(u,m){var y,b=u.G;if(b)for(y=[];b;b=b.G)y.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),it(m,U)}U=!0;let P,et;if(y)for(et=y.length-1;et>=0;et--)P=m.g=y[et],U=jn(P,b,!0,m)&&U;if(P=m.g=u,U=jn(P,b,!0,m)&&U,U=jn(P,b,!1,m)&&U,y)for(et=0;et<y.length;et++)P=m.g=y[et],U=jn(P,b,!1,m)&&U}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let b=0;b<y.length;b++)mt(y[b]);delete u.g[m],u.h--}}this.G=null},Zt.prototype.J=function(u,m,y,b){return this.i.add(String(u),m,!1,y,b)},Zt.prototype.K=function(u,m,y,b){return this.i.add(String(u),m,!0,y,b)};function jn(u,m,y,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==y){const Ct=et.listener,Se=et.ha||et.src;et.fa&&Et(u.i,et),U=Ct.call(Se,b)!==!1&&U}}return U&&!b.defaultPrevented}function ui(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ci(u){u.g=ui(()=>{u.g=null,u.i&&(u.i=!1,ci(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xe extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(u){V.call(this),this.h=u,this.g={}}w(un,V);var ma=[];function ss(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&k(m)},u),u.g={}}un.prototype.N=function(){un.Z.N.call(this),ss(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,bo=d.JSON.parse,So=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function wo(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){N.call(this,"d")}w(Ke,N);function zn(){N.call(this,"c")}w(zn,N);var be={},xo=null;function Ps(){return xo=xo||new Zt}be.Ia="serverreachability";function Ro(u){N.call(this,be.Ia,u)}w(Ro,N);function fi(u){const m=Ps();Te(m,new Ro(m))}be.STAT_EVENT="statevent";function rs(u,m){N.call(this,be.STAT_EVENT,u),this.stat=m}w(rs,N);function Ce(u){const m=Ps();Te(m,new rs(m,u))}be.Ja="timingevent";function di(u,m){N.call(this,be.Ja,u),this.size=m}w(di,N);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Gc(u,m,y,b,U,P){u.info(function(){if(u.g)if(P){var et="",Ct=P.split("&");for(let Xt=0;Xt<Ct.length;Xt++){var Se=Ct[Xt].split("=");if(Se.length>1){const de=Se[0];Se=Se[1];const Bn=de.split("_");et=Bn.length>=2&&Bn[1]=="type"?et+(de+"="+Se+"&"):et+(de+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function Co(u,m,y,b,U,P,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+y+`
`+P+" "+et})}function gi(u,m,y,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qc(u,y)+(b?" "+b:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function Qc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var y=P[u];if(!(y.length<2)){var b=y[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return hi(P)}catch{return m}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zr;function us(){}w(us,Ao),us.prototype.g=function(){return new XMLHttpRequest},Zr=new us;function Gi(u){return encodeURIComponent(String(u))}function No(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Jn(u,m,y,b){this.j=u,this.i=m,this.l=y,this.S=b||1,this.V=new un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ne={},He={};function pi(u,m,y){u.M=1,u.A=cs(Ve(m)),u.u=y,u.R=!0,Hs(u,null)}function Hs(u,m){u.F=Date.now(),yi(u),u.B=Ve(u.A);var y=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ys(y.i,"t",b),u.C=0,y=u.j.L,u.h=new Wn,u.g=Go(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Xe(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ma[0]=U.toString()),U=ma);for(let P=0;P<U.length;P++){const et=le(y,U[P],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),Gc(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ni(this.g),Se=this.g.ya(),Xt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Ct!=4||Se==7||(Se==8||Xt<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var y=Fc(this);if(this.o=m==200,Co(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var P=b;break e}}P=null}if(u=P)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,Ce(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<y.length;)if(de=Vo(this,y),de==He){Ct==4&&(this.m=4,Ce(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ne){this.m=4,Ce(15),gi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,de,null),vi(this,de);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||y.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,y,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),hl(et),et.P=!0,Ce(11))}}else gi(this.i,this.l,y,null),vi(this,y);Ct==4&&Sn(this),this.o&&!this.K&&(Ct==4?Bo(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Sn(this),Un(this)}}}catch{}finally{}};function Fc(u){if(!Do(u))return u.g.la();const m=Ze(u.g);if(m==="")return"";let y="";const b=m.length,U=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<b;P++)u.h.h=!0,y+=u.h.i.decode(m[P],{stream:!(U&&P==b-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Do(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Vo(u,m){var y=u.C,b=m.indexOf(`
`,y);return b==-1?He:(y=Number(m.substring(y,b)),isNaN(y)?Ne:(b+=1,b+y>m.length?He:(m=m.slice(b,b+y),u.C=b+y,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function yi(u){u.T=Date.now()+u.H,Gs(u,u.H)}function Gs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(_(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(fi(),Ce(17)),Sn(this),this.m=2,Un(this)):Gs(this,this.T-u)};function Un(u){u.j.I==0||u.K||Bo(u.j,u)}function Sn(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ss(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Ti(y.h,u))){if(!u.L&&Ti(y.h,u)&&y.I==3){try{var b=y.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Js(y),ba(y);else break t;ys(y),Ce(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=mi(_(y.Va,y),6e3));Ei(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ri(y,11)}else if((u.L||y.g==u)&&Js(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Xt=U[m];const de=Xt[0];if(!(de<=y.K))if(y.K=de,Xt=Xt[1],y.I==2)if(Xt[0]=="c"){y.M=Xt[1],y.ba=Xt[2];const Bn=Xt[3];Bn!=null&&(y.ka=Bn,y.j.info("VER="+y.ka));const Ci=Xt[4];Ci!=null&&(y.za=Ci,y.j.info("SVER="+y.za));const ii=Xt[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,y.O=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const ai=u.g;if(ai){const _s=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var P=b.h;P.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Wr(P,P.h),P.h=null))}if(b.G){const Ws=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(b.wa=Ws,Jt(b.J,b.G,Ws))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),b=y;var et=u;if(b.na=Ho(b,b.L?b.ba:null,b.W),et.L){tl(b.h,et);var Ct=et,Se=b.O;Se&&(Ct.H=Se),Ct.D&&(_i(Ct),yi(Ct)),b.g=et}else Lo(b);y.i.length>0&&xi(y)}else Xt[0]!="stop"&&Xt[0]!="close"||Ri(y,7);else y.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ri(y,7):ul(y):Xt[0]!="noop"&&y.l&&y.l.qa(Xt),y.A=0)}}fi(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wr(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function el(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Q(u.i)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const b=u[y].indexOf("=");let U,P=null;b>=0?(U=u[y].substring(0,b),P=u[y].substring(b+1)):U=u[y],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,ga(this,u.u),this.h=u.h,nl(this,zo(u.i)),this.m=u.m):u&&(m=String(u).match(Io))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),ga(this,m[4]),this.h=bi(m[5]||"",!0),nl(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hs(m,Fs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hs(m,Fs,!0),"@"),u.push(Gi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(hs(y,y.charAt(0)=="/"?il:Mo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",hs(y,Oo)),u.join("")},An.prototype.resolve=function(u){const m=Ve(this);let y=!!u.j;y?Ge(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var b=u.h;if(y)ga(m,u.u);else if(y=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let et=0;et<U.length;){const Ct=U[et++];Ct=="."?b&&et==U.length&&P.push(""):Ct==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),b&&et==U.length&&P.push("")):(P.push(Ct),b=!0)}b=P.join("/")}else b=U}return y?m.h=b:y=u.i.toString()!=="",y?nl(m,zo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ve(u){return new An(u)}function Ge(u,m,y){u.j=y?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ga(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function nl(u,m,y){m instanceof ya?(u.i=m,Xs(u.i,u.l)):(y||(m=hs(m,pa)),u.i=new ya(m,u.l))}function Jt(u,m,y){u.i.set(m,y)}function cs(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fs=/[#\/\?@]/g,Mo=/[#\?:]/g,il=/[#\?]/g,pa=/[#\?@]/g,Oo=/#/g;function ya(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ya.prototype,s.add=function(u,m){mn(this),this.i=null,u=_a(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function jo(u,m){mn(u),m=_a(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function al(u,m){return mn(u),m=_a(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(y,b){y.forEach(function(U){u.call(m,U,b,this)},this)},this)};function sl(u,m){mn(u);let y=[];if(typeof m=="string")al(u,m)&&(y=y.concat(u.g.get(_a(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return mn(this),this.i=null,u=_a(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=sl(this,u),u.length>0?String(u[0]):m):m};function Ys(u,m,y){jo(u,m),y.length>0&&(u.i=null,u.g.set(_a(u,m),Q(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var y=m[b];const U=Gi(y);y=sl(this,y);for(let P=0;P<y.length;P++){let et=U;y[P]!==""&&(et+="="+Gi(y[P])),u.push(et)}}return this.i=u.join("&")};function zo(u){const m=new ya;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _a(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xs(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(y,b){const U=b.toLowerCase();b!=U&&(jo(this,b),Ys(this,U,y))},u)),u.j=m}function ti(u,m){const y=new $n;if(d.Image){const b=new Image;b.onload=S(Ln,y,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Ln,y,"TestLoadImage: error",!1,m,b),b.onabort=S(Ln,y,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Ln,y,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function rl(u,m){const y=new $n,b=new AbortController,U=setTimeout(()=>{b.abort(),Ln(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(P=>{clearTimeout(U),P.ok?Ln(y,"TestPingServer: ok",!0,m):Ln(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(y,"TestPingServer: error",!1,m)})}function Ln(u,m,y,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(y)}catch{}}function va(){this.g=new So}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Si,Ao),Si.prototype.g=function(){return new fs(this.i,this.h)};function fs(u,m){Zt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fs,Zt),s=fs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ks(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ea(this):ei(this),this.readyState==3&&Ks(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},s.Na=function(u){this.g&&(this.response=u,Ea(this))},s.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return Vt(u,function(y,b){m+=b,m+=":",m+=y,m+=`\r
`}),m}function ds(u,m,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=kn(y),typeof u=="string"?y!=null&&Gi(y):Jt(u,m,y))}function ne(u){Zt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ne,Zt);var Ai=/^https?$/i,ll=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zr.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){ms(this,P);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)y.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const P of b.keys())y.set(P,b.get(P));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ll,m,void 0)>=0)||b||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of y)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){ms(this,P)}};function ms(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ol(u),Qi(u)}function ol(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},s.Xa=function(){gs(this)};function gs(u){if(u.h&&typeof h<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),ni(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var b;if(b=P===0){let et=String(u.D).match(Io)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ai.test(et?et.toLowerCase():"")}y=b}if(y)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var U=ni(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ol(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Te(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bo(m)}};function Ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var y=No(u[b]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const P=m[U]||[];m[U]=P,P.push(y)}Mt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ta(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new va,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ta.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,b){Ce(0),this.W=u,this.H=m||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.J=Ho(this,null,this.W),xi(this)};function ul(u){if(Zs(u),u.I==3){var m=u.V++,y=Ve(u.J);if(Jt(y,"SID",u.M),Jt(y,"RID",m),Jt(y,"TYPE","terminate"),ps(u,y),m=new Jn(u,u.j,m),m.M=2,m.A=cs(Ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Go(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Po(u)}function ba(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Zs(u){ba(u),u.v&&(d.clearTimeout(u.v),u.v=null),Js(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Jr(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||x(),At||(yt(),At=!0),C.add(m,u),u.D=0}}function $s(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(_(u.Ea,u,m),qo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=O(P),it(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Uo(this,U,m),y=Ve(this.J),Jt(y,"RID",u),Jt(y,"CVER",22),this.G&&Jt(y,"X-HTTP-Session-Id",this.G),ps(this,y),P&&(this.R?m="headers="+Gi(kn(P))+"&"+m:this.u&&ds(y,this.u,P)),Wr(this.h,U),this.Ra&&Jt(y,"TYPE","init"),this.S?(Jt(y,"$req",m),Jt(y,"SID","null"),U.U=!0,pi(U,y,null)):pi(U,y,m),this.I=2}}else this.I==3&&(u?cl(this,u):this.i.length==0||Jr(this.h)||cl(this))};function cl(u,m){var y;m?y=m.l:y=u.V++;const b=Ve(u.J);Jt(b,"SID",u.M),Jt(b,"RID",y),Jt(b,"AID",u.K),ps(u,b),u.u&&u.o&&ds(b,u.u,u.o),y=new Jn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Wr(u.h,y),pi(y,b,m)}function ps(u,m){u.H&&Vt(u.H,function(y,b){Jt(m,b,y)}),u.l&&Vt({},function(y,b){Jt(m,b,y)})}function Uo(u,m,y){y=Math.min(u.i.length,y);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const Se=["count="+y];Ct==-1?y>0?(Ct=U[0].g,Se.push("ofs="+Ct)):Ct=0:Se.push("ofs="+Ct);let Xt=!0;for(let de=0;de<y;de++){var P=U[de].g;const Bn=U[de].map;if(P-=Ct,P<0)Ct=Math.max(0,U[de].g-100),Xt=!1;else try{P="req"+P+"_"||"";try{var et=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ci,ii]of et){let ai=ii;p(ii)&&(ai=hi(ii)),Se.push(P+Ci+"="+encodeURIComponent(ai))}}catch(Ci){throw Se.push(P+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Bn)}}if(Xt){et=Se.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function Lo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||x(),At||(yt(),At=!0),C.add(m,u),u.A=0}}function ys(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(_(u.Da,u),qo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),ba(this),ko(this))};function hl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ko(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),ps(u,m),u.u&&u.o&&ds(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=cs(Ve(m)),y.u=null,y.R=!0,Hs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,ba(this),ys(this),Ce(19))};function Js(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Bo(u,m){var y=null;if(u.g==m){Js(u),hl(u),u.g=null;var b=2}else if(Ti(u.h,m))y=m.G,tl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Ps(),Te(b,new di(b,y)),xi(u)}else Lo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&$s(u,m)||b==2&&ys(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function qo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),b=u.Ua;const U=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(b,"https"),cs(b),U?ti(b.toString(),y):rl(b.toString(),y)}else Ce(2);u.I=0,u.l&&u.l.pa(m),Po(u),Zs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Po(u){if(u.I=0,u.ja=[],u.l){const m=el(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Ho(u,m,y){var b=y instanceof An?Ve(y):new An(y);if(b.g!="")m&&(b.g=m+"."+b.g),ga(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new An(null);b&&Ge(P,b),m&&(P.g=m),U&&ga(P,U),y&&(P.h=y),b=P}return y=u.G,m=u.wa,y&&m&&Jt(b,y,m),Jt(b,"VER",u.ka),ps(u,b),b}function Go(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Si({ab:y})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qo(){}s=Qo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Sa(){}Sa.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){Zt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}w(cn,Zt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ul(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=hi(u),u=y);m.i.push(new De(m.Ya++,u)),m.I==3&&xi(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,cn.Z.N.call(this)};function Fo(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Fo,Ke);function Yo(){zn.call(this),this.status=1}w(Yo,zn);function Yi(u){this.g=u}w(Yi,Qo),Yi.prototype.ra=function(){Te(this.g,"a")},Yi.prototype.qa=function(u){Te(this.g,new Fo(u))},Yi.prototype.pa=function(u){Te(this.g,new Yo)},Yi.prototype.oa=function(){Te(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,S0=function(){return new Sa},b0=function(){return Ps()},T0=be,dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,nc=os,Kr.COMPLETE="complete",E0=Kr,wo.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,$l=wo,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,v0=ne}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",o_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new f0("@firebase/firestore");function Dr(){return Us.logLevel}function ot(s,...e){if(Us.logLevel<=Gt.DEBUG){const i=e.map(jd);Us.debug(`Firestore (${Gr}): ${s}`,...i)}}function ha(s,...e){if(Us.logLevel<=Gt.ERROR){const i=e.map(jd);Us.error(`Firestore (${Gr}): ${s}`,...i)}}function Ur(s,...e){if(Us.logLevel<=Gt.WARN){const i=e.map(jd);Us.warn(`Firestore (${Gr}): ${s}`,...i)}}function jd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,A0(s,r,i)}function A0(s,e,i){let r=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ha(r),new Error(r)}function $t(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||A0(e,o,r)}function xt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$t(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ua,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ua)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new w0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class k2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new k2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,v2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$t(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new u_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=P2(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Bt(s,e){return s<e?-1:s>e?1:0}function md(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Jf(o)===Jf(h)?Bt(o,h):Jf(o)?1:-1}return Bt(s.length,e.length)}const H2=55296,G2=57343;function Jf(s){const e=s.charCodeAt(0);return e>=H2&&e<=G2}function Lr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="__name__";class Oi{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Oi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Bt(e.length,i.length)}static compareSegments(e,i){const r=Oi.isNumericId(e),o=Oi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(i)):md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ka.fromString(e.substring(4,e.length-2))}}class ue extends Oi{construct(e,i,r){return new ue(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Oi{construct(e,i,r){return new nn(e,i,r)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c_}static keyField(){return new nn([c_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ue.fromString(e))}static fromName(e){return new pt(ue.fromString(e).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ue.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(s,e,i){if(!i)throw new rt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function F2(s,e,i,r){if(e===!0&&r===!0)throw new rt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function h_(s){if(!pt.isDocumentKey(s))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function f_(s){if(pt.isDocumentKey(s))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function R0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ac(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Bi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ac(s);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(s,e){const i={typeString:s};return e&&(i.value=e),i}function go(s,e){if(!R0(s))throw new rt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-62135596800,m_=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(e){return fe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*m_);return new fe(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<d_)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,fe._jsonSchema))return new fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Le("string",fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new fe(0,0))}static max(){return new St(new fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function Y2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new fe(i+1,0):new fe(i,r));return new $a(o,pt.empty(),e)}function X2(s){return new $a(s.readTime,s.key,oo)}class $a{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new $a(St.min(),pt.empty(),oo)}static max(){return new $a(St.max(),pt.empty(),oo)}}function K2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,e.documentKey),i!==0?i:Bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==Z2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++p,p===h&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function J2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;function xc(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function W2(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="";function tb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=g_(e)),e=eb(s.get(i),e);return g_(e)}function eb(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case C0:i+="";break;default:i+=h}}return i}function g_(s){return s+C0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function is(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new ge(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=h??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new en(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qe(this.comparator);return i.data=e,i}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new On([])}unionWith(e){let i=new qe(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Lr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new D0("Invalid base64 string: "+h):h}})(e);return new an(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(s){if($t(!!s,39018),typeof s=="string"){let e=0;const i=nb.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Wa(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="server_timestamp",I0="__type__",M0="__previous_value__",O0="__local_write_time__";function Ld(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[I0])==null?void 0:r.stringValue)===V0}function Rc(s){const e=s.mapValue.fields[M0];return Ld(e)?Rc(e):e}function uo(s){const e=Ja(s.mapValue.fields[O0].timestampValue);return new fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,r,o,h,d,p,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const dc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="__type__",ab="__max__",Wu={mapValue:{}},z0="__vector__",mc="value";function ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ld(s)?4:rb(s)?9007199254740991:sb(s)?10:11:vt(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=ts(s);if(i!==ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return uo(s).isEqual(uo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ja(o.timestampValue),p=Ja(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Wa(o.bytesValue).isEqual(Wa(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return Re(o.geoPointValue.latitude)===Re(h.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Re(o.integerValue)===Re(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Re(o.doubleValue),p=Re(h.doubleValue);return d===p?fc(d)===fc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Lr(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(p_(d)!==p_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!qi(d[v],p[v])))return!1;return!0})(s,e);default:return vt(52216,{left:s})}}function ho(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function kr(s,e){if(s===e)return 0;const i=ts(s),r=ts(e);if(i!==r)return Bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Re(h.integerValue||h.doubleValue),v=Re(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return __(s.timestampValue,e.timestampValue);case 4:return __(uo(s),uo(e));case 5:return md(s.stringValue,e.stringValue);case 6:return(function(h,d){const p=Wa(h),v=Wa(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Bt(p[_],v[_]);if(S!==0)return S}return Bt(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Bt(Re(h.latitude),Re(d.latitude));return p!==0?p:Bt(Re(h.longitude),Re(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return v_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var I,Q,tt,W;const p=h.fields||{},v=d.fields||{},_=(I=p[mc])==null?void 0:I.arrayValue,S=(Q=v[mc])==null?void 0:Q.arrayValue,w=Bt(((tt=_==null?void 0:_.values)==null?void 0:tt.length)||0,((W=S==null?void 0:S.values)==null?void 0:W.length)||0);return w!==0?w:v_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Wu.mapValue&&d===Wu.mapValue)return 0;if(h===Wu.mapValue)return 1;if(d===Wu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const I=md(v[w],S[w]);if(I!==0)return I;const Q=kr(p[v[w]],_[S[w]]);if(Q!==0)return Q}return Bt(v.length,S.length)})(s.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function __(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Bt(s,e);const i=Ja(s),r=Ja(e),o=Bt(i.seconds,r.seconds);return o!==0?o:Bt(i.nanos,r.nanos)}function v_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=kr(i[o],r[o]);if(h)return h}return Bt(i.length,r.length)}function Br(s){return gd(s)}function gd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ja(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Wa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=gd(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${gd(i.fields[d])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function ic(s){switch(ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(s);return e?16+ic(e):16;case 5:return 2*s.stringValue.length;case 6:return Wa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ic(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return is(r.fields,((h,d)=>{o+=h.length+ic(d)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function E_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pd(s){return!!s&&"integerValue"in s}function kd(s){return!!s&&"arrayValue"in s}function T_(s){return!!s&&"nullValue"in s}function b_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ac(s){return!!s&&"mapValue"in s}function sb(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[j0])==null?void 0:r.stringValue)===z0}function no(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return is(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=no(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(s.arrayValue.values[i]);return e}return{...s}}function rb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ab}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ac(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=nn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=no(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){is(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Tn(no(this.value))}}function U0(s){const e=[];return is(s.fields,((i,r)=>{const o=new nn([i]);if(ac(r)){const h=U0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(e,i,r,o){return new on(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new on(e,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.position=e,this.inclusive=i}}function S_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=kr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function A_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i="asc"){this.field=e,this.dir=i}}function lb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{}class Ue extends L0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new ub(e,i,r):i==="array-contains"?new fb(e,r):i==="in"?new db(e,r):i==="not-in"?new mb(e,r):i==="array-contains-any"?new gb(e,r):new Ue(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new cb(e,r):new hb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(kr(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(kr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends L0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new oi(e,i)}matches(e){return k0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k0(s){return s.op==="and"}function B0(s){return ob(s)&&k0(s)}function ob(s){for(const e of s.filters)if(e instanceof oi)return!1;return!0}function yd(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+Br(s.value);if(B0(s))return s.filters.map((e=>yd(e))).join(",");{const e=s.filters.map((i=>yd(i))).join(",");return`${s.op}(${e})`}}function q0(s,e){return s instanceof Ue?(function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,e):s instanceof oi?(function(r,o){return o instanceof oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&q0(d,o.filters[p])),!0):!1})(s,e):void vt(19439)}function P0(s){return s instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(s):s instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(P0).join(" ,")+"}"})(s):"Filter"}class ub extends Ue{constructor(e,i,r){super(e,i,r),this.key=pt.fromName(r.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class cb extends Ue{constructor(e,i){super(e,"in",i),this.keys=H0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hb extends Ue{constructor(e,i){super(e,"not-in",i),this.keys=H0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function H0(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>pt.fromName(r.referenceValue)))}class fb extends Ue{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return kd(i)&&ho(i.arrayValue,this.value)}}class db extends Ue{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class mb extends Ue{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class gb extends Ue{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ho(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function w_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new pb(s,e,i,r,o,h,d)}function Bd(s){const e=xt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>yd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Br(r))).join(",")),e.Te=i}return e.Te}function qd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!q0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A_(s.startAt,e.startAt)&&A_(s.endAt,e.endAt)}function _d(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yb(s,e,i,r,o,h,d,p){return new po(s,e,i,r,o,h,d,p)}function Pd(s){return new po(s)}function x_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function G0(s){return s.collectionGroup!==null}function io(s){const e=xt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(nn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new pc(h,r))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new pc(nn.keyField(),r))}return e.Ie}function ji(s){const e=xt(s);return e.Ee||(e.Ee=_b(e,io(s))),e.Ee}function _b(s,e){if(s.limitType==="F")return w_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new pc(o.field,h)}));const i=s.endAt?new gc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gc(s.startAt.position,s.startAt.inclusive):null;return w_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function vd(s,e){const i=s.filters.concat([e]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ed(s,e,i){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Cc(s,e){return qd(ji(s),ji(e))&&s.limitType===e.limitType}function Q0(s){return`${Bd(ji(s))}|lt:${s.limitType}`}function Vr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>P0(o))).join(", ")}]`),xc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${r})`})(ji(s))}; limitType=${s.limitType})`}function Nc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of io(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=S_(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,io(r),o)||r.endAt&&!(function(d,p,v){const _=S_(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,io(r),o))})(s,e)}function vb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F0(s){return(e,i)=>{let r=!1;for(const o of io(s)){const h=Eb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function Eb(s,e,i){const r=s.field.isKeyField()?pt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?kr(v,_):vt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new ge(pt.comparator);function fa(){return Tb}const Y0=new ge(pt.comparator);function Jl(...s){let e=Y0;for(const i of s)e=e.insert(i.key,i);return e}function X0(s){let e=Y0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function js(){return ao()}function K0(){return ao()}function ao(){return new ks((s=>s.toString()),((s,e)=>s.isEqual(e)))}const bb=new ge(pt.comparator),Sb=new qe(pt.comparator);function qt(...s){let e=Sb;for(const i of s)e=e.add(i);return e}const Ab=new qe(Bt);function wb(){return Ab}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Z0(s){return{integerValue:""+s}}function xb(s,e){return W2(e)?Z0(e):Hd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function Rb(s,e,i){return s instanceof yc?(function(o,h){const d={fields:{[I0]:{stringValue:V0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ld(h)&&(h=Rc(h)),h&&(d.fields[M0]=h),{mapValue:d}})(i,e):s instanceof fo?J0(s,e):s instanceof mo?W0(s,e):(function(o,h){const d=$0(o,h),p=R_(d)+R_(o.Ae);return pd(d)&&pd(o.Ae)?Z0(p):Hd(o.serializer,p)})(s,e)}function Cb(s,e,i){return s instanceof fo?J0(s,e):s instanceof mo?W0(s,e):i}function $0(s,e){return s instanceof _c?(function(r){return pd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class yc extends Dc{}class fo extends Dc{constructor(e){super(),this.elements=e}}function J0(s,e){const i=tv(e);for(const r of s.elements)i.some((o=>qi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mo extends Dc{constructor(e){super(),this.elements=e}}function W0(s,e){let i=tv(e);for(const r of s.elements)i=i.filter((o=>!qi(o,r)));return{arrayValue:{values:i}}}class _c extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function R_(s){return Re(s.integerValue||s.doubleValue)}function tv(s){return kd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Nb(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof mo&&o instanceof mo?Lr(r.elements,o.elements,qi):r instanceof _c&&o instanceof _c?qi(r.Ae,o.Ae):r instanceof yc&&o instanceof yc})(s.transform,e.transform)}class Db{constructor(e,i){this.version=e,this.transformResults=i}}class bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vc{}function ev(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ic(s.key,bn.none()):new yo(s.key,s.data,bn.none());{const i=s.data,r=Tn.empty();let o=new qe(nn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new as(s.key,r,new On(o.toArray()),bn.none())}}function Vb(s,e,i){s instanceof yo?(function(o,h,d){const p=o.value.clone(),v=N_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof as?(function(o,h,d){if(!sc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=N_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(nv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function so(s,e,i,r){return s instanceof yo?(function(h,d,p,v){if(!sc(h.precondition,d))return p;const _=h.value.clone(),S=D_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof as?(function(h,d,p,v){if(!sc(h.precondition,d))return p;const _=D_(h.fieldTransforms,v,d),S=d.data;return S.setAll(nv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(h,d,p){return sc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ib(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=$0(r.transform,o||null);h!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,h))}return i||null}function C_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lr(r,o,((h,d)=>Nb(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class yo extends Vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends Vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function N_(s,e,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,Cb(d,p,i[o]))}return r}function D_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Rb(h,d,e))}return r}class Ic extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mb extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Vb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=K0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=ev(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&Lr(this.mutations,e.mutations,((i,r)=>C_(i,r)))&&Lr(this.baseMutations,e.baseMutations,((i,r)=>C_(i,r)))}}class Gd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return bb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Gd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Ht;function Ub(s){switch(s){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function iv(s){if(s===void 0)return ha("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ze.OK:return Z.OK;case ze.CANCELLED:return Z.CANCELLED;case ze.UNKNOWN:return Z.UNKNOWN;case ze.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ze.INTERNAL:return Z.INTERNAL;case ze.UNAVAILABLE:return Z.UNAVAILABLE;case ze.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ze.NOT_FOUND:return Z.NOT_FOUND;case ze.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ze.ABORTED:return Z.ABORTED;case ze.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ze.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:s})}}(Ht=ze||(ze={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Ka([4294967295,4294967295],0);function V_(s){const e=Lb().encode(s),i=new _0;return i.update(e),new Uint8Array(i.digest())}function I_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ka([i,r],0),new Ka([o,h],0)]}class Qd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ka.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ka.fromNumber(r)));return o.compare(kb)===1&&(o=new Ka([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=V_(e),[r,o]=I_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Qd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=V_(e),[r,o]=I_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mc(St.min(),o,new ge(Bt),fa(),qt())}}class _o{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new _o(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class av{constructor(e,i){this.targetId=e,this.Ce=i}}class sv{constructor(e,i,r=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class M_{constructor(){this.ve=0,this.Fe=O_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),r=qt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=O_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bb{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.Je=tc(),this.He=tc(),this.Ye=new ge(Bt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(_d(h))if(r===0){const d=new pt(h.path);this.et(i,d,on.newNoDocument(d,St.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Wa(r).toUint8Array()}catch(v){if(v instanceof D0)return Ur("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Qd(d,o,h)}catch(v){return Ur(v instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&_d(p.target)){const v=new pt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=qt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Mc(e,i,this.Ye,this.je,r);return this.je=fa(),this.Je=tc(),this.He=tc(),this.Ye=new ge(Bt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new M_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qe(Bt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qe(Bt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function tc(){return new ge(pt.comparator)}function O_(){return new ge(pt.comparator)}const qb={asc:"ASCENDING",desc:"DESCENDING"},Pb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hb={and:"AND",or:"OR"};class Gb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Td(s,e){return s.useProto3Json||xc(e)?e:{value:e}}function vc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Qb(s,e){return vc(s,e.toTimestamp())}function zi(s){return $t(!!s,49232),St.fromTimestamp((function(i){const r=Ja(i);return new fe(r.seconds,r.nanos)})(s))}function Fd(s,e){return bd(s,e).canonicalString()}function bd(s,e){const i=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function lv(s){const e=ue.fromString(s);return $t(fv(e),10190,{key:e.toString()}),e}function Sd(s,e){return Fd(s.databaseId,e.path)}function Wf(s,e){const i=lv(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(uv(i))}function ov(s,e){return Fd(s.databaseId,e)}function Fb(s){const e=lv(s);return e.length===4?ue.emptyPath():uv(e)}function Ad(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uv(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function j_(s,e,i){return{name:Sd(s,e),fields:i.value.mapValue.fields}}function Yb(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?($t(S===void 0||typeof S=="string",58123),an.fromBase64String(S||"")):($t(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),an.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:iv(_.code);return new rt(S,_.message||"")})(d);i=new sv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wf(s,r.document.name),h=zi(r.document.updateTime),d=r.document.createTime?zi(r.document.createTime):St.min(),p=new Tn({mapValue:{fields:r.document.fields}}),v=on.newFoundDocument(o,h,d,p),_=r.targetIds||[],S=r.removedTargetIds||[];i=new rc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wf(s,r.document),h=r.readTime?zi(r.readTime):St.min(),d=on.newNoDocument(o,h),p=r.removedTargetIds||[];i=new rc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wf(s,r.document),h=r.removedTargetIds||[];i=new rc([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new zb(o,h),p=r.targetId;i=new av(p,d)}}return i}function Xb(s,e){let i;if(e instanceof yo)i={update:j_(s,e.key,e.value)};else if(e instanceof Ic)i={delete:Sd(s,e.key)};else if(e instanceof as)i={update:j_(s,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof Mb))return vt(16599,{Vt:e.type});i={verify:Sd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _c)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Qb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(s,e.precondition)),i}function Kb(s,e){return s&&s.length>0?($t(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?zi(o.updateTime):zi(h);return d.isEqual(St.min())&&(d=zi(h)),new Db(d,o.transformResults||[])})(i,e)))):[]}function Zb(s,e){return{documents:[ov(s,e.path)]}}function $b(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=ov(s,o);const h=(function(_){if(_.length!==0)return hv(oi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(I){return{field:Ir(I.field),direction:tS(I.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Td(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Jb(s){let e=Fb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){$t(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(w){const I=cv(w);return I instanceof oi&&B0(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((I=>(function(tt){return new pc(Mr(tt.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let I;return I=typeof w=="object"?w.value:w,xc(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(w){const I=!!w.before,Q=w.values||[];return new gc(Q,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const I=!w.before,Q=w.values||[];return new gc(Q,I)})(i.endAt)),yb(e,o,d,h,p,"F",v,_)}function Wb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Mr(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mr(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Mr(i.unaryFilter.field);return Ue.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mr(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ue.create(Mr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>cv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function tS(s){return qb[s]}function eS(s){return Pb[s]}function nS(s){return Hb[s]}function Ir(s){return{fieldPath:s.canonicalString()}}function Mr(s){return nn.fromServerFormat(s.fieldPath)}function hv(s){return s instanceof Ue?(function(i){if(i.op==="=="){if(b_(i.value))return{unaryFilter:{field:Ir(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ir(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(b_(i.value))return{unaryFilter:{field:Ir(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ir(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(i.field),op:eS(i.op),value:i.value}}})(s):s instanceof oi?(function(i){const r=i.getFilters().map((o=>hv(o)));return r.length===1?r[0]:{compositeFilter:{op:nS(i.op),filters:r}}})(s):vt(54877,{filter:s})}function iS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function fv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,i,r,o,h=St.min(),d=St.min(),p=an.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.yt=e}}function sS(s){const e=Jb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.Cn=new lS}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve($a.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve($a.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class lS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new qe(ue.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dv=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(dv,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qr(0)}static cr(){return new qr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="LruGarbageCollector",oS=1048576;function L_([s,e],[i,r]){const o=Bt(s,i);return o===0?Bt(e,r):o}class uS{constructor(e){this.Ir=e,this.buffer=new qe(L_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();L_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(U_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fr(i)?ot(U_,"Ignoring IndexedDB error during garbage collection: ",i):await Qr(i)}await this.Vr(3e5)}))}}class hS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(wc.ce);const r=new uS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(z_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,p,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),Dr()<=Gt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function fS(s,e){return new hS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changes=new ks((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&so(r.mutation,o,On.empty(),fe.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qt()){const o=js();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Jl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=js();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=fa();const d=ao(),p=(function(){return ao()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof as)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),so(S.mutation,_,S.mutation.getFieldMask(),fe.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new mS(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=ao();let o=new ge(((d,p)=>d-p)),h=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||On.empty();S=p.applyToLocalView(_,S),r.set(v,S);const w=(o.get(p.batchId)||qt()).add(v);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,w=K0();S.forEach((I=>{if(!h.has(I)){const Q=ev(i.get(I),r.get(I));Q!==null&&w.set(I,Q),h=h.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):G0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):J.resolve(js());let p=oo,v=h;return d.next((_=>J.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),h.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((I=>{v=v.insert(S,I)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,qt()))).next((S=>({batchId:p,changes:X0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,h).next((p=>J.forEach(p,(v=>{const _=(function(w,I){return new po(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,on.newInvalidDocument(S)))}));let p=Jl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&so(S.mutation,_,On.empty(),fe.now()),Nc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:zi(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.overlays=new ge(pt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=js();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=js(),h=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ge(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=h.get(_.largestBatchId);S===null&&(S=js(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=js(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=o)););return J.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new jb(i,r));let h=this.qr.get(i);h===void 0&&(h=qt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Qr=new qe(Fe.$r),this.Ur=new qe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Fe(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Fe(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new pt(new ue([])),r=new Fe(i,e),o=new Fe(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ue([])),r=new Fe(i,e),o=new Fe(i,e+1);let h=qt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Fe(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Bt(e.Yr,i.Yr)}static Kr(e,i){return Bt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Fe.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ob(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Fe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ud:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qe(Bt);return i.forEach((o=>{const h=new Fe(o,0),d=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;pt.isDocumentKey(h)||(h=h.child(""));const d=new Fe(new pt(h),0);let p=new qe(Bt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Fe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Fe(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.ri=e,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let r=fa();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():on.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=fa();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||K2(X2(S),r)<=0||(o.has(S.key)||Nc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,r,o){vt(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new TS(this)}getSize(e){return J.resolve(this.size)}}class TS extends dS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.si=new ks((i=>Bd(i)),qd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Yd,this.targetCount=0,this.ai=qr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new qr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.ui={},this.overlays={},this.ci=new wc(0),this.li=!1,this.li=!0,this.hi=new _S,this.referenceDelegate=e(this),this.Pi=new bS(this),this.indexManager=new rS,this.remoteDocumentCache=(function(o){return new ES(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new aS(i),this.Ii=new pS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new vS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ot("MemoryPersistence","Starting transaction:",e);const o=new SS(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class SS extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Ri=new Yd,this.Vi=null}static mi(e){return new Xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=pt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ec{constructor(e,i){this.persistence=e,this.pi=new ks((r=>tb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=fS(this,i)}static mi(e,i){return new Ec(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=qt(),o=qt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Kd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pT()?8:J2(mT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new AS;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Dr()<=Gt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Vr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Dr()<=Gt.DEBUG&&ot("QueryEngine","Query:",Vr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Dr()<=Gt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Vr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):J.resolve())}ys(e,i){if(x_(i))return J.resolve(null);let r=ji(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ed(i,null,"F"),r=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=qt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Ed(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return x_(i)||o.isEqual(St.min())?J.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?J.resolve(null):(Dr()<=Gt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vr(i)),this.vs(e,d,i,Y2(o,oo)).next((p=>p)))}))}Ds(e,i){let r=new qe(F0(e));return i.forEach(((o,h)=>{Nc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return Dr()<=Gt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Vr(i)),this.ps.getDocumentsMatchingQuery(e,i,$a.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",xS=3e8;class RS{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ge(Bt),this.xs=new ks((h=>Bd(h)),qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function CS(s,e,i,r){return new RS(s,e,i,r)}async function gv(s,e){const i=xt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=qt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function NS(s,e){const i=xt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,S){const w=_.batch,I=w.keys();let Q=J.resolve();return I.forEach((tt=>{Q=Q.next((()=>S.getEntry(v,tt))).next((W=>{const Y=_.docVersions.get(tt);$t(Y!==null,48541),W.version.compareTo(Y)<0&&(w.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=qt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function pv(s){const e=xt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function DS(s,e){const i=xt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,w)=>{const I=o.get(w);if(!I)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,w))));let Q=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(an.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(w,Q),(function(W,Y,at){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=xS?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(I,Q,S)&&p.push(i.Pi.updateTargetData(h,Q))}));let v=fa(),_=qt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(VS(h,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(St.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((w=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(S)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function VS(s,e,i){let r=qt(),o=qt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=fa();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ot(Zd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function IS(s,e){const i=xt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ud),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MS(s,e){const i=xt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Fa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function wd(s,e,i){const r=xt(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fr(d))throw d;ot(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function k_(s,e,i){const r=xt(s);let o=St.min(),h=qt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=xt(v),I=w.xs.get(S);return I!==void 0?J.resolve(w.Ms.get(I)):w.Pi.getTargetData(_,S)})(r,d,ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:qt()))).next((p=>(OS(r,vb(e),p),{documents:p,Qs:h})))))}function OS(s,e,i){let r=s.Os.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class B_{constructor(){this.activeTargetIds=wb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function xd(){return ec===null?ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",US={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===dc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=xd(),p=this.zo(e,i.toUriEncodedString());ot(td,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),S=Md(_);return this.Jo(e,p,v,r,S).then((w=>(ot(td,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Ur(td,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=US[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class BS extends LS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=xd();return new Promise(((p,v)=>{const _=new v0;_.setWithCredentials(!0),_.listenOnce(E0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case nc.NO_ERROR:const w=_.getResponseJson();ot(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case nc.TIMEOUT:ot(rn,`RPC '${e}' ${d} timed out`),v(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const I=_.getStatus();if(ot(rn,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q==null?void 0:Q.error;if(tt&&tt.status&&tt.message){const W=(function(at){const ht=at.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ht)>=0?ht:Z.UNKNOWN})(tt.status);v(new rt(W,tt.message))}else v(new rt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(rn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ot(rn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=xd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S0(),p=b0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=h.join("");ot(rn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const w=d.createWebChannel(S,v);this.I_(w);let I=!1,Q=!1;const tt=new kS({Yo:Y=>{Q?ot(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(I||(ot(rn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),ot(rn,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),W=(Y,at,ht)=>{Y.listen(at,(ut=>{try{ht(ut)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return W(w,$l.EventType.OPEN,(()=>{Q||(ot(rn,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),W(w,$l.EventType.CLOSE,(()=>{Q||(Q=!0,ot(rn,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(w))})),W(w,$l.EventType.ERROR,(Y=>{Q||(Q=!0,Ur(rn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),tt.a_(new rt(Z.UNAVAILABLE,"The operation could not be completed")))})),W(w,$l.EventType.MESSAGE,(Y=>{var at;if(!Q){const ht=Y.data[0];$t(!!ht,16349);const ut=ht,Tt=(ut==null?void 0:ut.error)||((at=ut[0])==null?void 0:at.error);if(Tt){ot(rn,`RPC '${e}' stream ${o} received error:`,Tt);const yt=Tt.status;let At=(function(A){const V=ze[A];if(V!==void 0)return iv(V)})(yt),C=Tt.message;At===void 0&&(At=Z.INTERNAL,C="Unknown error status: "+yt+" with message "+Tt.message),Q=!0,tt.a_(new rt(At,C)),w.close()}else ot(rn,`RPC '${e}' stream ${o} received:`,ht),tt.u_(ht)}})),W(p,T0.STAT_EVENT,(Y=>{Y.stat===dd.PROXY?ot(rn,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===dd.NOPROXY&&ot(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(s){return new Gb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class _v{constructor(e,i,r,o,h,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ha(i.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qS extends _v{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Yb(this.serializer,e),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?zi(d.readTime):St.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Ad(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=_d(v)?{documents:Zb(h,v)}:{query:$b(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=rv(h,d.resumeToken);const _=Td(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=vc(h,d.snapshotVersion.toTimestamp());const _=Td(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=Wb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Ad(this.serializer),i.removeTarget=e,this.q_(i)}}class PS extends _v{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Kb(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Xb(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class GS extends HS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,bd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Z.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,bd(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class FS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Bs(this)&&(ot(Ls,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await vo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jc(_)})(this))}))})),this.Ra=new QS(r,o)}}async function jc(s){if(Bs(s))for(const e of s.da)await e(!0)}async function vo(s){for(const e of s.da)await e(!1)}function vv(s,e){const i=xt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tm(i)?Wd(i):Yr(i).O_()&&Jd(i,e))}function $d(s,e){const i=xt(s),r=Yr(i);i.Ia.delete(e),r.O_()&&Ev(i,e),i.Ia.size===0&&(r.O_()?r.L_():Bs(i)&&i.Ra.set("Unknown"))}function Jd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yr(s).Y_(e)}function Ev(s,e){s.Va.Ue(e),Yr(s).Z_(e)}function Wd(s){s.Va=new Bb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Yr(s).start(),s.Ra.ua()}function tm(s){return Bs(s)&&!Yr(s).x_()&&s.Ia.size>0}function Bs(s){return xt(s).Ea.size===0}function Tv(s){s.Va=void 0}async function YS(s){s.Ra.set("Online")}async function XS(s){s.Ia.forEach(((e,i)=>{Jd(s,e)}))}async function KS(s,e){Tv(s),tm(s)?(s.Ra.ha(e),Wd(s)):s.Ra.set("Unknown")}async function ZS(s,e,i){if(s.Ra.set("Online"),e instanceof sv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ot(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(s,r)}else if(e instanceof rc?s.Va.Ze(e):e instanceof av?s.Va.st(e):s.Va.tt(e),!i.isEqual(St.min()))try{const r=await pv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(an.EMPTY_BYTE_STRING,S.snapshotVersion)),Ev(h,v);const w=new Fa(S.target,v,_,S.sequenceNumber);Jd(h,w)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ot(Ls,"Failed to raise snapshot:",r),await Tc(s,r)}}async function Tc(s,e,i){if(!Fr(e))throw e;s.Ea.add(1),await vo(s),s.Ra.set("Offline"),i||(i=()=>pv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Ls,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jc(s)}))}function bv(s,e){return e().catch((i=>Tc(s,i,e)))}async function zc(s){const e=xt(s),i=es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ud;for(;$S(e);)try{const o=await IS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,JS(e,o)}catch(o){await Tc(e,o)}Sv(e)&&Av(e)}function $S(s){return Bs(s)&&s.Ta.length<10}function JS(s,e){s.Ta.push(e);const i=es(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Sv(s){return Bs(s)&&!es(s).x_()&&s.Ta.length>0}function Av(s){es(s).start()}async function WS(s){es(s).ra()}async function tA(s){const e=es(s);for(const i of s.Ta)e.ea(i.mutations)}async function eA(s,e,i){const r=s.Ta.shift(),o=Gd.from(r,e,i);await bv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zc(s)}async function nA(s,e){e&&es(s).X_&&await(async function(r,o){if((function(d){return Ub(d)&&d!==Z.ABORTED})(o.code)){const h=r.Ta.shift();es(r).B_(),await bv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await zc(r)}})(s,e),Sv(s)&&Av(s)}async function G_(s,e){const i=xt(s);i.asyncQueue.verifyOperationInProgress(),ot(Ls,"RemoteStore received new credentials");const r=Bs(i);i.Ea.add(3),await vo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jc(i)}async function iA(s,e){const i=xt(s);e?(i.Ea.delete(2),await jc(i)):e||(i.Ea.add(2),await vo(i),i.Ra.set("Unknown"))}function Yr(s){return s.ma||(s.ma=(function(i,r,o){const h=xt(i);return h.sa(),new qS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:YS.bind(null,s),t_:XS.bind(null,s),r_:KS.bind(null,s),H_:ZS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),tm(s)?Wd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Tv(s))}))),s.ma}function es(s){return s.fa||(s.fa=(function(i,r,o){const h=xt(i);return h.sa(),new PS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WS.bind(null,s),r_:nA.bind(null,s),ta:tA.bind(null,s),na:eA.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zc(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Ls,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new em(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(s,e){if(ha("AsyncQueue",`${e}: ${s}`),Fr(s))return new rt(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=Jl(),this.sortedSet=new ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.ga=new ge(pt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Pr{constructor(e,i,r,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Pr(e,i,jr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sA{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=xt(i),h=o.queries;o.queries=F_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function F_(){return new ks((s=>Q0(s)),Cc)}async function wv(s,e){const i=xt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new aA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=nm(d,`Initialization of query '${Vr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&im(i)}async function xv(s,e){const i=xt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function rA(s,e){const i=xt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&im(i)}function lA(s,e,i){const r=xt(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function im(s){s.Ca.forEach((e=>{e.next()}))}var Rd,Y_;(Y_=Rd||(Rd={})).Ma="default",Y_.Cache="cache";class Rv{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.key=e}}class Nv{constructor(e){this.key=e}}class oA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=F0(e),this.tu=new jr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Q_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const I=o.get(S),Q=Nc(this.query,w)?w:null,tt=!!I&&this.mutatedKeys.has(I.key),W=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Y=!1;I&&Q?I.data.isEqual(Q.data)?tt!==W&&(r.track({type:3,doc:Q}),Y=!0):this.su(I,Q)||(r.track({type:2,doc:Q}),Y=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!I&&Q?(r.track({type:0,doc:Q}),Y=!0):I&&!Q&&(r.track({type:1,doc:I}),Y=!0,(v||_)&&(p=!0)),Y&&(Q?(d=d.add(Q),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(Q,tt){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:Y})}};return W(Q)-W(tt)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Pr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Nv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Cv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const am="SyncEngine";class uA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class cA{constructor(e){this.key=e,this.hu=!1}}class hA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ks((p=>Q0(p)),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new ge(pt.comparator),this.Au=new Map,this.Ru=new Yd,this.Vu={},this.mu=new Map,this.fu=qr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fA(s,e,i=!0){const r=jv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Dv(r,e,i,!0),o}async function dA(s,e){const i=jv(s);await Dv(i,e,!0,!1)}async function Dv(s,e,i,r){const o=await MS(s.localStore,ji(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await mA(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&vv(s.remoteStore,o),p}async function mA(s,e,i,r,o){s.pu=(w,I,Q)=>(async function(W,Y,at,ht){let ut=Y.view.ru(at);ut.Cs&&(ut=await k_(W.localStore,Y.query,!1).then((({documents:C})=>Y.view.ru(C,ut))));const Tt=ht&&ht.targetChanges.get(Y.targetId),yt=ht&&ht.targetMismatches.get(Y.targetId)!=null,At=Y.view.applyChanges(ut,W.isPrimaryClient,Tt,yt);return K_(W,Y.targetId,At.au),At.snapshot})(s,w,I,Q);const h=await k_(s.localStore,e,!0),d=new oA(e,h.Qs),p=d.ru(h.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);K_(s,i,_.au);const S=new uA(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function gA(s,e,i){const r=xt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await wd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&$d(r.remoteStore,o.targetId),Cd(r,o.targetId)})).catch(Qr)):(Cd(r,o.targetId),await wd(r.localStore,o.targetId,!0))}async function pA(s,e){const i=xt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$d(i.remoteStore,r.targetId))}async function yA(s,e,i){const r=AA(s);try{const o=await(function(d,p){const v=xt(d),_=fe.now(),S=p.reduce(((Q,tt)=>Q.add(tt.key)),qt());let w,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=fa(),W=qt();return v.Ns.getEntries(Q,S).next((Y=>{tt=Y,tt.forEach(((at,ht)=>{ht.isValidDocument()||(W=W.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,tt))).next((Y=>{w=Y;const at=[];for(const ht of p){const ut=Ib(ht,w.get(ht.key).overlayedDocument);ut!=null&&at.push(new as(ht.key,ut,U0(ut.value.mapValue),bn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,at,p)})).next((Y=>{I=Y;const at=Y.applyToLocalDocumentSet(w,W);return v.documentOverlayCache.saveOverlays(Q,Y.batchId,at)}))})).then((()=>({batchId:I.batchId,changes:X0(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(Bt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await Eo(r,o.changes),await zc(r.remoteStore)}catch(o){const h=nm(o,"Failed to persist write");i.reject(h)}}async function Vv(s,e){const i=xt(s);try{const r=await DS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Eo(i,r,e)}catch(r){await Qr(r)}}function X_(s,e,i){const r=xt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=xt(d);v.onlineState=p;let _=!1;v.queries.forEach(((S,w)=>{for(const I of w.Sa)I.va(p)&&(_=!0)})),_&&im(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _A(s,e,i){const r=xt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ge(pt.comparator);d=d.insert(h,on.newNoDocument(h,St.min()));const p=qt().add(h),v=new Mc(St.min(),new Map,new ge(Bt),d,p);await Vv(r,v),r.du=r.du.remove(h),r.Au.delete(e),sm(r)}else await wd(r.localStore,e,!1).then((()=>Cd(r,e,i))).catch(Qr)}async function vA(s,e){const i=xt(s),r=e.batch.batchId;try{const o=await NS(i.localStore,e);Mv(i,r,null),Iv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eo(i,o)}catch(o){await Qr(o)}}async function EA(s,e,i){const r=xt(s);try{const o=await(function(d,p){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>($t(w!==null,37113),S=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);Mv(r,e,i),Iv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Eo(r,o)}catch(o){await Qr(o)}}function Iv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Mv(s,e,i){const r=xt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Cd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Ov(s,r)}))}function Ov(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&($d(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),sm(s))}function K_(s,e,i){for(const r of i)r instanceof Cv?(s.Ru.addReference(r.key,e),TA(s,r)):r instanceof Nv?(ot(am,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Ov(s,r.key)):vt(19791,{wu:r})}function TA(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(am,"New document in limbo: "+i),s.Eu.add(r),sm(s))}function sm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pt(ue.fromString(e)),r=s.fu.next();s.Au.set(r,new cA(i)),s.du=s.du.insert(i,r),vv(s.remoteStore,new Fa(ji(Pd(i.path)),r,"TargetPurposeLimboResolution",wc.ce))}}async function Eo(s,e,i){const r=xt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{var S;if((_||i)&&r.isPrimaryClient){const w=_?!_.fromCache:(S=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Kd.As(v.targetId,_);h.push(w)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=xt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(I=>J.forEach(I.Es,(Q=>S.persistence.referenceDelegate.addReference(w,I.targetId,Q))).next((()=>J.forEach(I.ds,(Q=>S.persistence.referenceDelegate.removeReference(w,I.targetId,Q)))))))))}catch(w){if(!Fr(w))throw w;ot(Zd,"Failed to update sequence numbers: "+w)}for(const w of _){const I=w.targetId;if(!w.fromCache){const Q=S.Ms.get(I),tt=Q.snapshotVersion,W=Q.withLastLimboFreeSnapshotVersion(tt);S.Ms=S.Ms.insert(I,W)}}})(r.localStore,h))}async function bA(s,e){const i=xt(s);if(!i.currentUser.isEqual(e)){ot(am,"User change. New user:",e.toKey());const r=await gv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new rt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eo(i,r.Ls)}}function SA(s,e){const i=xt(s),r=i.Au.get(e);if(r&&r.hu)return qt().add(r.key);{let o=qt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function jv(s){const e=xt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_A.bind(null,e),e.Pu.H_=rA.bind(null,e.eventManager),e.Pu.yu=lA.bind(null,e.eventManager),e}function AA(s){const e=xt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EA.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CS(this.persistence,new wS,e.initialUser,this.serializer)}Cu(e){return new mv(Xd.mi,this.serializer)}Du(e){return new jS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class wA extends bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$t(this.persistence.referenceDelegate instanceof Ec,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new mv((r=>Ec.mi(r,i)),this.serializer)}}class Nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bA.bind(null,this.syncEngine),await iA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sA})()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),r=(function(h){return new BS(h)})(e.databaseInfo);return(function(h,d,p,v){return new GS(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new FS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>X_(this.syncEngine,i,0)),(function(){return P_.v()?new P_:new zS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,S){const w=new hA(o,h,d,p,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=xt(o);ot(Ls,"RemoteStore shutting down."),h.Ea.add(5),await vo(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class xA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=nm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nd(s,e){s.asyncQueue.verifyOperationInProgress(),ot(ns,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Z_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await RA(s);ot(ns,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>G_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>G_(e.remoteStore,o))),s._onlineComponents=e}async function RA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(ns,"Using user provided OfflineComponentProvider");try{await nd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ur("Error using user provided cache. Falling back to memory cache: "+i),await nd(s,new bc)}}else ot(ns,"Using default OfflineComponentProvider"),await nd(s,new wA(void 0));return s._offlineComponents}async function Uv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(ns,"Using user provided OnlineComponentProvider"),await Z_(s,s._uninitializedComponentsProvider._online)):(ot(ns,"Using default OnlineComponentProvider"),await Z_(s,new Nd))),s._onlineComponents}function CA(s){return Uv(s).then((e=>e.syncEngine))}async function Lv(s){const e=await Uv(s),i=e.eventManager;return i.onListen=fA.bind(null,e.syncEngine),i.onUnlisten=gA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),i}function NA(s,e,i={}){const r=new ua;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const S=new zv({next:I=>{S.Nu(),d.enqueueAndForget((()=>xv(h,w)));const Q=I.docs.has(p);!Q&&I.fromCache?_.reject(new rt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&I.fromCache&&v&&v.source==="server"?_.reject(new rt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),w=new Rv(Pd(p.path),S,{includeMetadataChanges:!0,qa:!0});return wv(h,w)})(await Lv(s),s.asyncQueue,e,i,r))),r.promise}function DA(s,e,i={}){const r=new ua;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const S=new zv({next:I=>{S.Nu(),d.enqueueAndForget((()=>xv(h,w))),I.fromCache&&v.source==="server"?_.reject(new rt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),w=new Rv(p,S,{includeMetadataChanges:!0,qa:!0});return wv(h,w)})(await Lv(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="firestore.googleapis.com",J_=!0;class W_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bv,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oS)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new z2;switch(r.type){case"firstParty":return new B2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=$_.get(i);r&&(ot("ComponentProvider","Removing Datastore"),$_.delete(i),r.terminate())})(this),Promise.resolve()}}function VA(s,e,i,r={}){var _;s=Bi(s,Uc);const o=Md(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(uT(`https://${p}`),dT("Firestore",!0)),h.host!==Bv&&h.host!==p&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!uc(v,d)&&(s._setSettings(v),r.mockUserToken)){let S,w;if(typeof r.mockUserToken=="string")S=r.mockUserToken,w=ln.MOCK_USER;else{S=cT(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ln(I)}s._authCredentials=new U2(new w0(S,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class ke{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(go(i,ke._jsonSchema))return new ke(e,r||null,new pt(ue.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Le("string",ke._jsonSchemaVersion),referencePath:Le("string")};class Za extends Xr{constructor(e,i,r){super(e,i,Pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new pt(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function In(s,e,...i){if(s=ki(s),x0("collection","path",e),s instanceof Uc){const r=ue.fromString(e,...i);return f_(r),new Za(s,null,r)}{if(!(s instanceof ke||s instanceof Za))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(e,...i));return f_(r),new Za(s.firestore,null,r)}}function Mn(s,e,...i){if(s=ki(s),arguments.length===1&&(e=zd.newId()),x0("doc","path",e),s instanceof Uc){const r=ue.fromString(e,...i);return h_(r),new ke(s,null,new pt(r))}{if(!(s instanceof ke||s instanceof Za))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(e,...i));return h_(r),new ke(s.firestore,s instanceof Za?s.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="AsyncQueue";class e0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yv(this,"async_queue_retry"),this._c=()=>{const r=ed();r&&ot(t0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fr(e))throw e;ot(t0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",n0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=em.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function n0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class qs extends Uc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new e0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e0(e),this._firestoreClient=void 0,await e}}}function IA(s,e){const i=typeof s=="object"?s:S2(),r=typeof s=="string"?s:dc,o=_2(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=lT("firestore");h&&VA(o,...h)}return o}function Lc(s){if(s._terminated)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MA(s),s._firestoreClient}function MA(s){var r,o,h;const e=s._freezeSettings(),i=(function(p,v,_,S){return new ib(p,v,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,kv(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xA(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(an.fromBase64String(e))}catch(i){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Le("string",Kn._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(go(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Li(e.vectorValues);throw new rt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Le("string",Li._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^__.*__$/;class jA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class qv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new as(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Pv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class lm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pv(this.Ac)&&OA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zA{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Oc(e)}Cc(e,i,r,o=!1){return new lm({Ac:e,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bc(s){const e=s._freezeSettings(),i=Oc(s._databaseId);return new zA(s._databaseId,!!e.ignoreUndefinedProperties,i)}function om(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);um("Data must be an object, but it was:",d,r);const p=Hv(r,d);let v,_;if(h.merge)v=new On(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const w of h.mergeFields){const I=Dd(e,w,i);if(!d.contains(I))throw new rt(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Qv(S,I)||S.push(I)}v=new On(S),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new jA(new Tn(p),v,_)}class qc extends rm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function UA(s,e,i,r){const o=s.Cc(1,e,i);um("Data must be an object, but it was:",o,r);const h=[],d=Tn.empty();is(r,((v,_)=>{const S=cm(e,v,i);_=ki(_);const w=o.yc(S);if(_ instanceof qc)h.push(S);else{const I=To(_,w);I!=null&&(h.push(S),d.set(S,I))}}));const p=new On(h);return new qv(d,p,o.fieldTransforms)}function LA(s,e,i,r,o,h){const d=s.Cc(1,e,i),p=[Dd(e,r,i)],v=[o];if(h.length%2!=0)throw new rt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(Dd(e,h[I])),v.push(h[I+1]);const _=[],S=Tn.empty();for(let I=p.length-1;I>=0;--I)if(!Qv(_,p[I])){const Q=p[I];let tt=v[I];tt=ki(tt);const W=d.yc(Q);if(tt instanceof qc)_.push(Q);else{const Y=To(tt,W);Y!=null&&(_.push(Q),S.set(Q,Y))}}const w=new On(_);return new qv(S,w,d.fieldTransforms)}function kA(s,e,i,r=!1){return To(i,s.Cc(r?4:3,e))}function To(s,e){if(Gv(s=ki(s)))return um("Unsupported field value:",e,s),Hv(s,e);if(s instanceof rm)return(function(r,o){if(!Pv(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=To(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=fe.fromDate(r);return{timestampValue:vc(o.serializer,h)}}if(r instanceof fe){const h=new fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(o.serializer,h)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:rv(o.serializer,r._byteString)};if(r instanceof ke){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Fd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Li)return(function(d,p){return{mapValue:{fields:{[j0]:{stringValue:z0},[mc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hd(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Ac(r)}`)})(s,e)}function Hv(s,e){const i={};return N0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(s,((r,o)=>{const h=To(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Gv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof fe||s instanceof Ui||s instanceof Kn||s instanceof ke||s instanceof rm||s instanceof Li)}function um(s,e,i){if(!Gv(i)||!R0(i)){const r=Ac(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Dd(s,e,i){if((e=ki(e))instanceof kc)return e._internalPath;if(typeof e=="string")return cm(s,e);throw Sc("Field path arguments must be of type string or ",s,!1,void 0,i)}const BA=new RegExp("[~\\*/\\[\\]]");function cm(s,e,i){if(e.search(BA)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kc(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Sc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new rt(Z.INVALID_ARGUMENT,p+s+v)}function Qv(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qA extends Fv{data(){return super.data()}}function hm(s,e){return typeof e=="string"?cm(s,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class HA extends fm{}function id(s,e,...i){let r=[];e instanceof fm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof dm)).length,p=h.filter((v=>v instanceof Pc)).length;if(d>1||d>0&&p>0)throw new rt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Pc extends HA{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Pc(e,i,r)}_apply(e){const i=this._parse(e);return Yv(e._query,i),new Xr(e.firestore,e.converter,vd(e._query,i))}_parse(e){const i=Bc(e.firestore);return(function(h,d,p,v,_,S,w){let I;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){a0(w,S);const tt=[];for(const W of w)tt.push(i0(v,h,W));I={arrayValue:{values:tt}}}else I=i0(v,h,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||a0(w,S),I=kA(p,d,w,S==="in"||S==="not-in");return Ue.create(_,S,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function ad(s,e,i){const r=e,o=hm("where",s);return Pc._create(o,r,i)}class dm extends fm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)Yv(d,v),d=vd(d,v)})(e._query,i),new Xr(e.firestore,e.converter,vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i0(s,e,i){if(typeof(i=ki(i))=="string"){if(i==="")throw new rt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&i.indexOf("/")!==-1)throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ue.fromString(i));if(!pt.isDocumentKey(r))throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return E_(s,new pt(r))}if(i instanceof ke)return E_(s,i._key);throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(i)}.`)}function a0(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yv(s,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class GA{convertValue(e,i="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return is(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[mc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Re(d.doubleValue)));return new Li(i)}convertGeoPoint(e){return new Ui(Re(e.latitude),Re(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Rc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Ja(e);return new fe(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ue.fromString(e);$t(fv(r),9688,{name:e});const o=new co(r.get(1),r.get(3)),h=new pt(r.popFirst(5));return o.isEqual(i)||ha(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends Fv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=zs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Le("string",zs._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class lc extends zs{data(e={}){return super.data(e)}}class zr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lc(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new lc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:QA(p.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(s){s=Bi(s,ke);const e=Bi(s.firestore,qs);return NA(Lc(e),s._key).then((i=>YA(e,s,i)))}zr._jsonSchemaVersion="firestore/querySnapshot/1.0",zr._jsonSchema={type:Le("string",zr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Xv extends GA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function Mi(s){s=Bi(s,Xr);const e=Bi(s.firestore,qs),i=Lc(e),r=new Xv(e);return PA(s._query),DA(i,s._query).then((o=>new zr(e,r,s,o)))}function Nr(s,e,i){s=Bi(s,ke);const r=Bi(s.firestore,qs),o=mm(s.converter,e,i);return Hc(r,[om(Bc(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,bn.none())])}function sd(s){return Hc(Bi(s.firestore,qs),[new Ic(s._key,bn.none())])}function s0(s,e){const i=Bi(s.firestore,qs),r=Mn(s),o=mm(s.converter,e);return Hc(i,[om(Bc(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then((()=>r))}function Hc(s,e){return(function(r,o){const h=new ua;return r.asyncQueue.enqueueAndForget((async()=>yA(await CA(r),o,h))),h.promise})(Lc(s),e)}function YA(s,e,i){const r=i.docs.get(e._key),o=new Xv(s);return new zs(s,o,e._key,r,new to(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Bc(e)}set(e,i,r){this._verifyNotCommitted();const o=rd(e,this._firestore),h=mm(o.converter,i,r),d=om(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,bn.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const h=rd(e,this._firestore);let d;return d=typeof(i=ki(i))=="string"||i instanceof kc?LA(this._dataReader,"WriteBatch.update",h._key,i,r,o):UA(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=rd(e,this._firestore);return this._mutations=this._mutations.concat(new Ic(i._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rd(s,e){if((s=ki(s)).firestore!==e)throw new rt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(s){return Lc(s=Bi(s,qs)),new XA(s,(e=>Hc(s,e)))}(function(e,i=!0){(function(o){Gr=o})(b2),hc(new ro("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new qs(new L2(r.getProvider("auth-internal")),new q2(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(_.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Or(l_,o_,e),Or(l_,o_,"esm2020")})();const KA={apiKey:"AIzaSyAfbHhSxXazdJmgraHWm4BtujUGoWcEUQU",authDomain:"saadqu-92cfc.firebaseapp.com",projectId:"saadqu-92cfc",storageBucket:"saadqu-92cfc.firebasestorage.app",messagingSenderId:"143670086980",appId:"1:143670086980:web:81b09b0103966856269b11",measurementId:"G-B1NH1DGEE3"},ZA=g0(KA),oe=IA(ZA),$A={eman:{name:" ",code:"eman",password:"eman2025",email:"ahmed@example.com",students:[{id:"31201261802388",name:"   "},{id:"31112141802322",name:"   "},{id:"31203151804361",name:"   "},{id:"31210201800741",name:"   "},{id:"31110171800976",name:"    "},{id:"30905231802441",name:"   "},{id:"31205031802805",name:"   "},{id:"31205101802344",name:"   "},{id:"31008141800301",name:"    "},{id:"31303161802728",name:"   "}]},samar:{name:" ",code:"samar",password:"samar2025",email:"samar@example.com",students:[{id:"31309271801245",name:"   "},{id:"31206201801651",name:"    "},{id:"31206211801161",name:"   "},{id:"30901011806327",name:"    "},{id:"31407171806209",name:"    "},{id:"31111111800884",name:"   "},{id:"31408031801629",name:"   "},{id:"31001311801966",name:"   "},{id:"31601261802378",name:"   "}]}},Qt={getAdminPassword:async()=>{try{const s=await FA(Mn(oe,"settings","admin"));return s.exists()?s.data().password:"admin2025"}catch(s){return console.error(s),"admin2025"}},setAdminPassword:async s=>{await Nr(Mn(oe,"settings","admin"),{password:s})},getTeachers:async()=>{try{const s=await Mi(In(oe,"teachers")),e={};if(s.empty){const i=r0(oe);for(const[r,o]of Object.entries($A)){const h=Mn(oe,"teachers",r);i.set(h,o),e[r]=o}return await i.commit(),e}return s.forEach(i=>{e[i.id]=i.data()}),e}catch(s){return console.error("Error fetching teachers:",s),{}}},saveTeacher:async s=>{await Nr(Mn(oe,"teachers",s.code),s)},deleteTeacher:async s=>{await sd(Mn(oe,"teachers",s))},getStudents:async()=>(await Mi(In(oe,"students"))).docs.map(e=>e.data()),registerStudent:async s=>{await Nr(Mn(oe,"students",s.id),s)},updateStudent:async s=>{await Nr(Mn(oe,"students",s.id),s,{merge:!0})},deleteStudent:async s=>{await sd(Mn(oe,"students",s))},getAttendance:async()=>(await Mi(In(oe,"attendance"))).docs.map(e=>e.data()),saveAttendanceBatch:async s=>{const e=r0(oe);s.forEach(i=>{const r=Mn(In(oe,"attendance"));e.set(r,i)}),await e.commit()},getStudentLogs:async s=>{const e=id(In(oe,"student_logs"),ad("studentCode","==",s));return(await Mi(e)).docs.map(o=>o.data()).sort((o,h)=>new Date(h.date).getTime()-new Date(o.date).getTime())},saveStudentLog:async(s,e)=>{await s0(In(oe,"student_logs"),{...e,studentCode:s})},exportData:async()=>{const s=await Mi(In(oe,"teachers")),e=await Mi(In(oe,"students")),i=await Mi(In(oe,"attendance")),r=await Mi(In(oe,"student_logs")),o={};s.forEach(v=>o[v.id]=v.data());const h=e.docs.map(v=>v.data()),d=i.docs.map(v=>v.data()),p={};return r.forEach(v=>{const _=v.data();p[_.studentCode]||(p[_.studentCode]=[]),p[_.studentCode].push(_)}),{teachers:o,students:h,attendance:d,studentLogs:p}},sendMessage:async s=>{const e={...s,timestamp:Date.now()};await s0(In(oe,"messages"),e)},getMessages:async(s,e)=>{const i=id(In(oe,"messages"),ad("recipientId","==",s));return(await Mi(i)).docs.map(h=>({...h.data(),id:h.id})).sort((h,d)=>d.timestamp-h.timestamp)},getSentMessages:async(s,e)=>{const i=id(In(oe,"messages"),ad("senderId","==",s));return(await Mi(i)).docs.map(h=>({...h.data(),id:h.id})).sort((h,d)=>d.timestamp-h.timestamp)},markMessageAsRead:async s=>{const e=Mn(oe,"messages",s);await Nr(e,{read:!0},{merge:!0})},replyToMessage:async(s,e)=>{const i=Mn(oe,"messages",s),r={...e,timestamp:Date.now()};await Nr(i,{replies:[r]},{merge:!0})},deleteMessage:async s=>{await sd(Mn(oe,"messages",s))}},JA=({view:s,onNavigate:e,onLoginSuccess:i})=>{const[r,o]=dt.useState({code:"",password:"",name:"",confirmPassword:""}),[h,d]=dt.useState(""),[p,v]=dt.useState(""),[_,S]=dt.useState(!1),w=at=>{o({...r,[at.target.name]:at.target.value}),d("")},I=async()=>{S(!0);const at=await Qt.getAdminPassword();S(!1),r.password===at?i("admin",{}):d("   ")},Q=async()=>{S(!0);const at=await Qt.getTeachers();S(!1);const ht=at[r.code];ht&&ht.password===r.password?i("teacher",ht):d("    ")},tt=async()=>{S(!0);const at=await Qt.getStudents();S(!1);const ht=at.find(ut=>ut.code===r.code&&ut.password===r.password);ht?i("student",ht):d("   ")},W=async()=>{if(!r.name||!r.code||!r.password)return d(" ");if(r.password!==r.confirmPassword)return d("   ");if(S(!0),(await Qt.getStudents()).some(ht=>ht.code===r.code))return S(!1),d("   ");await Qt.registerStudent({id:Date.now().toString(),name:r.name,code:r.code,password:r.password,class:"",registrationDate:new Date().toISOString()}),S(!1),v("  !  ..."),setTimeout(()=>e("LOGIN_STUDENT"),1500)},Y={LOGIN_ADMIN:" ",LOGIN_TEACHER:" ",LOGIN_STUDENT:" ",REGISTER_STUDENT:"  "};return E.jsx("div",{className:"flex items-center justify-center min-h-[70vh]",children:E.jsxs(xe,{className:"w-full max-w-md animate-[fadeIn_0.3s_ease-out]",children:[E.jsx("h2",{className:"text-2xl font-bold text-center text-secondary mb-6",children:Y[s]}),s==="REGISTER_STUDENT"&&E.jsx(ve,{label:" ",name:"name",value:r.name,onChange:w,placeholder:" "}),s!=="LOGIN_ADMIN"&&E.jsx(ve,{label:s==="REGISTER_STUDENT"?"  ":" ",name:"code",value:r.code,onChange:w}),E.jsx(ve,{label:" ",type:"password",name:"password",value:r.password,onChange:w}),s==="REGISTER_STUDENT"&&E.jsx(ve,{label:"  ",type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:w}),h&&E.jsx("div",{className:"text-red-500 text-center mb-4 text-sm font-bold",children:h}),p&&E.jsx("div",{className:"text-green-500 text-center mb-4 text-sm font-bold",children:p}),E.jsxs("div",{className:"mt-6 space-y-3",children:[s==="LOGIN_ADMIN"&&E.jsx(bt,{fullWidth:!0,onClick:I,disabled:_,children:_?" ...":""}),s==="LOGIN_TEACHER"&&E.jsx(bt,{fullWidth:!0,onClick:Q,disabled:_,children:_?" ...":""}),s==="LOGIN_STUDENT"&&E.jsx(bt,{fullWidth:!0,onClick:tt,disabled:_,children:_?" ...":""}),s==="REGISTER_STUDENT"&&E.jsx(bt,{fullWidth:!0,onClick:W,disabled:_,children:_?" ...":""}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>e("HOME"),children:"  "}),s==="LOGIN_STUDENT"&&E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{className:"text-primary text-sm underline",onClick:()=>e("REGISTER_STUDENT"),children:"    "})})]})]})})},gm=({userId:s,userName:e,userRole:i,recipients:r=[],onClose:o})=>{const[h,d]=dt.useState([]),[p,v]=dt.useState("inbox"),[_,S]=dt.useState(!1),[w,I]=dt.useState(""),[Q,tt]=dt.useState(""),[W,Y]=dt.useState(""),[at,ht]=dt.useState("teacher"),[ut,Tt]=dt.useState(!1),[yt,At]=dt.useState(null),[C,x]=dt.useState("");dt.useEffect(()=>{A()},[p]);const A=async()=>{Tt(!0);try{const st=p==="inbox"?await Qt.getMessages(s,i):await Qt.getSentMessages(s,i);d(st)}catch(st){console.error(st)}Tt(!1)},V=async()=>{if(!w.trim()||!Q.trim()||!W){alert("  ");return}const st={senderId:s,senderName:e,senderRole:i,recipientId:W,recipientRole:at,subject:w,content:Q,timestamp:Date.now(),read:!1,replies:[]};Tt(!0);try{await Qt.sendMessage(st),I(""),tt(""),Y(""),S(!1),alert("  "),A()}catch(It){console.error(It),alert("   ")}Tt(!1)},N=async()=>{if(!C.trim()||!yt)return;const st={senderId:s,senderName:e,senderRole:i,recipientId:yt.senderId,recipientRole:yt.senderRole,subject:`: ${yt.subject}`,content:C,timestamp:Date.now(),read:!1};Tt(!0);try{yt.id&&await Qt.replyToMessage(yt.id,st),x(""),At(null),alert(" "),A()}catch(It){console.error(It),alert(" ")}Tt(!1)},j=async st=>{if(!(!st||!confirm("   "))){Tt(!0);try{await Qt.deleteMessage(st),At(null),A()}catch(It){console.error(It)}Tt(!1)}},R=async st=>{st.id&&!st.read&&(await Qt.markMessageAsRead(st.id),st.read=!0)};return E.jsxs("div",{className:"w-full max-w-4xl",children:[E.jsxs(xe,{className:"mb-4 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-2xl font-bold text-secondary flex gap-2 items-center",children:[E.jsx(PE,{className:"w-6 h-6"})," "]}),o&&E.jsx("button",{onClick:o,className:"p-2",children:E.jsx(ZE,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[E.jsxs(xe,{className:"lg:col-span-1 max-h-[600px] flex flex-col",children:[E.jsxs("div",{className:"flex gap-2 mb-4",children:[E.jsxs("button",{onClick:()=>v("inbox"),className:`flex-1 py-2 rounded transition-all ${p==="inbox"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E.jsx(Yy,{className:"w-4 h-4 inline mr-1"}),""]}),E.jsxs("button",{onClick:()=>v("sent"),className:`flex-1 py-2 rounded transition-all ${p==="sent"?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E.jsx(Xy,{className:"w-4 h-4 inline mr-1"}),""]})]}),E.jsx(bt,{fullWidth:!0,onClick:()=>S(!0),className:"mb-4",children:"+  "}),E.jsxs("div",{className:"overflow-y-auto flex-1 custom-scrollbar space-y-2",children:[ut&&E.jsx("div",{className:"text-center py-4 text-gray-400",children:" ..."}),h.length===0&&!ut&&E.jsx("div",{className:"text-center py-10 text-gray-400",children:"  "}),h.map((st,It)=>E.jsxs("button",{onClick:()=>{R(st),At(st)},className:`w-full text-right p-3 rounded-lg border-2 transition-all ${(yt==null?void 0:yt.id)===st.id?"bg-blue-50 border-primary":st.read?"bg-white border-gray-200 hover:border-gray-300":"bg-yellow-50 border-yellow-300"}`,children:[E.jsx("div",{className:"font-bold text-sm truncate",children:p==="inbox"?st.senderName:st.recipientId}),E.jsx("div",{className:"text-xs text-gray-600 truncate",children:st.subject}),E.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[new Date(st.timestamp).toLocaleDateString("ar-EG",{weekday:"long"})," ",new Date(st.timestamp).toLocaleDateString("ar-EG")]})]},It))]})]}),E.jsx(xe,{className:"lg:col-span-2 max-h-[600px] flex flex-col",children:_?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-xl font-bold text-secondary mb-4",children:" "}),E.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-right mb-2 font-medium",children:":"}),E.jsxs("select",{value:W,onChange:st=>Y(st.target.value),className:"w-full p-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right",children:[E.jsx("option",{value:"",children:"--   --"}),r.map(st=>E.jsxs("option",{value:st.id,children:[st.name," (",st.role,")"]},st.id))]})]}),E.jsx(ve,{label:":",value:w,onChange:st=>I(st.target.value)}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-right mb-2 font-medium",children:":"}),E.jsx("textarea",{value:Q,onChange:st=>tt(st.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right h-40",placeholder:"  ..."})]})]}),E.jsxs("div",{className:"flex gap-2 mt-4",children:[E.jsxs(bt,{fullWidth:!0,onClick:V,disabled:ut,className:"bg-green-600 hover:bg-green-700",children:[E.jsx(Xy,{className:"w-4 h-4 inline mr-1"})," "]}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>S(!1),disabled:ut,children:""})]})]}):yt?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-secondary",children:yt.subject}),E.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[": ",yt.senderName,E.jsx("br",{}),": ",new Date(yt.timestamp).toLocaleDateString("ar-EG",{weekday:"long"})," ",new Date(yt.timestamp).toLocaleDateString("ar-EG")]})]}),E.jsx("button",{onClick:()=>j(yt.id),className:"p-2 text-red-500 hover:bg-red-50 rounded text-xl",children:""})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-gray-50 p-4 rounded-lg mb-4",children:E.jsx("p",{className:"text-right whitespace-pre-wrap",children:yt.content})}),yt.replies&&yt.replies.length>0&&E.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4 max-h-32 overflow-y-auto",children:[E.jsx("div",{className:"font-bold text-sm mb-2 text-right",children:":"}),yt.replies.map((st,It)=>E.jsxs("div",{className:"bg-white p-2 rounded mb-2 text-sm text-right border-l-2 border-primary",children:[E.jsx("div",{className:"font-bold",children:st.senderName}),E.jsx("p",{className:"mt-1",children:st.content})]},It))]}),p==="inbox"&&E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"block text-right font-medium",children:"   :"}),E.jsx("textarea",{value:C,onChange:st=>x(st.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right h-24",placeholder:" ..."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(bt,{fullWidth:!0,onClick:N,disabled:ut,className:"bg-blue-600 hover:bg-blue-700",children:[E.jsx(HE,{className:"w-4 h-4 inline mr-1"})," "]}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>{At(null),x("")},children:""})]})]})]}):E.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:E.jsxs("div",{className:"text-center",children:[E.jsx(Yy,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),E.jsx("p",{children:"  "})]})})})]})]})},WA=({onLogout:s})=>{var Hi;const[e,i]=dt.useState("dashboard"),[r,o]=dt.useState([]),[h,d]=dt.useState({}),[p,v]=dt.useState([]),[_,S]=dt.useState(new Date().toISOString().split("T")[0]),[w,I]=dt.useState(""),[Q,tt]=dt.useState(!1),[W,Y]=dt.useState(null),[at,ht]=dt.useState(""),[ut,Tt]=dt.useState(""),[yt,At]=dt.useState(""),[C,x]=dt.useState({name:"",code:"",password:"",email:"",students:[]}),[A,V]=dt.useState({name:"",teacherCode:"",id:""}),[N,j]=dt.useState({old:"",new:"",confirm:""}),[R,st]=dt.useState(null),[It,H]=dt.useState(!1),[nt,mt]=dt.useState(""),Vt=async()=>{H(!0);const[k,Ot,pe]=await Promise.all([Qt.getAttendance(),Qt.getTeachers(),Qt.getStudents()]);o(k),d(Ot);const ee=new Map;pe.forEach(Pe=>ee.set(Pe.id,Pe)),Object.values(Ot).forEach(Pe=>{Pe.students.forEach(Ye=>{if(!ee.has(Ye.id))ee.set(Ye.id,{id:Ye.id,name:Ye.name,code:"---",class:`: ${Pe.name}`,password:""});else{const Zt=ee.get(Ye.id);(!Zt.class||Zt.class==="")&&(Zt.class=`: ${Pe.name}`,ee.set(Ye.id,Zt))}})}),v(Array.from(ee.values())),H(!1)};dt.useEffect(()=>{Vt()},[]);const Mt=r.filter(k=>(_?k.date===_:!0)&&(w?k.teacherCode===w:!0));Mt.sort((k,Ot)=>new Date(Ot.date).getTime()-new Date(k.date).getTime());const O={total:Mt.length,present:Mt.filter(k=>k.status==="present").length,absent:Mt.filter(k=>k.status==="absent").length},K=p.filter(k=>k.name.includes(nt)||k.code&&k.code.includes(nt)||k.id&&k.id.includes(nt)),it=async()=>{if(!C.name||!C.code)return alert(" ");H(!0),await Qt.saveTeacher({...C,students:[]}),x({name:"",code:"",password:"",email:"",students:[]}),await Vt(),alert("  ")},lt=async()=>{if(!A.name||!A.teacherCode)return alert("    ");H(!0);const k=h[A.teacherCode];if(!k)return H(!1),alert("  ");const Ot=A.id||Date.now().toString().slice(-8);if(k.students.some(ee=>ee.id===Ot))return H(!1),alert("      ");const pe={...k,students:[...k.students,{id:Ot,name:A.name}]};await Qt.saveTeacher(pe),await Vt(),V({name:"",teacherCode:"",id:""}),H(!1),alert(`   "${A.name}"   "${k.name}" `)},Et=async k=>{confirm("  ")&&(H(!0),await Qt.deleteTeacher(k),await Vt())},Rt=async k=>{if(confirm("           .")){H(!0),await Qt.deleteStudent(k);const Ot=Object.values(h);for(const pe of Ot)if(pe.students.some(ee=>ee.id===k)){const ee=pe.students.filter(Pe=>Pe.id!==k);await Qt.saveTeacher({...pe,students:ee})}await Vt(),H(!1)}},Ut=()=>{let k=`\uFEFF,, ,,
`;Mt.forEach(ee=>{var Zt;const Pe=((Zt=h[ee.teacherCode])==null?void 0:Zt.name)||ee.teacherCode,Ye=ee.status==="present"?"":"";k+=`${ee.date},"${Pe}","${ee.studentName}","${Ye}","${(ee.notes||"").replace(/"/g,'""')}"
`});const Ot=new Blob([k],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(Ot),pe.download=`attendance_${_}.csv`,pe.click()},Ee=async(k="",Ot="")=>{H(!0);const pe=await Qt.exportData();H(!1);const Pe=(await Qt.getStudents()).reduce((ui,ci)=>(ci.code&&(ui[ci.code]=ci.name),ui),{});let Ye=`\uFEFF,, ,, ,,,,
`;Object.entries(pe.studentLogs).forEach(([ui,ci])=>{if(k&&ui!==k)return;const Xe=Pe[ui]||" ";ci.forEach(un=>{if(Ot&&un.date.split("T")[0]!==Ot)return;const ma=new Date(un.date),ss=ma.toLocaleDateString("ar-EG",{weekday:"long"}),hi=ma.toLocaleDateString("ar-EG");Ye+=`"${hi}","${ss}","${Xe}","${ui}","${(un.newMemorizing||"").replace(/"/g,'""')}","${(un.review||"").replace(/"/g,'""')}","${un.listening}","${(un.newTarget||"").replace(/"/g,'""')}","${(un.notes||"").replace(/"/g,'""')}"
`})});const Zt=`student_logs_${k||"all"}_${Ot||new Date().toISOString().split("T")[0]}.csv`,Te=new Blob([Ye],{type:"text/csv;charset=utf-8;"}),jn=document.createElement("a");jn.href=URL.createObjectURL(Te),jn.download=Zt,jn.click()},le=async()=>{const k=await Qt.getAdminPassword();if(N.old!==k)return alert("   ");if(N.new.length<4||N.new!==N.confirm)return alert("    ");await Qt.setAdminPassword(N.new),j({old:"",new:"",confirm:""}),alert("  "),s()},Pi=async()=>{if(!at.trim()||!W)return alert("  ");const k={senderId:"admin",senderName:"",senderRole:"admin",recipientId:W.log.studentCode,recipientRole:"student",subject:`   ${W.log.dateDisplay}`,content:`      ${W.log.dateDisplay}:

${at}

---
 :
 : ${W.log.newMemorizing}
 : ${W.log.review}
 : ${W.log.newTarget}`,timestamp:Date.now(),read:!1,replies:[]};H(!0),await Qt.sendMessage(k),H(!1),ht(""),Y(null),alert("   ")},da=async k=>{if(!k.code||k.code==="---")return alert("         .");H(!0);const Ot=await Qt.getStudentLogs(k.code);H(!1),st({student:k,logs:Ot})};return E.jsxs("div",{className:"pb-20",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm mb-6 flex flex-col justify-between items-center gap-4 text-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-secondary",children:" "}),E.jsxs("p",{className:"text-primary mt-1",children:[new Date().toLocaleDateString("ar-EG",{weekday:"long"})," ",new Date().toLocaleDateString("ar-EG")]})]}),It&&E.jsx("div",{className:"text-accent font-bold",children:" ..."}),E.jsx(bt,{variant:"danger",onClick:s,children:""})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[["dashboard","teachers","students","reports","settings"].map(k=>E.jsx(bt,{variant:e===k?"primary":"secondary",onClick:()=>i(k),className:"text-sm px-3 capitalize",children:k==="dashboard"?"":k==="teachers"?"":k==="students"?"":k==="reports"?"":""},k)),E.jsx(bt,{variant:"secondary",onClick:()=>tt(!0),className:"text-sm px-3",children:" "})]}),e==="dashboard"&&E.jsxs(E.Fragment,{children:[E.jsx(xe,{className:"mb-6",children:E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx(ve,{label:"",type:"date",value:_,onChange:k=>S(k.target.value)}),E.jsxs(ld,{label:"",value:w,onChange:k=>I(k.target.value),children:[E.jsx("option",{value:"",children:""}),Object.values(h).map(k=>E.jsx("option",{value:k.code,children:k.name},k.code))]}),E.jsx(bt,{onClick:Vt,fullWidth:!0,children:""})]})}),E.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[E.jsx(Yf,{label:"",value:O.total,icon:BE,colorClass:"text-blue-600"}),E.jsx(Yf,{label:"",value:O.present,icon:QE,colorClass:"text-green-600"}),E.jsx(Yf,{label:"",value:O.absent,icon:YE,colorClass:"text-red-600"})]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 mb-20",children:[E.jsxs("h3",{className:"font-bold text-secondary mb-4 border-b pb-2",children:["  (",Mt.length,")"]}),Mt.length===0?E.jsx("div",{className:"text-center text-gray-400 py-6",children:"  "}):E.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto custom-scrollbar",children:Mt.map((k,Ot)=>{var pe;return E.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border flex flex-col gap-1",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-bold text-gray-800",children:k.studentName}),E.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k.status==="present"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.status==="present"?"":""})]}),E.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[E.jsxs("span",{children:[" ",((pe=h[k.teacherCode])==null?void 0:pe.name)||k.teacherCode]}),E.jsxs("span",{children:[" ",k.dateDisplay||k.date]})]}),k.notes&&E.jsx("div",{className:"text-xs bg-yellow-50 text-yellow-800 p-1 mt-1 rounded",children:k.notes})]},Ot)})})]}),E.jsx("div",{className:"fixed bottom-14 left-0 right-0 p-4 flex justify-center z-30 pointer-events-none",children:E.jsxs(bt,{onClick:Ut,variant:"accent",className:"pointer-events-auto shadow-lg",children:[E.jsx(Fy,{className:"w-4 h-4 inline ml-2"}),"   (CSV)"]})})]}),e==="teachers"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs(xe,{title:" ",children:[E.jsx(ve,{label:"",value:C.name,onChange:k=>x({...C,name:k.target.value})}),E.jsx(ve,{label:"",value:C.code,onChange:k=>x({...C,code:k.target.value})}),E.jsx(ve,{label:" ",type:"password",value:C.password,onChange:k=>x({...C,password:k.target.value})}),E.jsx(ve,{label:"  ()",value:C.email||"",onChange:k=>x({...C,email:k.target.value})}),E.jsx(bt,{fullWidth:!0,onClick:it,children:""})]}),E.jsx(xe,{title:"",children:E.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar",children:Object.values(h).map(k=>{var Ot;return E.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center bg-gray-50",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold text-secondary text-lg",children:k.name}),E.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 mt-2",children:[E.jsxs("div",{className:"bg-blue-50 text-blue-800 px-2 py-1 rounded border border-blue-100",children:[": ",k.code]}),E.jsxs("div",{className:"bg-green-50 text-green-800 px-2 py-1 rounded border border-green-100",children:[" : ",k.password]}),k.email&&E.jsxs("div",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded border",children:[" ",k.email]}),E.jsxs("div",{className:"bg-purple-50 text-purple-800 px-2 py-1 rounded border border-purple-100",children:[" : ",((Ot=k.students)==null?void 0:Ot.length)||0]})]})]}),E.jsx(bt,{className:"p-2 h-10 w-10 flex items-center justify-center shrink-0 mr-2 text-lg",variant:"danger",onClick:()=>Et(k.code),children:""})]},k.code)})})})]}),e==="students"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs(xe,{title:"   ",children:[E.jsx(ve,{label:" ",value:A.name,onChange:k=>V({...A,name:k.target.value}),placeholder:" "}),E.jsxs(ld,{label:" ",value:A.teacherCode,onChange:k=>V({...A,teacherCode:k.target.value}),children:[E.jsx("option",{value:"",children:"--   --"}),Object.values(h).map(k=>E.jsx("option",{value:k.code,children:k.name},k.code))]}),E.jsx(ve,{label:"  /  ()",value:A.id,onChange:k=>V({...A,id:k.target.value}),placeholder:"   "}),E.jsxs(bt,{fullWidth:!0,onClick:lt,variant:"accent",disabled:It,children:[E.jsx(FE,{className:"w-4 h-4 inline ml-2"})," "]})]}),E.jsxs(xe,{children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h2",{className:"text-xl font-bold text-secondary flex items-center gap-2",children:[E.jsx(KE,{className:"w-5 h-5"}),"  "]}),E.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold",children:[p.length," "]})]}),E.jsxs("div",{className:"relative mb-6",children:[E.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-3 pr-10 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 text-right",value:nt,onChange:k=>mt(k.target.value)}),E.jsx(GE,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),K.length===0?E.jsx("div",{className:"text-center py-8 text-gray-400",children:"   "}):E.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto custom-scrollbar",children:K.map(k=>{var Ot;return E.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50 hover:border-primary/30 transition-all",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{className:"flex items-center gap-3 w-full",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 text-secondary flex items-center justify-center font-bold text-lg shrink-0",children:k.name.charAt(0)}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold text-gray-800",children:k.name}),E.jsxs("div",{className:"flex gap-2 text-xs text-gray-500 mt-1 flex-wrap items-center",children:[E.jsx("span",{className:`px-2 py-0.5 rounded border ${(Ot=k.class)!=null&&Ot.includes("")?"bg-orange-50 text-orange-700 border-orange-200":"bg-gray-100"}`,children:k.class||" "}),E.jsxs("span",{className:"bg-white px-2 py-0.5 rounded border",children:["ID: ",k.id]}),k.registrationDate&&E.jsxs("span",{className:"bg-yellow-50 text-yellow-800 px-2 py-0.5 rounded border border-yellow-200",children:[": ",new Date(k.registrationDate).toLocaleDateString("ar-EG")]}),k.code!=="---"&&E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-0.5 rounded border border-green-200",children:[": ",k.code]}),E.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded border border-blue-200",children:[": ",k.password]})]})]})]})]}),E.jsx(bt,{className:"p-2 h-8 w-8 flex items-center justify-center bg-red-50 text-red-500 hover:bg-red-500 hover:text-white shrink-0",onClick:()=>Rt(k.id),title:"    ",children:""})]}),E.jsxs(bt,{fullWidth:!0,className:"text-sm py-2",variant:"primary",onClick:()=>da(k),disabled:k.code==="---",children:[E.jsx(kE,{className:"w-4 h-4 inline ml-1"}),"  "]})]},k.id)})})]})]}),e==="reports"&&E.jsx(xe,{title:"  ",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[E.jsx("h4",{className:"font-bold text-secondary mb-2",children:"  "}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-right mb-1 text-sm font-medium",children:"  :"}),E.jsxs("select",{value:ut,onChange:k=>Tt(k.target.value),className:"w-full p-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right",children:[E.jsx("option",{value:"",children:" "}),p.filter(k=>k.code&&k.code!=="---").map(k=>E.jsx("option",{value:k.code,children:k.name},k.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-right mb-1 text-sm font-medium",children:"  :"}),E.jsx("input",{type:"date",value:yt,onChange:k=>At(k.target.value),className:"w-full p-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right"})]}),E.jsx(bt,{variant:"secondary",onClick:()=>{Tt(""),At("")},className:"text-sm",children:"  "})]}),E.jsxs(bt,{onClick:()=>Ee(ut,yt),variant:"primary",fullWidth:!0,children:[E.jsx(Fy,{className:"ml-2 w-4 h-4"}),"    (Excel)"]}),E.jsx("div",{className:"text-sm text-gray-500 text-center mt-2",children:ut||yt?`  : ${ut?((Hi=p.find(k=>k.code===ut))==null?void 0:Hi.name)||" ":" "} ${yt?"- : "+new Date(yt).toLocaleDateString("ar-EG",{weekday:"long"})+" "+new Date(yt).toLocaleDateString("ar-EG"):""}`:"    "})]})}),e==="settings"&&E.jsxs(xe,{title:"",children:[E.jsx(ve,{label:"  ",type:"password",value:N.old,onChange:k=>j({...N,old:k.target.value})}),E.jsx(ve,{label:"",type:"password",value:N.new,onChange:k=>j({...N,new:k.target.value})}),E.jsx(ve,{label:"",type:"password",value:N.confirm,onChange:k=>j({...N,confirm:k.target.value})}),E.jsx(bt,{onClick:le,variant:"primary",fullWidth:!0,className:"mt-2",children:""})]}),R&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:E.jsxs(xe,{className:"w-full max-w-md max-h-[80vh] flex flex-col bg-white",title:`: ${R.student.name}`,children:[E.jsx("div",{className:"overflow-y-auto flex-1 custom-scrollbar p-1 space-y-3",children:R.logs.length===0?E.jsx("div",{className:"text-center py-10",children:"  "}):R.logs.map((k,Ot)=>E.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border",children:[E.jsxs("div",{className:"flex justify-between items-center font-bold text-primary mb-2 border-b pb-1",children:[E.jsxs("span",{children:[" ",k.dateDisplay||new Date(k.date).toLocaleDateString("ar-EG",{weekday:"long"})+" "+new Date(k.date).toLocaleDateString("ar-EG")]}),E.jsx("button",{onClick:()=>Y({log:k,studentName:R.student.name}),className:"text-sm bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:" "})]}),E.jsxs("div",{className:"text-sm space-y-1",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:":"})," ",k.newMemorizing]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:":"})," ",k.review]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:":"})," ",k.newTarget]}),k.notes&&E.jsx("div",{className:"text-xs text-yellow-700 bg-yellow-50 p-1 rounded mt-1",children:k.notes})]})]},Ot))}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>st(null),className:"mt-4",children:""})]})}),W&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[110] flex items-center justify-center p-4",children:E.jsxs(xe,{className:"w-full max-w-md bg-white",title:`    ${W.studentName}`,children:[E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4 text-sm",children:[E.jsxs("div",{className:"font-bold text-primary mb-1",children:[" ",W.log.dateDisplay]}),E.jsxs("div",{children:[": ",W.log.newMemorizing]}),E.jsxs("div",{children:[": ",W.log.review]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-2 text-right font-medium",children:" :"}),E.jsx("textarea",{value:at,onChange:k=>ht(k.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-right h-32",placeholder:"    ..."})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(bt,{fullWidth:!0,onClick:Pi,disabled:It,children:It?"...":" "}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>{Y(null),ht("")},children:""})]})]})}),Q&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:E.jsx("div",{className:"my-auto",children:E.jsx(gm,{userId:"admin",userName:"",userRole:"admin",recipients:[...Object.values(h).map(k=>({id:k.code,name:k.name,role:"teacher"})),...p.map(k=>({id:k.id,name:k.name,role:"student"}))],onClose:()=>tt(!1)})})})]})},tw=({teacher:s,onLogout:e})=>{var C,x;const[i,r]=dt.useState(s),[o,h]=dt.useState({}),[d,p]=dt.useState(!1),[v,_]=dt.useState(!1),[S,w]=dt.useState(!1),[I,Q]=dt.useState({name:"",id:""}),[tt,W]=dt.useState(""),[Y,at]=dt.useState(!1);dt.useEffect(()=>{(async()=>{var j;const N=(await Qt.getTeachers())[s.code];if(N){r(N);const R={};(j=N.students)==null||j.forEach(st=>R[st.name]={status:null,notes:""}),h(R)}})()},[s.code]);const ht=(A,V)=>{h(N=>{var j;return{...N,[A]:{...N[A],status:((j=N[A])==null?void 0:j.status)===V?null:V}}})},ut=(A,V)=>{h(N=>({...N,[A]:{...N[A],notes:V}}))},Tt=async()=>{const A=new Date,V=A.toLocaleDateString("ar-EG",{weekday:"long"}),N=A.toLocaleDateString("ar-EG"),j=`${V} ${N}`,R=Object.entries(o).filter(([st,It])=>It.status).map(([st,It])=>({id:`${Date.now()}-${Math.random()}`,teacherCode:i.code,studentName:st,status:It.status,notes:It.notes,date:A.toISOString().split("T")[0],dateDisplay:j}));if(!R.length)return alert(" ");at(!0),await Qt.saveAttendanceBatch(R),at(!1),alert(" "),e()},yt=async()=>{if(!I.name||!I.id)return alert(" ");const A={...i};if(A.students||(A.students=[]),A.students.some(V=>V.id===I.id))return alert("");A.students.push(I),at(!0),await Qt.saveTeacher(A),r(A),at(!1),Q({name:"",id:""}),alert("")},At=async()=>{if(tt.length<4)return alert("");const A={...i,password:tt};at(!0),await Qt.saveTeacher(A),r(A),at(!1),W(""),alert(""),_(!1)};return E.jsxs("div",{className:"pb-24",children:[E.jsxs(xe,{className:"mb-6 sticky top-4 z-40 border-green-100 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-secondary",children:""}),E.jsx("div",{className:"text-sm",children:i.name})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(bt,{variant:"secondary",onClick:()=>w(!0),className:"p-2 text-lg",children:""}),E.jsx(bt,{variant:"secondary",onClick:()=>_(!0),className:"p-2 text-lg",children:""}),E.jsx(bt,{variant:"accent",onClick:()=>p(!0),className:"px-3 text-sm",children:" "})]})]}),Y&&E.jsx("div",{className:"text-center py-2 text-primary",children:" ..."}),E.jsx("div",{className:"space-y-4",children:(C=i.students)==null?void 0:C.map(A=>{const V=o[A.name]||{status:null,notes:""};return E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border flex flex-col md:flex-row gap-4 items-center",children:[E.jsxs("div",{className:"flex-1 w-full text-right",children:[E.jsx("div",{className:"font-bold text-lg",children:A.name}),E.jsx("input",{type:"text",placeholder:"...",className:"w-full mt-2 p-2 border rounded bg-gray-50 text-right",value:V.notes,onChange:N=>ut(A.name,N.target.value)})]}),E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[E.jsx("button",{onClick:()=>ht(A.name,"absent"),className:`flex-1 px-4 py-3 rounded font-bold border transition-colors ${V.status==="absent"?"bg-red-500 text-white":"bg-red-50 text-red-500"}`,children:""}),E.jsx("button",{onClick:()=>ht(A.name,"present"),className:`flex-1 px-4 py-3 rounded font-bold border transition-colors ${V.status==="present"?"bg-green-500 text-white":"bg-green-50 text-green-500"}`,children:""})]})]},A.id)})}),E.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white p-4 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] flex gap-4 z-50",children:[E.jsx(bt,{variant:"danger",onClick:e,className:"flex-1",children:""}),E.jsx(bt,{onClick:Tt,className:"flex-[2]",disabled:Y,children:Y?"...":""})]}),d&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:E.jsxs(xe,{className:"w-full max-w-lg",title:" ",children:[E.jsxs("div",{className:"bg-gray-50 p-4 rounded mb-4",children:[E.jsx(ve,{label:"",value:I.name,onChange:A=>Q({...I,name:A.target.value})}),E.jsx(ve,{label:"",value:I.id,onChange:A=>Q({...I,id:A.target.value})}),E.jsx(bt,{fullWidth:!0,onClick:yt,variant:"accent",disabled:Y,children:""})]}),E.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:(x=i.students)==null?void 0:x.map(A=>E.jsxs("div",{className:"flex justify-between p-2 border bg-white",children:[E.jsx("span",{children:A.name}),E.jsx("button",{onClick:async()=>{if(confirm("")){const V={...i};V.students=V.students.filter(N=>N.id!==A.id),at(!0),await Qt.saveTeacher(V),r(V),at(!1)}},className:"text-red-500 text-lg",children:""})]},A.id))}),E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>p(!1),className:"mt-4",children:""})]})}),v&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:E.jsxs(xe,{title:"  ",children:[E.jsx(ve,{label:"",type:"password",value:tt,onChange:A=>W(A.target.value)}),E.jsxs("div",{className:"flex gap-2 mt-4",children:[E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>_(!1),children:""}),E.jsx(bt,{fullWidth:!0,onClick:At,disabled:Y,children:""})]})]})}),S&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:E.jsx("div",{className:"my-auto",children:E.jsx(gm,{userId:i.code,userName:i.name,userRole:"teacher",recipients:[{id:"admin",name:"",role:"admin"},...(i.students||[]).map(A=>({id:A.id,name:A.name,role:"student"}))],onClose:()=>w(!1)})})})]})},ew=({student:s,onLogout:e})=>{const[i,r]=dt.useState([]),[o,h]=dt.useState({newMemorizing:"",review:"",listening:"",newTarget:"",notes:""}),[d,p]=dt.useState(!1),[v,_]=dt.useState(""),[S,w]=dt.useState(!1),[I,Q]=dt.useState(!1);dt.useEffect(()=>{(async()=>{if(s.code){const at=await Qt.getStudentLogs(s.code);r(at)}})()},[s.code]);const tt=async()=>{if(!o.newMemorizing||!o.review||!o.listening||!o.newTarget)return alert(" ");if(!s.code)return alert("  ");const Y=new Date,at=Y.toLocaleDateString("ar-EG",{weekday:"long"}),ht=Y.toLocaleDateString("ar-EG"),ut={...o,studentCode:s.code,date:Y.toISOString(),dateDisplay:`${at} ${ht}`};w(!0),await Qt.saveStudentLog(s.code,ut),w(!1),r([ut,...i]),h({newMemorizing:"",review:"",listening:"",newTarget:"",notes:""}),alert(" ")},W=async()=>{if(v.length<4)return alert("");w(!0),await Qt.updateStudent({...s,password:v}),w(!1),_(""),alert(" "),e()};return E.jsxs("div",{className:"pb-20",children:[E.jsxs(xe,{className:"mb-6 bg-gradient-to-r from-green-50 to-white flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-2xl font-bold text-secondary",children:[" ",s.name]}),E.jsxs("div",{className:"text-sm text-gray-600",children:[": ",s.code]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(bt,{variant:"secondary",onClick:()=>Q(!0),className:"p-2 h-10 w-10 flex items-center justify-center text-xl",children:""}),E.jsx(bt,{variant:"secondary",onClick:()=>p(!0),className:"p-2 h-10 w-10 flex items-center justify-center text-xl",children:""})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(xe,{title:" ",children:[E.jsx(ve,{label:"  ",value:o.newMemorizing,onChange:Y=>h({...o,newMemorizing:Y.target.value})}),E.jsx(ve,{label:" ",value:o.review,onChange:Y=>h({...o,review:Y.target.value})}),E.jsxs(ld,{label:" ",value:o.listening,onChange:Y=>h({...o,listening:Y.target.value}),children:[E.jsx("option",{value:"",children:"--  --"}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]}),E.jsx(ve,{label:"  ",value:o.newTarget,onChange:Y=>h({...o,newTarget:Y.target.value})}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-2 text-right text-gray-700 font-medium",children:""}),E.jsx("textarea",{className:"w-full border-2 border-gray-200 p-3 rounded-lg focus:outline-none focus:border-primary text-right h-24",value:o.notes,onChange:Y=>h({...o,notes:Y.target.value})})]}),E.jsx(bt,{fullWidth:!0,onClick:tt,disabled:S,children:S?"...":""})]}),E.jsx(xe,{title:" ",className:"max-h-[800px] flex flex-col",children:E.jsxs("div",{className:"overflow-y-auto flex-1 custom-scrollbar space-y-4 pr-2",children:[i.length===0&&E.jsx("div",{className:"text-center py-10 text-gray-400",children:"  "}),i.map((Y,at)=>E.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border hover:border-green-200 transition-colors",children:[E.jsxs("div",{className:"font-bold text-primary mb-2 border-b pb-1",children:[" ",Y.dateDisplay]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-bold text-gray-700",children:":"})," ",Y.newMemorizing]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold text-gray-700",children:":"})," ",Y.review]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold text-gray-700",children:":"})," ",Y.listening]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold text-gray-700",children:":"})," ",Y.newTarget]})]}),Y.notes&&E.jsx("div",{className:"mt-2 text-xs bg-white p-2 border rounded text-gray-600",children:Y.notes})]},at))]})})]}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white p-4 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] flex justify-center z-50",children:E.jsxs(bt,{variant:"danger",onClick:e,className:"px-8 flex gap-2 items-center",children:[E.jsx(qE,{className:"w-4 h-4"})," "]})}),d&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:E.jsxs(xe,{title:"  ",children:[E.jsx(ve,{label:"",type:"password",value:v,onChange:Y=>_(Y.target.value)}),E.jsxs("div",{className:"flex gap-2 mt-4",children:[E.jsx(bt,{fullWidth:!0,variant:"secondary",onClick:()=>p(!1),children:""}),E.jsx(bt,{fullWidth:!0,onClick:W,disabled:S,children:""})]})]})}),I&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:E.jsx("div",{className:"my-auto",children:E.jsx(gm,{userId:s.code||"",userName:s.name,userRole:"student",recipients:[{id:"admin",name:"",role:"admin"}],onClose:()=>Q(!1)})})})]})},nw=()=>{const[s,e]=dt.useState("HOME"),[i,r]=dt.useState(null),[o,h]=dt.useState(!1),d=(_,S)=>{r({type:_,data:S}),_==="admin"&&e("DASHBOARD_ADMIN"),_==="teacher"&&e("DASHBOARD_TEACHER"),_==="student"&&e("DASHBOARD_STUDENT")},p=()=>{r(null),e("HOME")},v=()=>{switch(s){case"HOME":return E.jsx(Zl,{onNavigate:e});case"LOGIN_TEACHER":case"LOGIN_ADMIN":case"LOGIN_STUDENT":case"REGISTER_STUDENT":return E.jsx(JA,{view:s,onNavigate:e,onLoginSuccess:d});case"DASHBOARD_ADMIN":return(i==null?void 0:i.type)==="admin"?E.jsx(WA,{onLogout:p}):E.jsx(Zl,{onNavigate:e});case"DASHBOARD_TEACHER":return(i==null?void 0:i.type)==="teacher"?E.jsx(tw,{teacher:i.data,onLogout:p}):E.jsx(Zl,{onNavigate:e});case"DASHBOARD_STUDENT":return(i==null?void 0:i.type)==="student"?E.jsx(ew,{student:i.data,onLogout:p}):E.jsx(Zl,{onNavigate:e});default:return E.jsx(Zl,{onNavigate:e})}};return E.jsx("div",{className:"min-h-screen relative bg-gray-100 flex justify-center items-start pt-0 md:pt-4 font-amiri",children:E.jsxs("div",{className:"w-full max-w-md md:max-w-4xl bg-gradient-to-br from-bgStart to-bgEnd min-h-screen shadow-2xl relative flex flex-col md:rounded-xl overflow-hidden border-x border-gray-200",children:[E.jsx("header",{className:"sticky top-0 z-50 bg-secondary text-white shadow-md",children:E.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 w-full",children:[E.jsx("div",{className:"shrink-0",children:o?E.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center border border-white/30",children:E.jsx(XE,{className:"w-6 h-6 text-white/90"})}):E.jsx("img",{src:"sheikh.jpg",alt:"",className:"w-10 h-10 rounded-full object-cover border border-white/40 shadow-sm bg-white",onError:_=>{h(!0),_.currentTarget.style.display="none"}})}),E.jsx("h1",{className:"text-xl md:text-2xl font-bold whitespace-nowrap overflow-hidden text-ellipsis flex-1 leading-relaxed pt-1",children:"      "})]})}),E.jsx("main",{className:"flex-1 px-4 py-6 pb-28 overflow-x-hidden w-full",children:v()}),E.jsx("footer",{className:"absolute bottom-0 left-0 w-full bg-white/95 backdrop-blur-md shadow-[0_-4px_20px_rgba(0,0,0,0.08)] py-4 px-6 z-40 border-t border-gray-100 block",children:E.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-3 text-sm font-bold text-gray-700",children:[E.jsx("span",{className:"text-gray-500 text-xs mb-1 md:mb-0",children:"  :"}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[E.jsxs("a",{href:"https://wa.me/201060936428",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-white bg-[#25D366] hover:bg-[#20bd5a] px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md",children:[E.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:E.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.272-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.67-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.076 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421-7.403h-.004a9.87 9.87 0 00-4.951 1.263l-.355.192-.368-.06 1.41 5.209.9.003c1.231-1.187 2.927-1.9 4.773-1.9 4.97 0 9.005 4.028 9.005 9.009 0 4.983-4.032 9.015-9.009 9.015-4.981 0-9.01-4.032-9.01-9.015 0-1.946.648-3.835 1.8-5.36l.134-.341-.086-.368-1.41-5.209-.37-.056.192-.355A9.87 9.87 0 0112.051 2c5.495 0 9.973 4.478 9.973 9.973 0 5.495-4.478 9.973-9.973 9.973-5.495 0-9.973-4.478-9.973-9.973 0-2.15.697-4.243 1.977-6.004"})}),E.jsx("span",{className:"font-sans pt-0.5",children:"01060936428"})]}),E.jsxs("a",{href:"https://t.me/SaaD2961",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-white bg-[#0088cc] hover:bg-[#0077b5] px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md",children:[E.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:E.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 11.944 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),E.jsx("span",{className:"font-sans pt-0.5",children:"@SaaD2961"})]})]})]})})]})})};zE.createRoot(document.getElementById("root")).render(E.jsx(CE.StrictMode,{children:E.jsx(nw,{})}));
